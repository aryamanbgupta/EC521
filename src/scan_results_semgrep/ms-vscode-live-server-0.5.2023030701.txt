<?xml version="1.0" ?>
<testsuites disabled="0" errors="0" failures="9" tests="9" time="0.0">
	<testsuite disabled="0" errors="0" failures="9" name="semgrep results" skipped="0" tests="9" time="0">
		<testcase name="javascript.browser.security.insufficient-postmessage-origin-validation.insufficient-postmessage-origin-validation" classname="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/injectScript.js" file="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/injectScript.js" line="13">
			<failure type="WARNING" message="No validation of origin is done by the addEventListener API. It may be possible to exploit this flaw to perform Cross Origin attacks such as Cross-Site Scripting(XSS).">window.addEventListener('message', (event) =&gt; handleMessage(event), false);
</failure>
		</testcase>
		<testcase name="javascript.browser.security.insufficient-postmessage-origin-validation.insufficient-postmessage-origin-validation" classname="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" file="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" line="99">
			<failure type="WARNING" message="No validation of origin is done by the addEventListener API. It may be possible to exploit this flaw to perform Cross Origin attacks such as Cross-Site Scripting(XSS).">		window.addEventListener('message', (event) =&gt; {
			handleMessage(event.data); // The json data that the extension sent
		});
</failure>
		</testcase>
		<testcase name="javascript.browser.security.wildcard-postmessage-configuration.wildcard-postmessage-configuration" classname="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/injectScript.js" file="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/injectScript.js" line="281">
			<failure type="WARNING" message="The target origin of the window.postMessage() API is set to &quot;*&quot;. This could allow for information disclosure due to the possibility of any origin allowed to receive the message.">		window.parent.postMessage(data, '*');
</failure>
		</testcase>
		<testcase name="javascript.browser.security.wildcard-postmessage-configuration.wildcard-postmessage-configuration" classname="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" file="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" line="103">
			<failure type="WARNING" message="The target origin of the window.postMessage() API is set to &quot;*&quot;. This could allow for information disclosure due to the possibility of any origin allowed to receive the message.">		document.getElementById('hostedContent').contentWindow.postMessage(
			{
				command: 'setup-parent-listener',
			},
			'*'
		);
</failure>
		</testcase>
		<testcase name="javascript.browser.security.wildcard-postmessage-configuration.wildcard-postmessage-configuration" classname="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" file="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" line="246">
			<failure type="WARNING" message="The target origin of the window.postMessage() API is set to &quot;*&quot;. This could allow for information disclosure due to the possibility of any origin allowed to receive the message.">				document.getElementById('hostedContent').contentWindow.postMessage(
					JSON.stringify({
						command: 'setup-parent-listener',
					}),
					'*'
				);
</failure>
		</testcase>
		<testcase name="javascript.browser.security.wildcard-postmessage-configuration.wildcard-postmessage-configuration" classname="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" file="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" line="405">
			<failure type="WARNING" message="The target origin of the window.postMessage() API is set to &quot;*&quot;. This could allow for information disclosure due to the possibility of any origin allowed to receive the message.">		document.getElementById('hostedContent').contentWindow.postMessage(
			{
				command: 'find-next',
				text: document.getElementById('find-input').value,
			},
			'*'
		);
</failure>
		</testcase>
		<testcase name="javascript.browser.security.wildcard-postmessage-configuration.wildcard-postmessage-configuration" classname="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" file="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" line="418">
			<failure type="WARNING" message="The target origin of the window.postMessage() API is set to &quot;*&quot;. This could allow for information disclosure due to the possibility of any origin allowed to receive the message.">		document.getElementById('hostedContent').contentWindow.postMessage(
			{
				command: 'find-prev',
				text: document.getElementById('find-input').value,
			},
			'*'
		);
</failure>
		</testcase>
		<testcase name="javascript.browser.security.wildcard-postmessage-configuration.wildcard-postmessage-configuration" classname="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" file="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/media/main.js" line="444">
			<failure type="WARNING" message="The target origin of the window.postMessage() API is set to &quot;*&quot;. This could allow for information disclosure due to the possibility of any origin allowed to receive the message.">			document
				.getElementById('hostedContent')
				.contentWindow.postMessage({ command: 'refresh-forced' }, '*');
</failure>
		</testcase>
		<testcase name="javascript.lang.security.detect-insecure-websocket.detect-insecure-websocket" classname="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/out/extension.js" file="/Users/zta/Documents/EC521/src/unzipped/ms-vscode-live-server-0.5.2023030701/extension/out/extension.js" line="1">
			<failure type="ERROR" message="Insecure WebSocket Detected. WebSocket Secure (wss) should be used for all WebSocket connections.">(()=&gt;{var e={3255:e=&gt;{function t(e){var t=new Error(&quot;Cannot find module '&quot;+e+&quot;'&quot;);throw t.code=&quot;MODULE_NOT_FOUND&quot;,t}t.keys=()=&gt;[],t.resolve=t,t.id=3255,e.exports=t},9118:e=&gt;{function t(e){var t=new Error(&quot;Cannot find module '&quot;+e+&quot;'&quot;);throw t.code=&quot;MODULE_NOT_FOUND&quot;,t}t.keys=()=&gt;[],t.resolve=t,t.id=9118,e.exports=t},1738:e=&gt;{&quot;use strict&quot;;e.exports=(e,t,r)=&gt;{const n=r=&gt;Object.defineProperty(e,t,{value:r,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=r();return n(e),e},set(e){n(e)}}),e}},4548:(e,t,r)=&gt;{&quot;use strict&quot;;const n=r(7147);let i;e.exports=()=&gt;(void 0===i&amp;&amp;(i=function(){try{return n.statSync(&quot;/.dockerenv&quot;),!0}catch(e){return!1}}()||function(){try{return n.readFileSync(&quot;/proc/self/cgroup&quot;,&quot;utf8&quot;).includes(&quot;docker&quot;)}catch(e){return!1}}()),i)},4570:(e,t,r)=&gt;{&quot;use strict&quot;;const n=r(2037),i=r(7147),o=r(4548),s=()=&gt;{if(&quot;linux&quot;!==process.platform)return!1;if(n.release().toLowerCase().includes(&quot;microsoft&quot;))return!o();try{return!!i.readFileSync(&quot;/proc/version&quot;,&quot;utf8&quot;).toLowerCase().includes(&quot;microsoft&quot;)&amp;&amp;!o()}catch(e){return!1}};process.env.__IS_WSL_TEST__?e.exports=s:e.exports=s()},5729:e=&gt;{&quot;use strict&quot;;function t(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e&lt;arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}t.prototype.define=function(e,t){for(let r in e){let n=e[r].map((function(e){return e.toLowerCase()}));r=r.toLowerCase();for(let e=0;e&lt;n.length;e++){const i=n[e];if(&quot;*&quot;!==i[0]){if(!t&amp;&amp;i in this._types)throw new Error('Attempt to change mapping for &quot;'+i+'&quot; extension from &quot;'+this._types[i]+'&quot; to &quot;'+r+'&quot;. Pass `force=true` to allow this, otherwise remove &quot;'+i+'&quot; from the list of extensions for &quot;'+r+'&quot;.');this._types[i]=r}}if(t||!this._extensions[r]){const e=n[0];this._extensions[r]=&quot;*&quot;!==e[0]?e:e.substr(1)}}},t.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,&quot;&quot;).toLowerCase(),r=t.replace(/^.*\./,&quot;&quot;).toLowerCase(),n=t.length&lt;e.length;return(r.length&lt;t.length-1||!n)&amp;&amp;this._types[r]||null},t.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&amp;&amp;RegExp.$1)&amp;&amp;this._extensions[e.toLowerCase()]||null},e.exports=t},8772:(e,t,r)=&gt;{&quot;use strict&quot;;let n=r(5729);e.exports=new n(r(4277),r(6580))},6580:e=&gt;{e.exports={&quot;application/prs.cww&quot;:[&quot;cww&quot;],&quot;application/vnd.1000minds.decision-model+xml&quot;:[&quot;1km&quot;],&quot;application/vnd.3gpp.pic-bw-large&quot;:[&quot;plb&quot;],&quot;application/vnd.3gpp.pic-bw-small&quot;:[&quot;psb&quot;],&quot;application/vnd.3gpp.pic-bw-var&quot;:[&quot;pvb&quot;],&quot;application/vnd.3gpp2.tcap&quot;:[&quot;tcap&quot;],&quot;application/vnd.3m.post-it-notes&quot;:[&quot;pwn&quot;],&quot;application/vnd.accpac.simply.aso&quot;:[&quot;aso&quot;],&quot;application/vnd.accpac.simply.imp&quot;:[&quot;imp&quot;],&quot;application/vnd.acucobol&quot;:[&quot;acu&quot;],&quot;application/vnd.acucorp&quot;:[&quot;atc&quot;,&quot;acutc&quot;],&quot;application/vnd.adobe.air-application-installer-package+zip&quot;:[&quot;air&quot;],&quot;application/vnd.adobe.formscentral.fcdt&quot;:[&quot;fcdt&quot;],&quot;application/vnd.adobe.fxp&quot;:[&quot;fxp&quot;,&quot;fxpl&quot;],&quot;application/vnd.adobe.xdp+xml&quot;:[&quot;xdp&quot;],&quot;application/vnd.adobe.xfdf&quot;:[&quot;xfdf&quot;],&quot;application/vnd.ahead.space&quot;:[&quot;ahead&quot;],&quot;application/vnd.airzip.filesecure.azf&quot;:[&quot;azf&quot;],&quot;application/vnd.airzip.filesecure.azs&quot;:[&quot;azs&quot;],&quot;application/vnd.amazon.ebook&quot;:[&quot;azw&quot;],&quot;application/vnd.americandynamics.acc&quot;:[&quot;acc&quot;],&quot;application/vnd.amiga.ami&quot;:[&quot;ami&quot;],&quot;application/vnd.android.package-archive&quot;:[&quot;apk&quot;],&quot;application/vnd.anser-web-certificate-issue-initiation&quot;:[&quot;cii&quot;],&quot;application/vnd.anser-web-funds-transfer-initiation&quot;:[&quot;fti&quot;],&quot;application/vnd.antix.game-component&quot;:[&quot;atx&quot;],&quot;application/vnd.apple.installer+xml&quot;:[&quot;mpkg&quot;],&quot;application/vnd.apple.keynote&quot;:[&quot;key&quot;],&quot;application/vnd.apple.mpegurl&quot;:[&quot;m3u8&quot;],&quot;application/vnd.apple.numbers&quot;:[&quot;numbers&quot;],&quot;application/vnd.apple.pages&quot;:[&quot;pages&quot;],&quot;application/vnd.apple.pkpass&quot;:[&quot;pkpass&quot;],&quot;application/vnd.aristanetworks.swi&quot;:[&quot;swi&quot;],&quot;application/vnd.astraea-software.iota&quot;:[&quot;iota&quot;],&quot;application/vnd.audiograph&quot;:[&quot;aep&quot;],&quot;application/vnd.balsamiq.bmml+xml&quot;:[&quot;bmml&quot;],&quot;application/vnd.blueice.multipass&quot;:[&quot;mpm&quot;],&quot;application/vnd.bmi&quot;:[&quot;bmi&quot;],&quot;application/vnd.businessobjects&quot;:[&quot;rep&quot;],&quot;application/vnd.chemdraw+xml&quot;:[&quot;cdxml&quot;],&quot;application/vnd.chipnuts.karaoke-mmd&quot;:[&quot;mmd&quot;],&quot;application/vnd.cinderella&quot;:[&quot;cdy&quot;],&quot;application/vnd.citationstyles.style+xml&quot;:[&quot;csl&quot;],&quot;application/vnd.claymore&quot;:[&quot;cla&quot;],&quot;application/vnd.cloanto.rp9&quot;:[&quot;rp9&quot;],&quot;application/vnd.clonk.c4group&quot;:[&quot;c4g&quot;,&quot;c4d&quot;,&quot;c4f&quot;,&quot;c4p&quot;,&quot;c4u&quot;],&quot;application/vnd.cluetrust.cartomobile-config&quot;:[&quot;c11amc&quot;],&quot;application/vnd.cluetrust.cartomobile-config-pkg&quot;:[&quot;c11amz&quot;],&quot;application/vnd.commonspace&quot;:[&quot;csp&quot;],&quot;application/vnd.contact.cmsg&quot;:[&quot;cdbcmsg&quot;],&quot;application/vnd.cosmocaller&quot;:[&quot;cmc&quot;],&quot;application/vnd.crick.clicker&quot;:[&quot;clkx&quot;],&quot;application/vnd.crick.clicker.keyboard&quot;:[&quot;clkk&quot;],&quot;application/vnd.crick.clicker.palette&quot;:[&quot;clkp&quot;],&quot;application/vnd.crick.clicker.template&quot;:[&quot;clkt&quot;],&quot;application/vnd.crick.clicker.wordbank&quot;:[&quot;clkw&quot;],&quot;application/vnd.criticaltools.wbs+xml&quot;:[&quot;wbs&quot;],&quot;application/vnd.ctc-posml&quot;:[&quot;pml&quot;],&quot;application/vnd.cups-ppd&quot;:[&quot;ppd&quot;],&quot;application/vnd.curl.car&quot;:[&quot;car&quot;],&quot;application/vnd.curl.pcurl&quot;:[&quot;pcurl&quot;],&quot;application/vnd.dart&quot;:[&quot;dart&quot;],&quot;application/vnd.data-vision.rdz&quot;:[&quot;rdz&quot;],&quot;application/vnd.dbf&quot;:[&quot;dbf&quot;],&quot;application/vnd.dece.data&quot;:[&quot;uvf&quot;,&quot;uvvf&quot;,&quot;uvd&quot;,&quot;uvvd&quot;],&quot;application/vnd.dece.ttml+xml&quot;:[&quot;uvt&quot;,&quot;uvvt&quot;],&quot;application/vnd.dece.unspecified&quot;:[&quot;uvx&quot;,&quot;uvvx&quot;],&quot;application/vnd.dece.zip&quot;:[&quot;uvz&quot;,&quot;uvvz&quot;],&quot;application/vnd.denovo.fcselayout-link&quot;:[&quot;fe_launch&quot;],&quot;application/vnd.dna&quot;:[&quot;dna&quot;],&quot;application/vnd.dolby.mlp&quot;:[&quot;mlp&quot;],&quot;application/vnd.dpgraph&quot;:[&quot;dpg&quot;],&quot;application/vnd.dreamfactory&quot;:[&quot;dfac&quot;],&quot;application/vnd.ds-keypoint&quot;:[&quot;kpxx&quot;],&quot;application/vnd.dvb.ait&quot;:[&quot;ait&quot;],&quot;application/vnd.dvb.service&quot;:[&quot;svc&quot;],&quot;application/vnd.dynageo&quot;:[&quot;geo&quot;],&quot;application/vnd.ecowin.chart&quot;:[&quot;mag&quot;],&quot;application/vnd.enliven&quot;:[&quot;nml&quot;],&quot;application/vnd.epson.esf&quot;:[&quot;esf&quot;],&quot;application/vnd.epson.msf&quot;:[&quot;msf&quot;],&quot;application/vnd.epson.quickanime&quot;:[&quot;qam&quot;],&quot;application/vnd.epson.salt&quot;:[&quot;slt&quot;],&quot;application/vnd.epson.ssf&quot;:[&quot;ssf&quot;],&quot;application/vnd.eszigno3+xml&quot;:[&quot;es3&quot;,&quot;et3&quot;],&quot;application/vnd.ezpix-album&quot;:[&quot;ez2&quot;],&quot;application/vnd.ezpix-package&quot;:[&quot;ez3&quot;],&quot;application/vnd.fdf&quot;:[&quot;fdf&quot;],&quot;application/vnd.fdsn.mseed&quot;:[&quot;mseed&quot;],&quot;application/vnd.fdsn.seed&quot;:[&quot;seed&quot;,&quot;dataless&quot;],&quot;application/vnd.flographit&quot;:[&quot;gph&quot;],&quot;application/vnd.fluxtime.clip&quot;:[&quot;ftc&quot;],&quot;application/vnd.framemaker&quot;:[&quot;fm&quot;,&quot;frame&quot;,&quot;maker&quot;,&quot;book&quot;],&quot;application/vnd.frogans.fnc&quot;:[&quot;fnc&quot;],&quot;application/vnd.frogans.ltf&quot;:[&quot;ltf&quot;],&quot;application/vnd.fsc.weblaunch&quot;:[&quot;fsc&quot;],&quot;application/vnd.fujitsu.oasys&quot;:[&quot;oas&quot;],&quot;application/vnd.fujitsu.oasys2&quot;:[&quot;oa2&quot;],&quot;application/vnd.fujitsu.oasys3&quot;:[&quot;oa3&quot;],&quot;application/vnd.fujitsu.oasysgp&quot;:[&quot;fg5&quot;],&quot;application/vnd.fujitsu.oasysprs&quot;:[&quot;bh2&quot;],&quot;application/vnd.fujixerox.ddd&quot;:[&quot;ddd&quot;],&quot;application/vnd.fujixerox.docuworks&quot;:[&quot;xdw&quot;],&quot;application/vnd.fujixerox.docuworks.binder&quot;:[&quot;xbd&quot;],&quot;application/vnd.fuzzysheet&quot;:[&quot;fzs&quot;],&quot;application/vnd.genomatix.tuxedo&quot;:[&quot;txd&quot;],&quot;application/vnd.geogebra.file&quot;:[&quot;ggb&quot;],&quot;application/vnd.geogebra.tool&quot;:[&quot;ggt&quot;],&quot;application/vnd.geometry-explorer&quot;:[&quot;gex&quot;,&quot;gre&quot;],&quot;application/vnd.geonext&quot;:[&quot;gxt&quot;],&quot;application/vnd.geoplan&quot;:[&quot;g2w&quot;],&quot;application/vnd.geospace&quot;:[&quot;g3w&quot;],&quot;application/vnd.gmx&quot;:[&quot;gmx&quot;],&quot;application/vnd.google-apps.document&quot;:[&quot;gdoc&quot;],&quot;application/vnd.google-apps.presentation&quot;:[&quot;gslides&quot;],&quot;application/vnd.google-apps.spreadsheet&quot;:[&quot;gsheet&quot;],&quot;application/vnd.google-earth.kml+xml&quot;:[&quot;kml&quot;],&quot;application/vnd.google-earth.kmz&quot;:[&quot;kmz&quot;],&quot;application/vnd.grafeq&quot;:[&quot;gqf&quot;,&quot;gqs&quot;],&quot;application/vnd.groove-account&quot;:[&quot;gac&quot;],&quot;application/vnd.groove-help&quot;:[&quot;ghf&quot;],&quot;application/vnd.groove-identity-message&quot;:[&quot;gim&quot;],&quot;application/vnd.groove-injector&quot;:[&quot;grv&quot;],&quot;application/vnd.groove-tool-message&quot;:[&quot;gtm&quot;],&quot;application/vnd.groove-tool-template&quot;:[&quot;tpl&quot;],&quot;application/vnd.groove-vcard&quot;:[&quot;vcg&quot;],&quot;application/vnd.hal+xml&quot;:[&quot;hal&quot;],&quot;application/vnd.handheld-entertainment+xml&quot;:[&quot;zmm&quot;],&quot;application/vnd.hbci&quot;:[&quot;hbci&quot;],&quot;application/vnd.hhe.lesson-player&quot;:[&quot;les&quot;],&quot;application/vnd.hp-hpgl&quot;:[&quot;hpgl&quot;],&quot;application/vnd.hp-hpid&quot;:[&quot;hpid&quot;],&quot;application/vnd.hp-hps&quot;:[&quot;hps&quot;],&quot;application/vnd.hp-jlyt&quot;:[&quot;jlt&quot;],&quot;application/vnd.hp-pcl&quot;:[&quot;pcl&quot;],&quot;application/vnd.hp-pclxl&quot;:[&quot;pclxl&quot;],&quot;application/vnd.hydrostatix.sof-data&quot;:[&quot;sfd-hdstx&quot;],&quot;application/vnd.ibm.minipay&quot;:[&quot;mpy&quot;],&quot;application/vnd.ibm.modcap&quot;:[&quot;afp&quot;,&quot;listafp&quot;,&quot;list3820&quot;],&quot;application/vnd.ibm.rights-management&quot;:[&quot;irm&quot;],&quot;application/vnd.ibm.secure-container&quot;:[&quot;sc&quot;],&quot;application/vnd.iccprofile&quot;:[&quot;icc&quot;,&quot;icm&quot;],&quot;application/vnd.igloader&quot;:[&quot;igl&quot;],&quot;application/vnd.immervision-ivp&quot;:[&quot;ivp&quot;],&quot;application/vnd.immervision-ivu&quot;:[&quot;ivu&quot;],&quot;application/vnd.insors.igm&quot;:[&quot;igm&quot;],&quot;application/vnd.intercon.formnet&quot;:[&quot;xpw&quot;,&quot;xpx&quot;],&quot;application/vnd.intergeo&quot;:[&quot;i2g&quot;],&quot;application/vnd.intu.qbo&quot;:[&quot;qbo&quot;],&quot;application/vnd.intu.qfx&quot;:[&quot;qfx&quot;],&quot;application/vnd.ipunplugged.rcprofile&quot;:[&quot;rcprofile&quot;],&quot;application/vnd.irepository.package+xml&quot;:[&quot;irp&quot;],&quot;application/vnd.is-xpr&quot;:[&quot;xpr&quot;],&quot;application/vnd.isac.fcs&quot;:[&quot;fcs&quot;],&quot;application/vnd.jam&quot;:[&quot;jam&quot;],&quot;application/vnd.jcp.javame.midlet-rms&quot;:[&quot;rms&quot;],&quot;application/vnd.jisp&quot;:[&quot;jisp&quot;],&quot;application/vnd.joost.joda-archive&quot;:[&quot;joda&quot;],&quot;application/vnd.kahootz&quot;:[&quot;ktz&quot;,&quot;ktr&quot;],&quot;application/vnd.kde.karbon&quot;:[&quot;karbon&quot;],&quot;application/vnd.kde.kchart&quot;:[&quot;chrt&quot;],&quot;application/vnd.kde.kformula&quot;:[&quot;kfo&quot;],&quot;application/vnd.kde.kivio&quot;:[&quot;flw&quot;],&quot;application/vnd.kde.kontour&quot;:[&quot;kon&quot;],&quot;application/vnd.kde.kpresenter&quot;:[&quot;kpr&quot;,&quot;kpt&quot;],&quot;application/vnd.kde.kspread&quot;:[&quot;ksp&quot;],&quot;application/vnd.kde.kword&quot;:[&quot;kwd&quot;,&quot;kwt&quot;],&quot;application/vnd.kenameaapp&quot;:[&quot;htke&quot;],&quot;application/vnd.kidspiration&quot;:[&quot;kia&quot;],&quot;application/vnd.kinar&quot;:[&quot;kne&quot;,&quot;knp&quot;],&quot;application/vnd.koan&quot;:[&quot;skp&quot;,&quot;skd&quot;,&quot;skt&quot;,&quot;skm&quot;],&quot;application/vnd.kodak-descriptor&quot;:[&quot;sse&quot;],&quot;application/vnd.las.las+xml&quot;:[&quot;lasxml&quot;],&quot;application/vnd.llamagraphics.life-balance.desktop&quot;:[&quot;lbd&quot;],&quot;application/vnd.llamagraphics.life-balance.exchange+xml&quot;:[&quot;lbe&quot;],&quot;application/vnd.lotus-1-2-3&quot;:[&quot;123&quot;],&quot;application/vnd.lotus-approach&quot;:[&quot;apr&quot;],&quot;application/vnd.lotus-freelance&quot;:[&quot;pre&quot;],&quot;application/vnd.lotus-notes&quot;:[&quot;nsf&quot;],&quot;application/vnd.lotus-organizer&quot;:[&quot;org&quot;],&quot;application/vnd.lotus-screencam&quot;:[&quot;scm&quot;],&quot;application/vnd.lotus-wordpro&quot;:[&quot;lwp&quot;],&quot;application/vnd.macports.portpkg&quot;:[&quot;portpkg&quot;],&quot;application/vnd.mapbox-vector-tile&quot;:[&quot;mvt&quot;],&quot;application/vnd.mcd&quot;:[&quot;mcd&quot;],&quot;application/vnd.medcalcdata&quot;:[&quot;mc1&quot;],&quot;application/vnd.mediastation.cdkey&quot;:[&quot;cdkey&quot;],&quot;application/vnd.mfer&quot;:[&quot;mwf&quot;],&quot;application/vnd.mfmp&quot;:[&quot;mfm&quot;],&quot;application/vnd.micrografx.flo&quot;:[&quot;flo&quot;],&quot;application/vnd.micrografx.igx&quot;:[&quot;igx&quot;],&quot;application/vnd.mif&quot;:[&quot;mif&quot;],&quot;application/vnd.mobius.daf&quot;:[&quot;daf&quot;],&quot;application/vnd.mobius.dis&quot;:[&quot;dis&quot;],&quot;application/vnd.mobius.mbk&quot;:[&quot;mbk&quot;],&quot;application/vnd.mobius.mqy&quot;:[&quot;mqy&quot;],&quot;application/vnd.mobius.msl&quot;:[&quot;msl&quot;],&quot;application/vnd.mobius.plc&quot;:[&quot;plc&quot;],&quot;application/vnd.mobius.txf&quot;:[&quot;txf&quot;],&quot;application/vnd.mophun.application&quot;:[&quot;mpn&quot;],&quot;application/vnd.mophun.certificate&quot;:[&quot;mpc&quot;],&quot;application/vnd.mozilla.xul+xml&quot;:[&quot;xul&quot;],&quot;application/vnd.ms-artgalry&quot;:[&quot;cil&quot;],&quot;application/vnd.ms-cab-compressed&quot;:[&quot;cab&quot;],&quot;application/vnd.ms-excel&quot;:[&quot;xls&quot;,&quot;xlm&quot;,&quot;xla&quot;,&quot;xlc&quot;,&quot;xlt&quot;,&quot;xlw&quot;],&quot;application/vnd.ms-excel.addin.macroenabled.12&quot;:[&quot;xlam&quot;],&quot;application/vnd.ms-excel.sheet.binary.macroenabled.12&quot;:[&quot;xlsb&quot;],&quot;application/vnd.ms-excel.sheet.macroenabled.12&quot;:[&quot;xlsm&quot;],&quot;application/vnd.ms-excel.template.macroenabled.12&quot;:[&quot;xltm&quot;],&quot;application/vnd.ms-fontobject&quot;:[&quot;eot&quot;],&quot;application/vnd.ms-htmlhelp&quot;:[&quot;chm&quot;],&quot;application/vnd.ms-ims&quot;:[&quot;ims&quot;],&quot;application/vnd.ms-lrm&quot;:[&quot;lrm&quot;],&quot;application/vnd.ms-officetheme&quot;:[&quot;thmx&quot;],&quot;application/vnd.ms-outlook&quot;:[&quot;msg&quot;],&quot;application/vnd.ms-pki.seccat&quot;:[&quot;cat&quot;],&quot;application/vnd.ms-pki.stl&quot;:[&quot;*stl&quot;],&quot;application/vnd.ms-powerpoint&quot;:[&quot;ppt&quot;,&quot;pps&quot;,&quot;pot&quot;],&quot;application/vnd.ms-powerpoint.addin.macroenabled.12&quot;:[&quot;ppam&quot;],&quot;application/vnd.ms-powerpoint.presentation.macroenabled.12&quot;:[&quot;pptm&quot;],&quot;application/vnd.ms-powerpoint.slide.macroenabled.12&quot;:[&quot;sldm&quot;],&quot;application/vnd.ms-powerpoint.slideshow.macroenabled.12&quot;:[&quot;ppsm&quot;],&quot;application/vnd.ms-powerpoint.template.macroenabled.12&quot;:[&quot;potm&quot;],&quot;application/vnd.ms-project&quot;:[&quot;mpp&quot;,&quot;mpt&quot;],&quot;application/vnd.ms-word.document.macroenabled.12&quot;:[&quot;docm&quot;],&quot;application/vnd.ms-word.template.macroenabled.12&quot;:[&quot;dotm&quot;],&quot;application/vnd.ms-works&quot;:[&quot;wps&quot;,&quot;wks&quot;,&quot;wcm&quot;,&quot;wdb&quot;],&quot;application/vnd.ms-wpl&quot;:[&quot;wpl&quot;],&quot;application/vnd.ms-xpsdocument&quot;:[&quot;xps&quot;],&quot;application/vnd.mseq&quot;:[&quot;mseq&quot;],&quot;application/vnd.musician&quot;:[&quot;mus&quot;],&quot;application/vnd.muvee.style&quot;:[&quot;msty&quot;],&quot;application/vnd.mynfc&quot;:[&quot;taglet&quot;],&quot;application/vnd.neurolanguage.nlu&quot;:[&quot;nlu&quot;],&quot;application/vnd.nitf&quot;:[&quot;ntf&quot;,&quot;nitf&quot;],&quot;application/vnd.noblenet-directory&quot;:[&quot;nnd&quot;],&quot;application/vnd.noblenet-sealer&quot;:[&quot;nns&quot;],&quot;application/vnd.noblenet-web&quot;:[&quot;nnw&quot;],&quot;application/vnd.nokia.n-gage.ac+xml&quot;:[&quot;*ac&quot;],&quot;application/vnd.nokia.n-gage.data&quot;:[&quot;ngdat&quot;],&quot;application/vnd.nokia.n-gage.symbian.install&quot;:[&quot;n-gage&quot;],&quot;application/vnd.nokia.radio-preset&quot;:[&quot;rpst&quot;],&quot;application/vnd.nokia.radio-presets&quot;:[&quot;rpss&quot;],&quot;application/vnd.novadigm.edm&quot;:[&quot;edm&quot;],&quot;application/vnd.novadigm.edx&quot;:[&quot;edx&quot;],&quot;application/vnd.novadigm.ext&quot;:[&quot;ext&quot;],&quot;application/vnd.oasis.opendocument.chart&quot;:[&quot;odc&quot;],&quot;application/vnd.oasis.opendocument.chart-template&quot;:[&quot;otc&quot;],&quot;application/vnd.oasis.opendocument.database&quot;:[&quot;odb&quot;],&quot;application/vnd.oasis.opendocument.formula&quot;:[&quot;odf&quot;],&quot;application/vnd.oasis.opendocument.formula-template&quot;:[&quot;odft&quot;],&quot;application/vnd.oasis.opendocument.graphics&quot;:[&quot;odg&quot;],&quot;application/vnd.oasis.opendocument.graphics-template&quot;:[&quot;otg&quot;],&quot;application/vnd.oasis.opendocument.image&quot;:[&quot;odi&quot;],&quot;application/vnd.oasis.opendocument.image-template&quot;:[&quot;oti&quot;],&quot;application/vnd.oasis.opendocument.presentation&quot;:[&quot;odp&quot;],&quot;application/vnd.oasis.opendocument.presentation-template&quot;:[&quot;otp&quot;],&quot;application/vnd.oasis.opendocument.spreadsheet&quot;:[&quot;ods&quot;],&quot;application/vnd.oasis.opendocument.spreadsheet-template&quot;:[&quot;ots&quot;],&quot;application/vnd.oasis.opendocument.text&quot;:[&quot;odt&quot;],&quot;application/vnd.oasis.opendocument.text-master&quot;:[&quot;odm&quot;],&quot;application/vnd.oasis.opendocument.text-template&quot;:[&quot;ott&quot;],&quot;application/vnd.oasis.opendocument.text-web&quot;:[&quot;oth&quot;],&quot;application/vnd.olpc-sugar&quot;:[&quot;xo&quot;],&quot;application/vnd.oma.dd2+xml&quot;:[&quot;dd2&quot;],&quot;application/vnd.openblox.game+xml&quot;:[&quot;obgx&quot;],&quot;application/vnd.openofficeorg.extension&quot;:[&quot;oxt&quot;],&quot;application/vnd.openstreetmap.data+xml&quot;:[&quot;osm&quot;],&quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;:[&quot;pptx&quot;],&quot;application/vnd.openxmlformats-officedocument.presentationml.slide&quot;:[&quot;sldx&quot;],&quot;application/vnd.openxmlformats-officedocument.presentationml.slideshow&quot;:[&quot;ppsx&quot;],&quot;application/vnd.openxmlformats-officedocument.presentationml.template&quot;:[&quot;potx&quot;],&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;:[&quot;xlsx&quot;],&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.template&quot;:[&quot;xltx&quot;],&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;:[&quot;docx&quot;],&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.template&quot;:[&quot;dotx&quot;],&quot;application/vnd.osgeo.mapguide.package&quot;:[&quot;mgp&quot;],&quot;application/vnd.osgi.dp&quot;:[&quot;dp&quot;],&quot;application/vnd.osgi.subsystem&quot;:[&quot;esa&quot;],&quot;application/vnd.palm&quot;:[&quot;pdb&quot;,&quot;pqa&quot;,&quot;oprc&quot;],&quot;application/vnd.pawaafile&quot;:[&quot;paw&quot;],&quot;application/vnd.pg.format&quot;:[&quot;str&quot;],&quot;application/vnd.pg.osasli&quot;:[&quot;ei6&quot;],&quot;application/vnd.picsel&quot;:[&quot;efif&quot;],&quot;application/vnd.pmi.widget&quot;:[&quot;wg&quot;],&quot;application/vnd.pocketlearn&quot;:[&quot;plf&quot;],&quot;application/vnd.powerbuilder6&quot;:[&quot;pbd&quot;],&quot;application/vnd.previewsystems.box&quot;:[&quot;box&quot;],&quot;application/vnd.proteus.magazine&quot;:[&quot;mgz&quot;],&quot;application/vnd.publishare-delta-tree&quot;:[&quot;qps&quot;],&quot;application/vnd.pvi.ptid1&quot;:[&quot;ptid&quot;],&quot;application/vnd.quark.quarkxpress&quot;:[&quot;qxd&quot;,&quot;qxt&quot;,&quot;qwd&quot;,&quot;qwt&quot;,&quot;qxl&quot;,&quot;qxb&quot;],&quot;application/vnd.rar&quot;:[&quot;rar&quot;],&quot;application/vnd.realvnc.bed&quot;:[&quot;bed&quot;],&quot;application/vnd.recordare.musicxml&quot;:[&quot;mxl&quot;],&quot;application/vnd.recordare.musicxml+xml&quot;:[&quot;musicxml&quot;],&quot;application/vnd.rig.cryptonote&quot;:[&quot;cryptonote&quot;],&quot;application/vnd.rim.cod&quot;:[&quot;cod&quot;],&quot;application/vnd.rn-realmedia&quot;:[&quot;rm&quot;],&quot;application/vnd.rn-realmedia-vbr&quot;:[&quot;rmvb&quot;],&quot;application/vnd.route66.link66+xml&quot;:[&quot;link66&quot;],&quot;application/vnd.sailingtracker.track&quot;:[&quot;st&quot;],&quot;application/vnd.seemail&quot;:[&quot;see&quot;],&quot;application/vnd.sema&quot;:[&quot;sema&quot;],&quot;application/vnd.semd&quot;:[&quot;semd&quot;],&quot;application/vnd.semf&quot;:[&quot;semf&quot;],&quot;application/vnd.shana.informed.formdata&quot;:[&quot;ifm&quot;],&quot;application/vnd.shana.informed.formtemplate&quot;:[&quot;itp&quot;],&quot;application/vnd.shana.informed.interchange&quot;:[&quot;iif&quot;],&quot;application/vnd.shana.informed.package&quot;:[&quot;ipk&quot;],&quot;application/vnd.simtech-mindmapper&quot;:[&quot;twd&quot;,&quot;twds&quot;],&quot;application/vnd.smaf&quot;:[&quot;mmf&quot;],&quot;application/vnd.smart.teacher&quot;:[&quot;teacher&quot;],&quot;application/vnd.software602.filler.form+xml&quot;:[&quot;fo&quot;],&quot;application/vnd.solent.sdkm+xml&quot;:[&quot;sdkm&quot;,&quot;sdkd&quot;],&quot;application/vnd.spotfire.dxp&quot;:[&quot;dxp&quot;],&quot;application/vnd.spotfire.sfs&quot;:[&quot;sfs&quot;],&quot;application/vnd.stardivision.calc&quot;:[&quot;sdc&quot;],&quot;application/vnd.stardivision.draw&quot;:[&quot;sda&quot;],&quot;application/vnd.stardivision.impress&quot;:[&quot;sdd&quot;],&quot;application/vnd.stardivision.math&quot;:[&quot;smf&quot;],&quot;application/vnd.stardivision.writer&quot;:[&quot;sdw&quot;,&quot;vor&quot;],&quot;application/vnd.stardivision.writer-global&quot;:[&quot;sgl&quot;],&quot;application/vnd.stepmania.package&quot;:[&quot;smzip&quot;],&quot;application/vnd.stepmania.stepchart&quot;:[&quot;sm&quot;],&quot;application/vnd.sun.wadl+xml&quot;:[&quot;wadl&quot;],&quot;application/vnd.sun.xml.calc&quot;:[&quot;sxc&quot;],&quot;application/vnd.sun.xml.calc.template&quot;:[&quot;stc&quot;],&quot;application/vnd.sun.xml.draw&quot;:[&quot;sxd&quot;],&quot;application/vnd.sun.xml.draw.template&quot;:[&quot;std&quot;],&quot;application/vnd.sun.xml.impress&quot;:[&quot;sxi&quot;],&quot;application/vnd.sun.xml.impress.template&quot;:[&quot;sti&quot;],&quot;application/vnd.sun.xml.math&quot;:[&quot;sxm&quot;],&quot;application/vnd.sun.xml.writer&quot;:[&quot;sxw&quot;],&quot;application/vnd.sun.xml.writer.global&quot;:[&quot;sxg&quot;],&quot;application/vnd.sun.xml.writer.template&quot;:[&quot;stw&quot;],&quot;application/vnd.sus-calendar&quot;:[&quot;sus&quot;,&quot;susp&quot;],&quot;application/vnd.svd&quot;:[&quot;svd&quot;],&quot;application/vnd.symbian.install&quot;:[&quot;sis&quot;,&quot;sisx&quot;],&quot;application/vnd.syncml+xml&quot;:[&quot;xsm&quot;],&quot;application/vnd.syncml.dm+wbxml&quot;:[&quot;bdm&quot;],&quot;application/vnd.syncml.dm+xml&quot;:[&quot;xdm&quot;],&quot;application/vnd.syncml.dmddf+xml&quot;:[&quot;ddf&quot;],&quot;application/vnd.tao.intent-module-archive&quot;:[&quot;tao&quot;],&quot;application/vnd.tcpdump.pcap&quot;:[&quot;pcap&quot;,&quot;cap&quot;,&quot;dmp&quot;],&quot;application/vnd.tmobile-livetv&quot;:[&quot;tmo&quot;],&quot;application/vnd.trid.tpt&quot;:[&quot;tpt&quot;],&quot;application/vnd.triscape.mxs&quot;:[&quot;mxs&quot;],&quot;application/vnd.trueapp&quot;:[&quot;tra&quot;],&quot;application/vnd.ufdl&quot;:[&quot;ufd&quot;,&quot;ufdl&quot;],&quot;application/vnd.uiq.theme&quot;:[&quot;utz&quot;],&quot;application/vnd.umajin&quot;:[&quot;umj&quot;],&quot;application/vnd.unity&quot;:[&quot;unityweb&quot;],&quot;application/vnd.uoml+xml&quot;:[&quot;uoml&quot;],&quot;application/vnd.vcx&quot;:[&quot;vcx&quot;],&quot;application/vnd.visio&quot;:[&quot;vsd&quot;,&quot;vst&quot;,&quot;vss&quot;,&quot;vsw&quot;],&quot;application/vnd.visionary&quot;:[&quot;vis&quot;],&quot;application/vnd.vsf&quot;:[&quot;vsf&quot;],&quot;application/vnd.wap.wbxml&quot;:[&quot;wbxml&quot;],&quot;application/vnd.wap.wmlc&quot;:[&quot;wmlc&quot;],&quot;application/vnd.wap.wmlscriptc&quot;:[&quot;wmlsc&quot;],&quot;application/vnd.webturbo&quot;:[&quot;wtb&quot;],&quot;application/vnd.wolfram.player&quot;:[&quot;nbp&quot;],&quot;application/vnd.wordperfect&quot;:[&quot;wpd&quot;],&quot;application/vnd.wqd&quot;:[&quot;wqd&quot;],&quot;application/vnd.wt.stf&quot;:[&quot;stf&quot;],&quot;application/vnd.xara&quot;:[&quot;xar&quot;],&quot;application/vnd.xfdl&quot;:[&quot;xfdl&quot;],&quot;application/vnd.yamaha.hv-dic&quot;:[&quot;hvd&quot;],&quot;application/vnd.yamaha.hv-script&quot;:[&quot;hvs&quot;],&quot;application/vnd.yamaha.hv-voice&quot;:[&quot;hvp&quot;],&quot;application/vnd.yamaha.openscoreformat&quot;:[&quot;osf&quot;],&quot;application/vnd.yamaha.openscoreformat.osfpvg+xml&quot;:[&quot;osfpvg&quot;],&quot;application/vnd.yamaha.smaf-audio&quot;:[&quot;saf&quot;],&quot;application/vnd.yamaha.smaf-phrase&quot;:[&quot;spf&quot;],&quot;application/vnd.yellowriver-custom-menu&quot;:[&quot;cmp&quot;],&quot;application/vnd.zul&quot;:[&quot;zir&quot;,&quot;zirz&quot;],&quot;application/vnd.zzazz.deck+xml&quot;:[&quot;zaz&quot;],&quot;application/x-7z-compressed&quot;:[&quot;7z&quot;],&quot;application/x-abiword&quot;:[&quot;abw&quot;],&quot;application/x-ace-compressed&quot;:[&quot;ace&quot;],&quot;application/x-apple-diskimage&quot;:[&quot;*dmg&quot;],&quot;application/x-arj&quot;:[&quot;arj&quot;],&quot;application/x-authorware-bin&quot;:[&quot;aab&quot;,&quot;x32&quot;,&quot;u32&quot;,&quot;vox&quot;],&quot;application/x-authorware-map&quot;:[&quot;aam&quot;],&quot;application/x-authorware-seg&quot;:[&quot;aas&quot;],&quot;application/x-bcpio&quot;:[&quot;bcpio&quot;],&quot;application/x-bdoc&quot;:[&quot;*bdoc&quot;],&quot;application/x-bittorrent&quot;:[&quot;torrent&quot;],&quot;application/x-blorb&quot;:[&quot;blb&quot;,&quot;blorb&quot;],&quot;application/x-bzip&quot;:[&quot;bz&quot;],&quot;application/x-bzip2&quot;:[&quot;bz2&quot;,&quot;boz&quot;],&quot;application/x-cbr&quot;:[&quot;cbr&quot;,&quot;cba&quot;,&quot;cbt&quot;,&quot;cbz&quot;,&quot;cb7&quot;],&quot;application/x-cdlink&quot;:[&quot;vcd&quot;],&quot;application/x-cfs-compressed&quot;:[&quot;cfs&quot;],&quot;application/x-chat&quot;:[&quot;chat&quot;],&quot;application/x-chess-pgn&quot;:[&quot;pgn&quot;],&quot;application/x-chrome-extension&quot;:[&quot;crx&quot;],&quot;application/x-cocoa&quot;:[&quot;cco&quot;],&quot;application/x-conference&quot;:[&quot;nsc&quot;],&quot;application/x-cpio&quot;:[&quot;cpio&quot;],&quot;application/x-csh&quot;:[&quot;csh&quot;],&quot;application/x-debian-package&quot;:[&quot;*deb&quot;,&quot;udeb&quot;],&quot;application/x-dgc-compressed&quot;:[&quot;dgc&quot;],&quot;application/x-director&quot;:[&quot;dir&quot;,&quot;dcr&quot;,&quot;dxr&quot;,&quot;cst&quot;,&quot;cct&quot;,&quot;cxt&quot;,&quot;w3d&quot;,&quot;fgd&quot;,&quot;swa&quot;],&quot;application/x-doom&quot;:[&quot;wad&quot;],&quot;application/x-dtbncx+xml&quot;:[&quot;ncx&quot;],&quot;application/x-dtbook+xml&quot;:[&quot;dtb&quot;],&quot;application/x-dtbresource+xml&quot;:[&quot;res&quot;],&quot;application/x-dvi&quot;:[&quot;dvi&quot;],&quot;application/x-envoy&quot;:[&quot;evy&quot;],&quot;application/x-eva&quot;:[&quot;eva&quot;],&quot;application/x-font-bdf&quot;:[&quot;bdf&quot;],&quot;application/x-font-ghostscript&quot;:[&quot;gsf&quot;],&quot;application/x-font-linux-psf&quot;:[&quot;psf&quot;],&quot;application/x-font-pcf&quot;:[&quot;pcf&quot;],&quot;application/x-font-snf&quot;:[&quot;snf&quot;],&quot;application/x-font-type1&quot;:[&quot;pfa&quot;,&quot;pfb&quot;,&quot;pfm&quot;,&quot;afm&quot;],&quot;application/x-freearc&quot;:[&quot;arc&quot;],&quot;application/x-futuresplash&quot;:[&quot;spl&quot;],&quot;application/x-gca-compressed&quot;:[&quot;gca&quot;],&quot;application/x-glulx&quot;:[&quot;ulx&quot;],&quot;application/x-gnumeric&quot;:[&quot;gnumeric&quot;],&quot;application/x-gramps-xml&quot;:[&quot;gramps&quot;],&quot;application/x-gtar&quot;:[&quot;gtar&quot;],&quot;application/x-hdf&quot;:[&quot;hdf&quot;],&quot;application/x-httpd-php&quot;:[&quot;php&quot;],&quot;application/x-install-instructions&quot;:[&quot;install&quot;],&quot;application/x-iso9660-image&quot;:[&quot;*iso&quot;],&quot;application/x-iwork-keynote-sffkey&quot;:[&quot;*key&quot;],&quot;application/x-iwork-numbers-sffnumbers&quot;:[&quot;*numbers&quot;],&quot;application/x-iwork-pages-sffpages&quot;:[&quot;*pages&quot;],&quot;application/x-java-archive-diff&quot;:[&quot;jardiff&quot;],&quot;application/x-java-jnlp-file&quot;:[&quot;jnlp&quot;],&quot;application/x-keepass2&quot;:[&quot;kdbx&quot;],&quot;application/x-latex&quot;:[&quot;latex&quot;],&quot;application/x-lua-bytecode&quot;:[&quot;luac&quot;],&quot;application/x-lzh-compressed&quot;:[&quot;lzh&quot;,&quot;lha&quot;],&quot;application/x-makeself&quot;:[&quot;run&quot;],&quot;application/x-mie&quot;:[&quot;mie&quot;],&quot;application/x-mobipocket-ebook&quot;:[&quot;prc&quot;,&quot;mobi&quot;],&quot;application/x-ms-application&quot;:[&quot;application&quot;],&quot;application/x-ms-shortcut&quot;:[&quot;lnk&quot;],&quot;application/x-ms-wmd&quot;:[&quot;wmd&quot;],&quot;application/x-ms-wmz&quot;:[&quot;wmz&quot;],&quot;application/x-ms-xbap&quot;:[&quot;xbap&quot;],&quot;application/x-msaccess&quot;:[&quot;mdb&quot;],&quot;application/x-msbinder&quot;:[&quot;obd&quot;],&quot;application/x-mscardfile&quot;:[&quot;crd&quot;],&quot;application/x-msclip&quot;:[&quot;clp&quot;],&quot;application/x-msdos-program&quot;:[&quot;*exe&quot;],&quot;application/x-msdownload&quot;:[&quot;*exe&quot;,&quot;*dll&quot;,&quot;com&quot;,&quot;bat&quot;,&quot;*msi&quot;],&quot;application/x-msmediaview&quot;:[&quot;mvb&quot;,&quot;m13&quot;,&quot;m14&quot;],&quot;application/x-msmetafile&quot;:[&quot;*wmf&quot;,&quot;*wmz&quot;,&quot;*emf&quot;,&quot;emz&quot;],&quot;application/x-msmoney&quot;:[&quot;mny&quot;],&quot;application/x-mspublisher&quot;:[&quot;pub&quot;],&quot;application/x-msschedule&quot;:[&quot;scd&quot;],&quot;application/x-msterminal&quot;:[&quot;trm&quot;],&quot;application/x-mswrite&quot;:[&quot;wri&quot;],&quot;application/x-netcdf&quot;:[&quot;nc&quot;,&quot;cdf&quot;],&quot;application/x-ns-proxy-autoconfig&quot;:[&quot;pac&quot;],&quot;application/x-nzb&quot;:[&quot;nzb&quot;],&quot;application/x-perl&quot;:[&quot;pl&quot;,&quot;pm&quot;],&quot;application/x-pilot&quot;:[&quot;*prc&quot;,&quot;*pdb&quot;],&quot;application/x-pkcs12&quot;:[&quot;p12&quot;,&quot;pfx&quot;],&quot;application/x-pkcs7-certificates&quot;:[&quot;p7b&quot;,&quot;spc&quot;],&quot;application/x-pkcs7-certreqresp&quot;:[&quot;p7r&quot;],&quot;application/x-rar-compressed&quot;:[&quot;*rar&quot;],&quot;application/x-redhat-package-manager&quot;:[&quot;rpm&quot;],&quot;application/x-research-info-systems&quot;:[&quot;ris&quot;],&quot;application/x-sea&quot;:[&quot;sea&quot;],&quot;application/x-sh&quot;:[&quot;sh&quot;],&quot;application/x-shar&quot;:[&quot;shar&quot;],&quot;application/x-shockwave-flash&quot;:[&quot;swf&quot;],&quot;application/x-silverlight-app&quot;:[&quot;xap&quot;],&quot;application/x-sql&quot;:[&quot;sql&quot;],&quot;application/x-stuffit&quot;:[&quot;sit&quot;],&quot;application/x-stuffitx&quot;:[&quot;sitx&quot;],&quot;application/x-subrip&quot;:[&quot;srt&quot;],&quot;application/x-sv4cpio&quot;:[&quot;sv4cpio&quot;],&quot;application/x-sv4crc&quot;:[&quot;sv4crc&quot;],&quot;application/x-t3vm-image&quot;:[&quot;t3&quot;],&quot;application/x-tads&quot;:[&quot;gam&quot;],&quot;application/x-tar&quot;:[&quot;tar&quot;],&quot;application/x-tcl&quot;:[&quot;tcl&quot;,&quot;tk&quot;],&quot;application/x-tex&quot;:[&quot;tex&quot;],&quot;application/x-tex-tfm&quot;:[&quot;tfm&quot;],&quot;application/x-texinfo&quot;:[&quot;texinfo&quot;,&quot;texi&quot;],&quot;application/x-tgif&quot;:[&quot;*obj&quot;],&quot;application/x-ustar&quot;:[&quot;ustar&quot;],&quot;application/x-virtualbox-hdd&quot;:[&quot;hdd&quot;],&quot;application/x-virtualbox-ova&quot;:[&quot;ova&quot;],&quot;application/x-virtualbox-ovf&quot;:[&quot;ovf&quot;],&quot;application/x-virtualbox-vbox&quot;:[&quot;vbox&quot;],&quot;application/x-virtualbox-vbox-extpack&quot;:[&quot;vbox-extpack&quot;],&quot;application/x-virtualbox-vdi&quot;:[&quot;vdi&quot;],&quot;application/x-virtualbox-vhd&quot;:[&quot;vhd&quot;],&quot;application/x-virtualbox-vmdk&quot;:[&quot;vmdk&quot;],&quot;application/x-wais-source&quot;:[&quot;src&quot;],&quot;application/x-web-app-manifest+json&quot;:[&quot;webapp&quot;],&quot;application/x-x509-ca-cert&quot;:[&quot;der&quot;,&quot;crt&quot;,&quot;pem&quot;],&quot;application/x-xfig&quot;:[&quot;fig&quot;],&quot;application/x-xliff+xml&quot;:[&quot;*xlf&quot;],&quot;application/x-xpinstall&quot;:[&quot;xpi&quot;],&quot;application/x-xz&quot;:[&quot;xz&quot;],&quot;application/x-zmachine&quot;:[&quot;z1&quot;,&quot;z2&quot;,&quot;z3&quot;,&quot;z4&quot;,&quot;z5&quot;,&quot;z6&quot;,&quot;z7&quot;,&quot;z8&quot;],&quot;audio/vnd.dece.audio&quot;:[&quot;uva&quot;,&quot;uvva&quot;],&quot;audio/vnd.digital-winds&quot;:[&quot;eol&quot;],&quot;audio/vnd.dra&quot;:[&quot;dra&quot;],&quot;audio/vnd.dts&quot;:[&quot;dts&quot;],&quot;audio/vnd.dts.hd&quot;:[&quot;dtshd&quot;],&quot;audio/vnd.lucent.voice&quot;:[&quot;lvp&quot;],&quot;audio/vnd.ms-playready.media.pya&quot;:[&quot;pya&quot;],&quot;audio/vnd.nuera.ecelp4800&quot;:[&quot;ecelp4800&quot;],&quot;audio/vnd.nuera.ecelp7470&quot;:[&quot;ecelp7470&quot;],&quot;audio/vnd.nuera.ecelp9600&quot;:[&quot;ecelp9600&quot;],&quot;audio/vnd.rip&quot;:[&quot;rip&quot;],&quot;audio/x-aac&quot;:[&quot;aac&quot;],&quot;audio/x-aiff&quot;:[&quot;aif&quot;,&quot;aiff&quot;,&quot;aifc&quot;],&quot;audio/x-caf&quot;:[&quot;caf&quot;],&quot;audio/x-flac&quot;:[&quot;flac&quot;],&quot;audio/x-m4a&quot;:[&quot;*m4a&quot;],&quot;audio/x-matroska&quot;:[&quot;mka&quot;],&quot;audio/x-mpegurl&quot;:[&quot;m3u&quot;],&quot;audio/x-ms-wax&quot;:[&quot;wax&quot;],&quot;audio/x-ms-wma&quot;:[&quot;wma&quot;],&quot;audio/x-pn-realaudio&quot;:[&quot;ram&quot;,&quot;ra&quot;],&quot;audio/x-pn-realaudio-plugin&quot;:[&quot;rmp&quot;],&quot;audio/x-realaudio&quot;:[&quot;*ra&quot;],&quot;audio/x-wav&quot;:[&quot;*wav&quot;],&quot;chemical/x-cdx&quot;:[&quot;cdx&quot;],&quot;chemical/x-cif&quot;:[&quot;cif&quot;],&quot;chemical/x-cmdf&quot;:[&quot;cmdf&quot;],&quot;chemical/x-cml&quot;:[&quot;cml&quot;],&quot;chemical/x-csml&quot;:[&quot;csml&quot;],&quot;chemical/x-xyz&quot;:[&quot;xyz&quot;],&quot;image/prs.btif&quot;:[&quot;btif&quot;],&quot;image/prs.pti&quot;:[&quot;pti&quot;],&quot;image/vnd.adobe.photoshop&quot;:[&quot;psd&quot;],&quot;image/vnd.airzip.accelerator.azv&quot;:[&quot;azv&quot;],&quot;image/vnd.dece.graphic&quot;:[&quot;uvi&quot;,&quot;uvvi&quot;,&quot;uvg&quot;,&quot;uvvg&quot;],&quot;image/vnd.djvu&quot;:[&quot;djvu&quot;,&quot;djv&quot;],&quot;image/vnd.dvb.subtitle&quot;:[&quot;*sub&quot;],&quot;image/vnd.dwg&quot;:[&quot;dwg&quot;],&quot;image/vnd.dxf&quot;:[&quot;dxf&quot;],&quot;image/vnd.fastbidsheet&quot;:[&quot;fbs&quot;],&quot;image/vnd.fpx&quot;:[&quot;fpx&quot;],&quot;image/vnd.fst&quot;:[&quot;fst&quot;],&quot;image/vnd.fujixerox.edmics-mmr&quot;:[&quot;mmr&quot;],&quot;image/vnd.fujixerox.edmics-rlc&quot;:[&quot;rlc&quot;],&quot;image/vnd.microsoft.icon&quot;:[&quot;ico&quot;],&quot;image/vnd.ms-dds&quot;:[&quot;dds&quot;],&quot;image/vnd.ms-modi&quot;:[&quot;mdi&quot;],&quot;image/vnd.ms-photo&quot;:[&quot;wdp&quot;],&quot;image/vnd.net-fpx&quot;:[&quot;npx&quot;],&quot;image/vnd.pco.b16&quot;:[&quot;b16&quot;],&quot;image/vnd.tencent.tap&quot;:[&quot;tap&quot;],&quot;image/vnd.valve.source.texture&quot;:[&quot;vtf&quot;],&quot;image/vnd.wap.wbmp&quot;:[&quot;wbmp&quot;],&quot;image/vnd.xiff&quot;:[&quot;xif&quot;],&quot;image/vnd.zbrush.pcx&quot;:[&quot;pcx&quot;],&quot;image/x-3ds&quot;:[&quot;3ds&quot;],&quot;image/x-cmu-raster&quot;:[&quot;ras&quot;],&quot;image/x-cmx&quot;:[&quot;cmx&quot;],&quot;image/x-freehand&quot;:[&quot;fh&quot;,&quot;fhc&quot;,&quot;fh4&quot;,&quot;fh5&quot;,&quot;fh7&quot;],&quot;image/x-icon&quot;:[&quot;*ico&quot;],&quot;image/x-jng&quot;:[&quot;jng&quot;],&quot;image/x-mrsid-image&quot;:[&quot;sid&quot;],&quot;image/x-ms-bmp&quot;:[&quot;*bmp&quot;],&quot;image/x-pcx&quot;:[&quot;*pcx&quot;],&quot;image/x-pict&quot;:[&quot;pic&quot;,&quot;pct&quot;],&quot;image/x-portable-anymap&quot;:[&quot;pnm&quot;],&quot;image/x-portable-bitmap&quot;:[&quot;pbm&quot;],&quot;image/x-portable-graymap&quot;:[&quot;pgm&quot;],&quot;image/x-portable-pixmap&quot;:[&quot;ppm&quot;],&quot;image/x-rgb&quot;:[&quot;rgb&quot;],&quot;image/x-tga&quot;:[&quot;tga&quot;],&quot;image/x-xbitmap&quot;:[&quot;xbm&quot;],&quot;image/x-xpixmap&quot;:[&quot;xpm&quot;],&quot;image/x-xwindowdump&quot;:[&quot;xwd&quot;],&quot;message/vnd.wfa.wsc&quot;:[&quot;wsc&quot;],&quot;model/vnd.collada+xml&quot;:[&quot;dae&quot;],&quot;model/vnd.dwf&quot;:[&quot;dwf&quot;],&quot;model/vnd.gdl&quot;:[&quot;gdl&quot;],&quot;model/vnd.gtw&quot;:[&quot;gtw&quot;],&quot;model/vnd.mts&quot;:[&quot;mts&quot;],&quot;model/vnd.opengex&quot;:[&quot;ogex&quot;],&quot;model/vnd.parasolid.transmit.binary&quot;:[&quot;x_b&quot;],&quot;model/vnd.parasolid.transmit.text&quot;:[&quot;x_t&quot;],&quot;model/vnd.sap.vds&quot;:[&quot;vds&quot;],&quot;model/vnd.usdz+zip&quot;:[&quot;usdz&quot;],&quot;model/vnd.valve.source.compiled-map&quot;:[&quot;bsp&quot;],&quot;model/vnd.vtu&quot;:[&quot;vtu&quot;],&quot;text/prs.lines.tag&quot;:[&quot;dsc&quot;],&quot;text/vnd.curl&quot;:[&quot;curl&quot;],&quot;text/vnd.curl.dcurl&quot;:[&quot;dcurl&quot;],&quot;text/vnd.curl.mcurl&quot;:[&quot;mcurl&quot;],&quot;text/vnd.curl.scurl&quot;:[&quot;scurl&quot;],&quot;text/vnd.dvb.subtitle&quot;:[&quot;sub&quot;],&quot;text/vnd.fly&quot;:[&quot;fly&quot;],&quot;text/vnd.fmi.flexstor&quot;:[&quot;flx&quot;],&quot;text/vnd.graphviz&quot;:[&quot;gv&quot;],&quot;text/vnd.in3d.3dml&quot;:[&quot;3dml&quot;],&quot;text/vnd.in3d.spot&quot;:[&quot;spot&quot;],&quot;text/vnd.sun.j2me.app-descriptor&quot;:[&quot;jad&quot;],&quot;text/vnd.wap.wml&quot;:[&quot;wml&quot;],&quot;text/vnd.wap.wmlscript&quot;:[&quot;wmls&quot;],&quot;text/x-asm&quot;:[&quot;s&quot;,&quot;asm&quot;],&quot;text/x-c&quot;:[&quot;c&quot;,&quot;cc&quot;,&quot;cxx&quot;,&quot;cpp&quot;,&quot;h&quot;,&quot;hh&quot;,&quot;dic&quot;],&quot;text/x-component&quot;:[&quot;htc&quot;],&quot;text/x-fortran&quot;:[&quot;f&quot;,&quot;for&quot;,&quot;f77&quot;,&quot;f90&quot;],&quot;text/x-handlebars-template&quot;:[&quot;hbs&quot;],&quot;text/x-java-source&quot;:[&quot;java&quot;],&quot;text/x-lua&quot;:[&quot;lua&quot;],&quot;text/x-markdown&quot;:[&quot;mkd&quot;],&quot;text/x-nfo&quot;:[&quot;nfo&quot;],&quot;text/x-opml&quot;:[&quot;opml&quot;],&quot;text/x-org&quot;:[&quot;*org&quot;],&quot;text/x-pascal&quot;:[&quot;p&quot;,&quot;pas&quot;],&quot;text/x-processing&quot;:[&quot;pde&quot;],&quot;text/x-sass&quot;:[&quot;sass&quot;],&quot;text/x-scss&quot;:[&quot;scss&quot;],&quot;text/x-setext&quot;:[&quot;etx&quot;],&quot;text/x-sfv&quot;:[&quot;sfv&quot;],&quot;text/x-suse-ymp&quot;:[&quot;ymp&quot;],&quot;text/x-uuencode&quot;:[&quot;uu&quot;],&quot;text/x-vcalendar&quot;:[&quot;vcs&quot;],&quot;text/x-vcard&quot;:[&quot;vcf&quot;],&quot;video/vnd.dece.hd&quot;:[&quot;uvh&quot;,&quot;uvvh&quot;],&quot;video/vnd.dece.mobile&quot;:[&quot;uvm&quot;,&quot;uvvm&quot;],&quot;video/vnd.dece.pd&quot;:[&quot;uvp&quot;,&quot;uvvp&quot;],&quot;video/vnd.dece.sd&quot;:[&quot;uvs&quot;,&quot;uvvs&quot;],&quot;video/vnd.dece.video&quot;:[&quot;uvv&quot;,&quot;uvvv&quot;],&quot;video/vnd.dvb.file&quot;:[&quot;dvb&quot;],&quot;video/vnd.fvt&quot;:[&quot;fvt&quot;],&quot;video/vnd.mpegurl&quot;:[&quot;mxu&quot;,&quot;m4u&quot;],&quot;video/vnd.ms-playready.media.pyv&quot;:[&quot;pyv&quot;],&quot;video/vnd.uvvu.mp4&quot;:[&quot;uvu&quot;,&quot;uvvu&quot;],&quot;video/vnd.vivo&quot;:[&quot;viv&quot;],&quot;video/x-f4v&quot;:[&quot;f4v&quot;],&quot;video/x-fli&quot;:[&quot;fli&quot;],&quot;video/x-flv&quot;:[&quot;flv&quot;],&quot;video/x-m4v&quot;:[&quot;m4v&quot;],&quot;video/x-matroska&quot;:[&quot;mkv&quot;,&quot;mk3d&quot;,&quot;mks&quot;],&quot;video/x-mng&quot;:[&quot;mng&quot;],&quot;video/x-ms-asf&quot;:[&quot;asf&quot;,&quot;asx&quot;],&quot;video/x-ms-vob&quot;:[&quot;vob&quot;],&quot;video/x-ms-wm&quot;:[&quot;wm&quot;],&quot;video/x-ms-wmv&quot;:[&quot;wmv&quot;],&quot;video/x-ms-wmx&quot;:[&quot;wmx&quot;],&quot;video/x-ms-wvx&quot;:[&quot;wvx&quot;],&quot;video/x-msvideo&quot;:[&quot;avi&quot;],&quot;video/x-sgi-movie&quot;:[&quot;movie&quot;],&quot;video/x-smv&quot;:[&quot;smv&quot;],&quot;x-conference/x-cooltalk&quot;:[&quot;ice&quot;]}},4277:e=&gt;{e.exports={&quot;application/andrew-inset&quot;:[&quot;ez&quot;],&quot;application/applixware&quot;:[&quot;aw&quot;],&quot;application/atom+xml&quot;:[&quot;atom&quot;],&quot;application/atomcat+xml&quot;:[&quot;atomcat&quot;],&quot;application/atomdeleted+xml&quot;:[&quot;atomdeleted&quot;],&quot;application/atomsvc+xml&quot;:[&quot;atomsvc&quot;],&quot;application/atsc-dwd+xml&quot;:[&quot;dwd&quot;],&quot;application/atsc-held+xml&quot;:[&quot;held&quot;],&quot;application/atsc-rsat+xml&quot;:[&quot;rsat&quot;],&quot;application/bdoc&quot;:[&quot;bdoc&quot;],&quot;application/calendar+xml&quot;:[&quot;xcs&quot;],&quot;application/ccxml+xml&quot;:[&quot;ccxml&quot;],&quot;application/cdfx+xml&quot;:[&quot;cdfx&quot;],&quot;application/cdmi-capability&quot;:[&quot;cdmia&quot;],&quot;application/cdmi-container&quot;:[&quot;cdmic&quot;],&quot;application/cdmi-domain&quot;:[&quot;cdmid&quot;],&quot;application/cdmi-object&quot;:[&quot;cdmio&quot;],&quot;application/cdmi-queue&quot;:[&quot;cdmiq&quot;],&quot;application/cu-seeme&quot;:[&quot;cu&quot;],&quot;application/dash+xml&quot;:[&quot;mpd&quot;],&quot;application/davmount+xml&quot;:[&quot;davmount&quot;],&quot;application/docbook+xml&quot;:[&quot;dbk&quot;],&quot;application/dssc+der&quot;:[&quot;dssc&quot;],&quot;application/dssc+xml&quot;:[&quot;xdssc&quot;],&quot;application/ecmascript&quot;:[&quot;es&quot;,&quot;ecma&quot;],&quot;application/emma+xml&quot;:[&quot;emma&quot;],&quot;application/emotionml+xml&quot;:[&quot;emotionml&quot;],&quot;application/epub+zip&quot;:[&quot;epub&quot;],&quot;application/exi&quot;:[&quot;exi&quot;],&quot;application/express&quot;:[&quot;exp&quot;],&quot;application/fdt+xml&quot;:[&quot;fdt&quot;],&quot;application/font-tdpfr&quot;:[&quot;pfr&quot;],&quot;application/geo+json&quot;:[&quot;geojson&quot;],&quot;application/gml+xml&quot;:[&quot;gml&quot;],&quot;application/gpx+xml&quot;:[&quot;gpx&quot;],&quot;application/gxf&quot;:[&quot;gxf&quot;],&quot;application/gzip&quot;:[&quot;gz&quot;],&quot;application/hjson&quot;:[&quot;hjson&quot;],&quot;application/hyperstudio&quot;:[&quot;stk&quot;],&quot;application/inkml+xml&quot;:[&quot;ink&quot;,&quot;inkml&quot;],&quot;application/ipfix&quot;:[&quot;ipfix&quot;],&quot;application/its+xml&quot;:[&quot;its&quot;],&quot;application/java-archive&quot;:[&quot;jar&quot;,&quot;war&quot;,&quot;ear&quot;],&quot;application/java-serialized-object&quot;:[&quot;ser&quot;],&quot;application/java-vm&quot;:[&quot;class&quot;],&quot;application/javascript&quot;:[&quot;js&quot;,&quot;mjs&quot;],&quot;application/json&quot;:[&quot;json&quot;,&quot;map&quot;],&quot;application/json5&quot;:[&quot;json5&quot;],&quot;application/jsonml+json&quot;:[&quot;jsonml&quot;],&quot;application/ld+json&quot;:[&quot;jsonld&quot;],&quot;application/lgr+xml&quot;:[&quot;lgr&quot;],&quot;application/lost+xml&quot;:[&quot;lostxml&quot;],&quot;application/mac-binhex40&quot;:[&quot;hqx&quot;],&quot;application/mac-compactpro&quot;:[&quot;cpt&quot;],&quot;application/mads+xml&quot;:[&quot;mads&quot;],&quot;application/manifest+json&quot;:[&quot;webmanifest&quot;],&quot;application/marc&quot;:[&quot;mrc&quot;],&quot;application/marcxml+xml&quot;:[&quot;mrcx&quot;],&quot;application/mathematica&quot;:[&quot;ma&quot;,&quot;nb&quot;,&quot;mb&quot;],&quot;application/mathml+xml&quot;:[&quot;mathml&quot;],&quot;application/mbox&quot;:[&quot;mbox&quot;],&quot;application/mediaservercontrol+xml&quot;:[&quot;mscml&quot;],&quot;application/metalink+xml&quot;:[&quot;metalink&quot;],&quot;application/metalink4+xml&quot;:[&quot;meta4&quot;],&quot;application/mets+xml&quot;:[&quot;mets&quot;],&quot;application/mmt-aei+xml&quot;:[&quot;maei&quot;],&quot;application/mmt-usd+xml&quot;:[&quot;musd&quot;],&quot;application/mods+xml&quot;:[&quot;mods&quot;],&quot;application/mp21&quot;:[&quot;m21&quot;,&quot;mp21&quot;],&quot;application/mp4&quot;:[&quot;mp4s&quot;,&quot;m4p&quot;],&quot;application/msword&quot;:[&quot;doc&quot;,&quot;dot&quot;],&quot;application/mxf&quot;:[&quot;mxf&quot;],&quot;application/n-quads&quot;:[&quot;nq&quot;],&quot;application/n-triples&quot;:[&quot;nt&quot;],&quot;application/node&quot;:[&quot;cjs&quot;],&quot;application/octet-stream&quot;:[&quot;bin&quot;,&quot;dms&quot;,&quot;lrf&quot;,&quot;mar&quot;,&quot;so&quot;,&quot;dist&quot;,&quot;distz&quot;,&quot;pkg&quot;,&quot;bpk&quot;,&quot;dump&quot;,&quot;elc&quot;,&quot;deploy&quot;,&quot;exe&quot;,&quot;dll&quot;,&quot;deb&quot;,&quot;dmg&quot;,&quot;iso&quot;,&quot;img&quot;,&quot;msi&quot;,&quot;msp&quot;,&quot;msm&quot;,&quot;buffer&quot;],&quot;application/oda&quot;:[&quot;oda&quot;],&quot;application/oebps-package+xml&quot;:[&quot;opf&quot;],&quot;application/ogg&quot;:[&quot;ogx&quot;],&quot;application/omdoc+xml&quot;:[&quot;omdoc&quot;],&quot;application/onenote&quot;:[&quot;onetoc&quot;,&quot;onetoc2&quot;,&quot;onetmp&quot;,&quot;onepkg&quot;],&quot;application/oxps&quot;:[&quot;oxps&quot;],&quot;application/p2p-overlay+xml&quot;:[&quot;relo&quot;],&quot;application/patch-ops-error+xml&quot;:[&quot;xer&quot;],&quot;application/pdf&quot;:[&quot;pdf&quot;],&quot;application/pgp-encrypted&quot;:[&quot;pgp&quot;],&quot;application/pgp-signature&quot;:[&quot;asc&quot;,&quot;sig&quot;],&quot;application/pics-rules&quot;:[&quot;prf&quot;],&quot;application/pkcs10&quot;:[&quot;p10&quot;],&quot;application/pkcs7-mime&quot;:[&quot;p7m&quot;,&quot;p7c&quot;],&quot;application/pkcs7-signature&quot;:[&quot;p7s&quot;],&quot;application/pkcs8&quot;:[&quot;p8&quot;],&quot;application/pkix-attr-cert&quot;:[&quot;ac&quot;],&quot;application/pkix-cert&quot;:[&quot;cer&quot;],&quot;application/pkix-crl&quot;:[&quot;crl&quot;],&quot;application/pkix-pkipath&quot;:[&quot;pkipath&quot;],&quot;application/pkixcmp&quot;:[&quot;pki&quot;],&quot;application/pls+xml&quot;:[&quot;pls&quot;],&quot;application/postscript&quot;:[&quot;ai&quot;,&quot;eps&quot;,&quot;ps&quot;],&quot;application/provenance+xml&quot;:[&quot;provx&quot;],&quot;application/pskc+xml&quot;:[&quot;pskcxml&quot;],&quot;application/raml+yaml&quot;:[&quot;raml&quot;],&quot;application/rdf+xml&quot;:[&quot;rdf&quot;,&quot;owl&quot;],&quot;application/reginfo+xml&quot;:[&quot;rif&quot;],&quot;application/relax-ng-compact-syntax&quot;:[&quot;rnc&quot;],&quot;application/resource-lists+xml&quot;:[&quot;rl&quot;],&quot;application/resource-lists-diff+xml&quot;:[&quot;rld&quot;],&quot;application/rls-services+xml&quot;:[&quot;rs&quot;],&quot;application/route-apd+xml&quot;:[&quot;rapd&quot;],&quot;application/route-s-tsid+xml&quot;:[&quot;sls&quot;],&quot;application/route-usd+xml&quot;:[&quot;rusd&quot;],&quot;application/rpki-ghostbusters&quot;:[&quot;gbr&quot;],&quot;application/rpki-manifest&quot;:[&quot;mft&quot;],&quot;application/rpki-roa&quot;:[&quot;roa&quot;],&quot;application/rsd+xml&quot;:[&quot;rsd&quot;],&quot;application/rss+xml&quot;:[&quot;rss&quot;],&quot;application/rtf&quot;:[&quot;rtf&quot;],&quot;application/sbml+xml&quot;:[&quot;sbml&quot;],&quot;application/scvp-cv-request&quot;:[&quot;scq&quot;],&quot;application/scvp-cv-response&quot;:[&quot;scs&quot;],&quot;application/scvp-vp-request&quot;:[&quot;spq&quot;],&quot;application/scvp-vp-response&quot;:[&quot;spp&quot;],&quot;application/sdp&quot;:[&quot;sdp&quot;],&quot;application/senml+xml&quot;:[&quot;senmlx&quot;],&quot;application/sensml+xml&quot;:[&quot;sensmlx&quot;],&quot;application/set-payment-initiation&quot;:[&quot;setpay&quot;],&quot;application/set-registration-initiation&quot;:[&quot;setreg&quot;],&quot;application/shf+xml&quot;:[&quot;shf&quot;],&quot;application/sieve&quot;:[&quot;siv&quot;,&quot;sieve&quot;],&quot;application/smil+xml&quot;:[&quot;smi&quot;,&quot;smil&quot;],&quot;application/sparql-query&quot;:[&quot;rq&quot;],&quot;application/sparql-results+xml&quot;:[&quot;srx&quot;],&quot;application/srgs&quot;:[&quot;gram&quot;],&quot;application/srgs+xml&quot;:[&quot;grxml&quot;],&quot;application/sru+xml&quot;:[&quot;sru&quot;],&quot;application/ssdl+xml&quot;:[&quot;ssdl&quot;],&quot;application/ssml+xml&quot;:[&quot;ssml&quot;],&quot;application/swid+xml&quot;:[&quot;swidtag&quot;],&quot;application/tei+xml&quot;:[&quot;tei&quot;,&quot;teicorpus&quot;],&quot;application/thraud+xml&quot;:[&quot;tfi&quot;],&quot;application/timestamped-data&quot;:[&quot;tsd&quot;],&quot;application/toml&quot;:[&quot;toml&quot;],&quot;application/trig&quot;:[&quot;trig&quot;],&quot;application/ttml+xml&quot;:[&quot;ttml&quot;],&quot;application/ubjson&quot;:[&quot;ubj&quot;],&quot;application/urc-ressheet+xml&quot;:[&quot;rsheet&quot;],&quot;application/urc-targetdesc+xml&quot;:[&quot;td&quot;],&quot;application/voicexml+xml&quot;:[&quot;vxml&quot;],&quot;application/wasm&quot;:[&quot;wasm&quot;],&quot;application/widget&quot;:[&quot;wgt&quot;],&quot;application/winhlp&quot;:[&quot;hlp&quot;],&quot;application/wsdl+xml&quot;:[&quot;wsdl&quot;],&quot;application/wspolicy+xml&quot;:[&quot;wspolicy&quot;],&quot;application/xaml+xml&quot;:[&quot;xaml&quot;],&quot;application/xcap-att+xml&quot;:[&quot;xav&quot;],&quot;application/xcap-caps+xml&quot;:[&quot;xca&quot;],&quot;application/xcap-diff+xml&quot;:[&quot;xdf&quot;],&quot;application/xcap-el+xml&quot;:[&quot;xel&quot;],&quot;application/xcap-ns+xml&quot;:[&quot;xns&quot;],&quot;application/xenc+xml&quot;:[&quot;xenc&quot;],&quot;application/xhtml+xml&quot;:[&quot;xhtml&quot;,&quot;xht&quot;],&quot;application/xliff+xml&quot;:[&quot;xlf&quot;],&quot;application/xml&quot;:[&quot;xml&quot;,&quot;xsl&quot;,&quot;xsd&quot;,&quot;rng&quot;],&quot;application/xml-dtd&quot;:[&quot;dtd&quot;],&quot;application/xop+xml&quot;:[&quot;xop&quot;],&quot;application/xproc+xml&quot;:[&quot;xpl&quot;],&quot;application/xslt+xml&quot;:[&quot;*xsl&quot;,&quot;xslt&quot;],&quot;application/xspf+xml&quot;:[&quot;xspf&quot;],&quot;application/xv+xml&quot;:[&quot;mxml&quot;,&quot;xhvml&quot;,&quot;xvml&quot;,&quot;xvm&quot;],&quot;application/yang&quot;:[&quot;yang&quot;],&quot;application/yin+xml&quot;:[&quot;yin&quot;],&quot;application/zip&quot;:[&quot;zip&quot;],&quot;audio/3gpp&quot;:[&quot;*3gpp&quot;],&quot;audio/adpcm&quot;:[&quot;adp&quot;],&quot;audio/amr&quot;:[&quot;amr&quot;],&quot;audio/basic&quot;:[&quot;au&quot;,&quot;snd&quot;],&quot;audio/midi&quot;:[&quot;mid&quot;,&quot;midi&quot;,&quot;kar&quot;,&quot;rmi&quot;],&quot;audio/mobile-xmf&quot;:[&quot;mxmf&quot;],&quot;audio/mp3&quot;:[&quot;*mp3&quot;],&quot;audio/mp4&quot;:[&quot;m4a&quot;,&quot;mp4a&quot;],&quot;audio/mpeg&quot;:[&quot;mpga&quot;,&quot;mp2&quot;,&quot;mp2a&quot;,&quot;mp3&quot;,&quot;m2a&quot;,&quot;m3a&quot;],&quot;audio/ogg&quot;:[&quot;oga&quot;,&quot;ogg&quot;,&quot;spx&quot;,&quot;opus&quot;],&quot;audio/s3m&quot;:[&quot;s3m&quot;],&quot;audio/silk&quot;:[&quot;sil&quot;],&quot;audio/wav&quot;:[&quot;wav&quot;],&quot;audio/wave&quot;:[&quot;*wav&quot;],&quot;audio/webm&quot;:[&quot;weba&quot;],&quot;audio/xm&quot;:[&quot;xm&quot;],&quot;font/collection&quot;:[&quot;ttc&quot;],&quot;font/otf&quot;:[&quot;otf&quot;],&quot;font/ttf&quot;:[&quot;ttf&quot;],&quot;font/woff&quot;:[&quot;woff&quot;],&quot;font/woff2&quot;:[&quot;woff2&quot;],&quot;image/aces&quot;:[&quot;exr&quot;],&quot;image/apng&quot;:[&quot;apng&quot;],&quot;image/avif&quot;:[&quot;avif&quot;],&quot;image/bmp&quot;:[&quot;bmp&quot;],&quot;image/cgm&quot;:[&quot;cgm&quot;],&quot;image/dicom-rle&quot;:[&quot;drle&quot;],&quot;image/emf&quot;:[&quot;emf&quot;],&quot;image/fits&quot;:[&quot;fits&quot;],&quot;image/g3fax&quot;:[&quot;g3&quot;],&quot;image/gif&quot;:[&quot;gif&quot;],&quot;image/heic&quot;:[&quot;heic&quot;],&quot;image/heic-sequence&quot;:[&quot;heics&quot;],&quot;image/heif&quot;:[&quot;heif&quot;],&quot;image/heif-sequence&quot;:[&quot;heifs&quot;],&quot;image/hej2k&quot;:[&quot;hej2&quot;],&quot;image/hsj2&quot;:[&quot;hsj2&quot;],&quot;image/ief&quot;:[&quot;ief&quot;],&quot;image/jls&quot;:[&quot;jls&quot;],&quot;image/jp2&quot;:[&quot;jp2&quot;,&quot;jpg2&quot;],&quot;image/jpeg&quot;:[&quot;jpeg&quot;,&quot;jpg&quot;,&quot;jpe&quot;],&quot;image/jph&quot;:[&quot;jph&quot;],&quot;image/jphc&quot;:[&quot;jhc&quot;],&quot;image/jpm&quot;:[&quot;jpm&quot;],&quot;image/jpx&quot;:[&quot;jpx&quot;,&quot;jpf&quot;],&quot;image/jxr&quot;:[&quot;jxr&quot;],&quot;image/jxra&quot;:[&quot;jxra&quot;],&quot;image/jxrs&quot;:[&quot;jxrs&quot;],&quot;image/jxs&quot;:[&quot;jxs&quot;],&quot;image/jxsc&quot;:[&quot;jxsc&quot;],&quot;image/jxsi&quot;:[&quot;jxsi&quot;],&quot;image/jxss&quot;:[&quot;jxss&quot;],&quot;image/ktx&quot;:[&quot;ktx&quot;],&quot;image/ktx2&quot;:[&quot;ktx2&quot;],&quot;image/png&quot;:[&quot;png&quot;],&quot;image/sgi&quot;:[&quot;sgi&quot;],&quot;image/svg+xml&quot;:[&quot;svg&quot;,&quot;svgz&quot;],&quot;image/t38&quot;:[&quot;t38&quot;],&quot;image/tiff&quot;:[&quot;tif&quot;,&quot;tiff&quot;],&quot;image/tiff-fx&quot;:[&quot;tfx&quot;],&quot;image/webp&quot;:[&quot;webp&quot;],&quot;image/wmf&quot;:[&quot;wmf&quot;],&quot;message/disposition-notification&quot;:[&quot;disposition-notification&quot;],&quot;message/global&quot;:[&quot;u8msg&quot;],&quot;message/global-delivery-status&quot;:[&quot;u8dsn&quot;],&quot;message/global-disposition-notification&quot;:[&quot;u8mdn&quot;],&quot;message/global-headers&quot;:[&quot;u8hdr&quot;],&quot;message/rfc822&quot;:[&quot;eml&quot;,&quot;mime&quot;],&quot;model/3mf&quot;:[&quot;3mf&quot;],&quot;model/gltf+json&quot;:[&quot;gltf&quot;],&quot;model/gltf-binary&quot;:[&quot;glb&quot;],&quot;model/iges&quot;:[&quot;igs&quot;,&quot;iges&quot;],&quot;model/mesh&quot;:[&quot;msh&quot;,&quot;mesh&quot;,&quot;silo&quot;],&quot;model/mtl&quot;:[&quot;mtl&quot;],&quot;model/obj&quot;:[&quot;obj&quot;],&quot;model/step+xml&quot;:[&quot;stpx&quot;],&quot;model/step+zip&quot;:[&quot;stpz&quot;],&quot;model/step-xml+zip&quot;:[&quot;stpxz&quot;],&quot;model/stl&quot;:[&quot;stl&quot;],&quot;model/vrml&quot;:[&quot;wrl&quot;,&quot;vrml&quot;],&quot;model/x3d+binary&quot;:[&quot;*x3db&quot;,&quot;x3dbz&quot;],&quot;model/x3d+fastinfoset&quot;:[&quot;x3db&quot;],&quot;model/x3d+vrml&quot;:[&quot;*x3dv&quot;,&quot;x3dvz&quot;],&quot;model/x3d+xml&quot;:[&quot;x3d&quot;,&quot;x3dz&quot;],&quot;model/x3d-vrml&quot;:[&quot;x3dv&quot;],&quot;text/cache-manifest&quot;:[&quot;appcache&quot;,&quot;manifest&quot;],&quot;text/calendar&quot;:[&quot;ics&quot;,&quot;ifb&quot;],&quot;text/coffeescript&quot;:[&quot;coffee&quot;,&quot;litcoffee&quot;],&quot;text/css&quot;:[&quot;css&quot;],&quot;text/csv&quot;:[&quot;csv&quot;],&quot;text/html&quot;:[&quot;html&quot;,&quot;htm&quot;,&quot;shtml&quot;],&quot;text/jade&quot;:[&quot;jade&quot;],&quot;text/jsx&quot;:[&quot;jsx&quot;],&quot;text/less&quot;:[&quot;less&quot;],&quot;text/markdown&quot;:[&quot;markdown&quot;,&quot;md&quot;],&quot;text/mathml&quot;:[&quot;mml&quot;],&quot;text/mdx&quot;:[&quot;mdx&quot;],&quot;text/n3&quot;:[&quot;n3&quot;],&quot;text/plain&quot;:[&quot;txt&quot;,&quot;text&quot;,&quot;conf&quot;,&quot;def&quot;,&quot;list&quot;,&quot;log&quot;,&quot;in&quot;,&quot;ini&quot;],&quot;text/richtext&quot;:[&quot;rtx&quot;],&quot;text/rtf&quot;:[&quot;*rtf&quot;],&quot;text/sgml&quot;:[&quot;sgml&quot;,&quot;sgm&quot;],&quot;text/shex&quot;:[&quot;shex&quot;],&quot;text/slim&quot;:[&quot;slim&quot;,&quot;slm&quot;],&quot;text/spdx&quot;:[&quot;spdx&quot;],&quot;text/stylus&quot;:[&quot;stylus&quot;,&quot;styl&quot;],&quot;text/tab-separated-values&quot;:[&quot;tsv&quot;],&quot;text/troff&quot;:[&quot;t&quot;,&quot;tr&quot;,&quot;roff&quot;,&quot;man&quot;,&quot;me&quot;,&quot;ms&quot;],&quot;text/turtle&quot;:[&quot;ttl&quot;],&quot;text/uri-list&quot;:[&quot;uri&quot;,&quot;uris&quot;,&quot;urls&quot;],&quot;text/vcard&quot;:[&quot;vcard&quot;],&quot;text/vtt&quot;:[&quot;vtt&quot;],&quot;text/xml&quot;:[&quot;*xml&quot;],&quot;text/yaml&quot;:[&quot;yaml&quot;,&quot;yml&quot;],&quot;video/3gpp&quot;:[&quot;3gp&quot;,&quot;3gpp&quot;],&quot;video/3gpp2&quot;:[&quot;3g2&quot;],&quot;video/h261&quot;:[&quot;h261&quot;],&quot;video/h263&quot;:[&quot;h263&quot;],&quot;video/h264&quot;:[&quot;h264&quot;],&quot;video/iso.segment&quot;:[&quot;m4s&quot;],&quot;video/jpeg&quot;:[&quot;jpgv&quot;],&quot;video/jpm&quot;:[&quot;*jpm&quot;,&quot;jpgm&quot;],&quot;video/mj2&quot;:[&quot;mj2&quot;,&quot;mjp2&quot;],&quot;video/mp2t&quot;:[&quot;ts&quot;],&quot;video/mp4&quot;:[&quot;mp4&quot;,&quot;mp4v&quot;,&quot;mpg4&quot;],&quot;video/mpeg&quot;:[&quot;mpeg&quot;,&quot;mpg&quot;,&quot;mpe&quot;,&quot;m1v&quot;,&quot;m2v&quot;],&quot;video/ogg&quot;:[&quot;ogv&quot;],&quot;video/quicktime&quot;:[&quot;qt&quot;,&quot;mov&quot;],&quot;video/webm&quot;:[&quot;webm&quot;]}},7433:(e,t,r)=&gt;{const n=r(1017),i=r(2081),{promises:o,constants:s}=r(7147),a=r(4570),c=r(4548),l=r(1738),p=n.join(__dirname,&quot;xdg-open&quot;),{platform:u,arch:d}=process,h=(()=&gt;{const e=&quot;/mnt/&quot;;let t;return async function(){if(t)return t;const r=&quot;/etc/wsl.conf&quot;;let n=!1;try{await o.access(r,s.F_OK),n=!0}catch{}if(!n)return e;const i=await o.readFile(r,{encoding:&quot;utf8&quot;}),a=/(?&lt;!#.*)root\s*=\s*(?&lt;mountPoint&gt;.*)/g.exec(i);return a?(t=a.groups.mountPoint.trim(),t=t.endsWith(&quot;/&quot;)?t:`${t}/`,t):e}})(),f=async(e,t)=&gt;{let r;for(const n of e)try{return await t(n)}catch(e){r=e}throw r},v=async e=&gt;{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return f(e.app,(t=&gt;v({...e,app:t})));let t,{name:r,arguments:n=[]}=e.app||{};if(n=[...n],Array.isArray(r))return f(r,(t=&gt;v({...e,app:{name:t,arguments:n}})));const l=[],d={};if(&quot;darwin&quot;===u)t=&quot;open&quot;,e.wait&amp;&amp;l.push(&quot;--wait-apps&quot;),e.background&amp;&amp;l.push(&quot;--background&quot;),e.newInstance&amp;&amp;l.push(&quot;--new&quot;),r&amp;&amp;l.push(&quot;-a&quot;,r);else if(&quot;win32&quot;===u||a&amp;&amp;!c()){const i=await h();t=a?`${i}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,l.push(&quot;-NoProfile&quot;,&quot;-NonInteractive&quot;,&quot;–ExecutionPolicy&quot;,&quot;Bypass&quot;,&quot;-EncodedCommand&quot;),a||(d.windowsVerbatimArguments=!0);const o=[&quot;Start&quot;];e.wait&amp;&amp;o.push(&quot;-Wait&quot;),r?(o.push(`&quot;\`&quot;${r}\`&quot;&quot;`,&quot;-ArgumentList&quot;),e.target&amp;&amp;n.unshift(e.target)):e.target&amp;&amp;o.push(`&quot;${e.target}&quot;`),n.length&gt;0&amp;&amp;(n=n.map((e=&gt;`&quot;\`&quot;${e}\`&quot;&quot;`)),o.push(n.join(&quot;,&quot;))),e.target=Buffer.from(o.join(&quot; &quot;),&quot;utf16le&quot;).toString(&quot;base64&quot;)}else{if(r)t=r;else{const e=&quot;/&quot;===__dirname;let r=!1;try{await o.access(p,s.X_OK),r=!0}catch{}t=process.versions.electron||&quot;android&quot;===u||e||!r?&quot;xdg-open&quot;:p}n.length&gt;0&amp;&amp;l.push(...n),e.wait||(d.stdio=&quot;ignore&quot;,d.detached=!0)}e.target&amp;&amp;l.push(e.target),&quot;darwin&quot;===u&amp;&amp;n.length&gt;0&amp;&amp;l.push(&quot;--args&quot;,...n);const _=i.spawn(t,l,d);return e.wait?new Promise(((t,r)=&gt;{_.once(&quot;error&quot;,r),_.once(&quot;close&quot;,(n=&gt;{e.allowNonzeroExitCode&amp;&amp;n&gt;0?r(new Error(`Exited with code ${n}`)):t(_)}))})):(_.unref(),_)},_=(e,t)=&gt;{if(&quot;string&quot;!=typeof e)throw new TypeError(&quot;Expected a `target`&quot;);return v({...t,target:e})};function m(e){if(&quot;string&quot;==typeof e||Array.isArray(e))return e;const{[d]:t}=e;if(!t)throw new Error(`${d} is not supported`);return t}function g({[u]:e},{wsl:t}){if(t&amp;&amp;a)return m(t);if(!e)throw new Error(`${u} is not supported`);return m(e)}const y={};l(y,&quot;chrome&quot;,(()=&gt;g({darwin:&quot;google chrome&quot;,win32:&quot;chrome&quot;,linux:[&quot;google-chrome&quot;,&quot;google-chrome-stable&quot;,&quot;chromium&quot;]},{wsl:{ia32:&quot;/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe&quot;,x64:[&quot;/mnt/c/Program Files/Google/Chrome/Application/chrome.exe&quot;,&quot;/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe&quot;]}}))),l(y,&quot;firefox&quot;,(()=&gt;g({darwin:&quot;firefox&quot;,win32:&quot;C:\\Program Files\\Mozilla Firefox\\firefox.exe&quot;,linux:&quot;firefox&quot;},{wsl:&quot;/mnt/c/Program Files/Mozilla Firefox/firefox.exe&quot;}))),l(y,&quot;edge&quot;,(()=&gt;g({darwin:&quot;microsoft edge&quot;,win32:&quot;msedge&quot;,linux:[&quot;microsoft-edge&quot;,&quot;microsoft-edge-dev&quot;]},{wsl:&quot;/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe&quot;}))),_.apps=y,_.openApp=(e,t)=&gt;{if(&quot;string&quot;!=typeof e)throw new TypeError(&quot;Expected a `name`&quot;);const{arguments:r=[]}=t||{};if(null!=r&amp;&amp;!Array.isArray(r))throw new TypeError(&quot;Expected `appArguments` as Array type&quot;);return v({...t,app:{name:e,arguments:r}})},e.exports=_},2862:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.Connection=void 0;const n=r(9496),i=r(3463),o=r(93),s=r(1265),a=r(1362),c=r(8767),l=i.loadMessageBundle(r(1017).join(__dirname,&quot;src/connectionInfo/connection.ts&quot;));class p extends o.Disposable{constructor(e,t,r,i,o){super(),this._workspace=e,this._rootPrefix=t,this.httpPort=r,this._wsPort=i,this.host=o,this._wsPath=&quot;&quot;,this._onConnected=this._register(new n.EventEmitter),this.onConnected=this._onConnected.event,this._onShouldResetInitHost=this._register(new n.EventEmitter),this.onShouldResetInitHost=this._onShouldResetInitHost.event,this._register(n.workspace.onDidChangeConfiguration((async t=&gt;{t.affectsConfiguration(c.SETTINGS_SECTION_ID)&amp;&amp;(this._rootPrefix=e?await a.PathUtil.GetValidServerRootForWorkspace(e):&quot;&quot;)})))}get wsPort(){return this._wsPort}async connected(e,t,r){this.httpPort=e,this._wsPort=t,this._wsPath=r;const i=this.constructLocalUri(this.httpPort),o=this.constructLocalUri(this._wsPort,this._wsPath),s=await n.env.asExternalUri(i),a=await n.env.asExternalUri(o);this._onConnected.fire({httpURI:s,wsURI:a,workspace:this._workspace,httpPort:e,rootPrefix:this._rootPrefix})}async resolveExternalHTTPUri(){const e=this.constructLocalUri(this.httpPort);return n.env.asExternalUri(e)}async resolveExternalWSUri(){const e=this.constructLocalUri(this._wsPort,this._wsPath);return n.env.asExternalUri(e)}constructLocalUri(e,t){return n.Uri.parse(`http://${this.host}:${e}${null!=t?t:&quot;&quot;}`)}get workspace(){return this._workspace}get rootURI(){if(this.workspace)return n.Uri.joinPath(this.workspace.uri,this._rootPrefix)}get rootPath(){var e;return null===(e=this.rootURI)||void 0===e?void 0:e.fsPath}resetHostToDefault(){this.host!=s.DEFAULT_HOST&amp;&amp;(n.window.showErrorMessage(l(0,null,this.host,s.DEFAULT_HOST)),this.host=s.DEFAULT_HOST,this._onShouldResetInitHost.fire(this.host))}getFileRelativeToWorkspace(e){const t=this.rootPath;return t&amp;&amp;this._absPathInWorkspace(e)?a.PathUtil.ConvertToPosixPath(e.substring(t.length)):void 0}_absPathInWorkspace(e){return!!this.rootPath&amp;&amp;a.PathUtil.PathBeginsWith(e,this.rootPath)}getAppendedURI(e){return this.rootURI?n.Uri.joinPath(this.rootURI,e):n.Uri.file(e)}}t.Connection=p},5005:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.ConnectionManager=void 0;const n=r(1808),i=r(9496),o=r(3463),s=r(1265),a=r(93),c=r(1362),l=r(8767),p=r(2862),u=o.loadMessageBundle(r(1017).join(__dirname,&quot;src/connectionInfo/connectionManager.ts&quot;));class d extends a.Disposable{constructor(){super(),this._onConnected=this._register(new i.EventEmitter),this.onConnected=this._onConnected.event,this._initHttpPort=l.SettingUtil.GetConfig().portNumber,this._initWSPort=this._initHttpPort+1,this._initHost=l.SettingUtil.GetConfig().hostIP,this._validHost(this._initHost)?i.env.remoteName&amp;&amp;this._initHost!=s.DEFAULT_HOST&amp;&amp;(i.window.showErrorMessage(u(0,null,this._initHost,s.DEFAULT_HOST)),this._initHost=s.DEFAULT_HOST):(this._showIncorrectHostFormatError(this._initHost),this._initHost=s.DEFAULT_HOST),this._connections=new Map,this._register(i.workspace.onDidChangeConfiguration((e=&gt;{e.affectsConfiguration(l.SETTINGS_SECTION_ID)&amp;&amp;(this._pendingPort=l.SettingUtil.GetConfig().portNumber,this._pendingHost=l.SettingUtil.GetConfig().hostIP)})))}set _pendingPort(e){this._initHttpPort=e,this._initWSPort=e+1}set _pendingHost(e){this._validHost(e)?this._initHost=e:(this._showIncorrectHostFormatError(e),this._initHost=s.DEFAULT_HOST)}_validHost(e){return(0,n.isIPv4)(e)}getConnection(e){return this._connections.get(null==e?void 0:e.uri.toString())}getConnectionFromPort(e){return this.connections.find((t=&gt;t&amp;&amp;t.httpPort===e))}async createAndAddNewConnection(e){const t=e?await c.PathUtil.GetValidServerRootForWorkspace(e):&quot;&quot;,r=this._register(new p.Connection(e,t,this._initHttpPort,this._initWSPort,this._initHost));return this._register(r.onConnected((e=&gt;this._onConnected.fire(e)))),this._register(r.onShouldResetInitHost((e=&gt;this._initHost=e))),this._connections.set(null==e?void 0:e.uri.toString(),r),r}removeConnection(e){var t;null===(t=this._connections.get(null==e?void 0:e.uri.toString()))||void 0===t||t.dispose,this._connections.delete(null==e?void 0:e.uri.toString())}get connections(){return Array.from(this._connections.values())}_showIncorrectHostFormatError(e){i.window.showErrorMessage(u(1,null,e,s.DEFAULT_HOST))}}t.ConnectionManager=d},3442:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.BrowserPreview=void 0;const n=r(1265),i=r(9496),o=r(93),s=r(1362),a=r(6259),c=r(6980),l=r(8767),p=r(1017),u=r(3463),d=r(7310),h=r(1841),f=u.loadMessageBundle(r(1017).join(__dirname,&quot;src/editorPreview/browserPreview.ts&quot;));class v extends o.Disposable{constructor(e,t,r,n,o,s,c,l){super(),this._panel=r,this._extensionUri=n,this._reporter=o,this._connectionManager=s,this._endpointManager=c,this._outputChannel=l,this._onDisposeEmitter=this._register(new i.EventEmitter),this.onDispose=this._onDisposeEmitter.event,this._onShouldLaunchPreview=this._register(new i.EventEmitter),this.onShouldLaunchPreview=this._onShouldLaunchPreview.event,this._panel.iconPath={light:i.Uri.joinPath(this._extensionUri,&quot;media&quot;,&quot;preview-light.svg&quot;),dark:i.Uri.joinPath(this._extensionUri,&quot;media&quot;,&quot;preview-dark.svg&quot;)},this._webviewComm=this._register(new a.WebviewComm(e,t,r,n,s)),this._register(this._panel.onDidDispose((()=&gt;{this.dispose()}))),this._register(this._webviewComm.onPanelTitleChange((e=&gt;{this._setPanelTitle(e.title,e.pathname,e.connection)}))),this._register(this._panel.webview.onDidReceiveMessage((e=&gt;this._handleWebviewMessage(e))))}get currentConnection(){return this._webviewComm.currentConnection}get currentAddress(){return this._webviewComm.currentAddress}get panel(){return this._panel}close(){this._panel.dispose()}async reveal(e,t=&quot;/&quot;,r){await this._webviewComm.goToFile(t,!0,r),this._panel.reveal(e)}async _handleWebviewMessage(e){switch(e.command){case&quot;alert&quot;:return void i.window.showErrorMessage(e.text);case&quot;update-path&quot;:{const t=JSON.parse(e.text);return void this._webviewComm.handleNewPageLoad(t.path.pathname,this.currentConnection,t.title)}case&quot;go-back&quot;:return void await this._webviewComm.goBack();case&quot;go-forward&quot;:return void await this._webviewComm.goForwards();case&quot;open-browser&quot;:return void await this._openCurrentAddressInExternalBrowser();case&quot;add-history&quot;:{const t=JSON.parse(e.text),r=this._connectionManager.getConnectionFromPort(t.port);return void await this._webviewComm.setUrlBar(t.path,r)}case&quot;refresh-back-forward-buttons&quot;:return void this._webviewComm.updateForwardBackArrows();case&quot;go-to-file&quot;:return void await this._goToFullAddress(e.text);case&quot;console&quot;:{const t=JSON.parse(e.text);return void this._handleConsole(t.type,t.data)}case&quot;devtools-open&quot;:return void i.commands.executeCommand(&quot;workbench.action.webview.openDeveloperTools&quot;)}}_handleConsole(e,t){if(&quot;CLEAR&quot;==e)this._outputChannel.clear();else{const r=new Date;this._outputChannel.appendLine(`[${e} - ${(0,c.FormatDateTime)(r,&quot; &quot;)}] ${t}`)}}dispose(){this._onDisposeEmitter.fire(),this._panel.dispose(),super.dispose()}async _openCurrentAddressInExternalBrowser(){const e=await this._webviewComm.constructAddress(this._webviewComm.currentAddress),t=i.Uri.parse(e.toString()),r=l.SettingUtil.GetExternalPreviewType();this._onShouldLaunchPreview.fire({uri:t,options:{workspace:this._webviewComm.currentConnection.workspace,port:this._webviewComm.currentConnection.httpPort},previewType:r})}async _handleOpenBrowser(e){i.window.showInformationMessage(f(0,null,e),{modal:!0},n.OPEN_EXTERNALLY).then((t=&gt;{t&amp;&amp;t===n.OPEN_EXTERNALLY&amp;&amp;h.ExternalBrowserUtils.openInBrowser(e,l.SettingUtil.GetConfig().customExternalBrowser)})),await this._webviewComm.reloadWebview(),this._reporter.sendTelemetryEvent(&quot;preview.openExternalBrowser&quot;)}async _goToFullAddress(e){try{const t=new d.URL(e).port;if(void 0===t)throw Error;const r=this._connectionManager.getConnectionFromPort(parseInt(t));if(!r)throw Error;let n=(await this._webviewComm.resolveHost(r)).toString();n.endsWith(&quot;/&quot;)&amp;&amp;(n=n.substring(0,n.length-1));const i=e.substring(n.length);await this._webviewComm.goToFile(i,!0,r)}catch(t){await this._handleOpenBrowser(e)}}async _setPanelTitle(e,t,r){&quot;&quot;==e?(t=decodeURI(t)).length&gt;0&amp;&amp;&quot;/&quot;==t[0]?r.workspace?this._panel.title=await s.PathUtil.GetFileName(t):this._panel.title=p.basename(t.substring(1)):this._panel.title=t:this._panel.title=e}}t.BrowserPreview=v,v.viewType=&quot;browserPreview&quot;},3112:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.PageHistory=t.NavEditCommands=void 0;const n=r(93),i=r(1362);var o;!function(e){e[e.DISABLE_BACK=0]=&quot;DISABLE_BACK&quot;,e[e.ENABLE_BACK=1]=&quot;ENABLE_BACK&quot;,e[e.DISABLE_FORWARD=2]=&quot;DISABLE_FORWARD&quot;,e[e.ENABLE_FORWARD=3]=&quot;ENABLE_FORWARD&quot;}(o=t.NavEditCommands||(t.NavEditCommands={}));class s extends n.Disposable{constructor(){super(...arguments),this._history=new Array,this._backstep=0,this._current_back_enabled=!1,this._current_forward_enabled=!1}get currentCommands(){const e=new Array;return this._current_back_enabled?e.push(o.ENABLE_BACK):e.push(o.DISABLE_BACK),this._current_forward_enabled?e.push(o.ENABLE_FORWARD):e.push(o.DISABLE_FORWARD),e}goForward(){const e=new Array;if(this._backstep&gt;0){const t=this._history[this._backstep-1];return this._backstep-=1,0==this._backstep&amp;&amp;(e.push(o.DISABLE_FORWARD),this._current_forward_enabled=!1),this._backstep==this._history.length-2&amp;&amp;(e.push(o.ENABLE_BACK),this._current_back_enabled=!0),{actions:e,address:t}}return{actions:e}}goBackward(){const e=new Array;if(this._backstep&lt;this._history.length-1){const t=this._history[this._backstep+1];return this._backstep+=1,this._backstep==this._history.length-1&amp;&amp;(e.push(o.DISABLE_BACK),this._current_back_enabled=!1),1==this._backstep&amp;&amp;(e.push(o.ENABLE_FORWARD),this._current_forward_enabled=!0),{actions:e,address:t}}return{actions:e}}addHistory(e,t){e=i.PathUtil.ConvertToPosixPath(e),e=i.PathUtil.EscapePathParts(e);const r=new Array,n=this._history[this._backstep];if(!(this._backstep&lt;this._history.length&amp;&amp;e===n.path&amp;&amp;t===n.connection))return this._backstep&gt;0&amp;&amp;(this._history=this._history.slice(this._backstep)),1==this._history.length&amp;&amp;(r.push(o.ENABLE_BACK),this._current_back_enabled=!0),this._history.unshift({path:e,connection:t}),this._backstep=0,r.push(o.DISABLE_FORWARD),this._current_forward_enabled=!1,{actions:r}}}t.PageHistory=s},1458:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.PreviewManager=void 0;const n=r(93),i=r(9496),o=r(8767),s=r(1265),a=r(1362),c=r(3442),l=r(3463),p=r(1841),u=l.loadMessageBundle(r(1017).join(__dirname,&quot;src/editorPreview/previewManager.ts&quot;));class d extends n.Disposable{constructor(e,t,r,n,o){super(),this._extensionUri=e,this._reporter=t,this._connectionManager=r,this._endpointManager=n,this._serverExpired=o,this.previewActive=!1,this._notifiedAboutLooseFiles=!1,this._onShouldLaunchPreview=this._register(new i.EventEmitter),this.onShouldLaunchPreview=this._onShouldLaunchPreview.event,this._outputChannel=i.window.createOutputChannel(s.OUTPUT_CHANNEL_NAME)}async launchFileInEmbeddedPreview(e,t,r){const n=r?await this._fileUriToPath(r,t):&quot;/&quot;;this.currentPanel?await this.currentPanel.reveal(i.ViewColumn.Beside,n,t):(e||(e=i.window.createWebviewPanel(c.BrowserPreview.viewType,s.INIT_PANEL_TITLE,i.ViewColumn.Beside,{...this.getWebviewOptions(),...this._getWebviewPanelOptions()})),this._startEmbeddedPreview(e,n,t))}async launchFileInExternalBrowser(e,t,r){const n=r?a.PathUtil.ConvertToPosixPath(await this._fileUriToPath(r,t)):&quot;/&quot;,s=`http://${t.host}:${t.httpPort}${n}`;e?i.commands.executeCommand(&quot;extension.js-debug.debugLink&quot;,s):await p.ExternalBrowserUtils.openInBrowser(s,o.SettingUtil.GetConfig().customExternalBrowser)}getWebviewOptions(){return{enableScripts:!0,localResourceRoots:[i.Uri.joinPath(this._extensionUri,&quot;media&quot;),i.Uri.joinPath(this._extensionUri,&quot;node_modules&quot;,&quot;@vscode&quot;,&quot;codicons&quot;,&quot;dist&quot;)]}}_notifyLooseFileOpen(){this._reporter.sendTelemetryEvent(&quot;preview.fileOutOfWorkspace&quot;),!this._notifiedAboutLooseFiles&amp;&amp;o.SettingUtil.GetConfig().notifyOnOpenLooseFile&amp;&amp;i.window.showWarningMessage(u(0,null),s.DONT_SHOW_AGAIN).then((async e=&gt;{e==s.DONT_SHOW_AGAIN&amp;&amp;await o.SettingUtil.UpdateSettings(o.Settings.notifyOnOpenLooseFile,!1,i.ConfigurationTarget.Global)})),this._notifiedAboutLooseFiles=!0}async _fileUriToPath(e,t){var r;let n=&quot;/&quot;;return(null==t?void 0:t.workspace)?t&amp;&amp;(n=null!==(r=t.getFileRelativeToWorkspace(e.fsPath))&amp;&amp;void 0!==r?r:&quot;&quot;):(this._notifyLooseFileOpen(),n=await this._endpointManager.encodeLooseFileEndpoint(e.fsPath)),n}_startEmbeddedPreview(e,t,r){this._currentTimeout&amp;&amp;clearTimeout(this._currentTimeout),this.currentPanel=this._register(new c.BrowserPreview(t,r,e,this._extensionUri,this._reporter,this._connectionManager,this._endpointManager,this._outputChannel));const n=this.currentPanel.onShouldLaunchPreview((e=&gt;this._onShouldLaunchPreview.fire(e)));this.previewActive=!0,this._register(this.currentPanel.onDispose((()=&gt;{this.currentPanel=void 0;const e=o.SettingUtil.GetConfig().serverKeepAliveAfterEmbeddedPreviewClose;0!==e&amp;&amp;(this._currentTimeout=setTimeout((()=&gt;{this._serverExpired(),this.previewActive=!1}),Math.floor(1e3*e*60))),n.dispose()})))}_getWebviewPanelOptions(){return{retainContextWhenHidden:!0}}}t.PreviewManager=d},6259:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.WebviewComm=void 0;const n=r(93),i=r(9496),o=r(3463),s=r(1265),a=r(3112),c=r(6980),l=r(6113),p=o.loadMessageBundle(r(1017).join(__dirname,&quot;src/editorPreview/webviewComm.ts&quot;));class u extends n.Disposable{constructor(e,t,r,n,o){var s;super(),this.currentConnection=t,this._panel=r,this._extensionUri=n,this._connectionManager=o,this._onPanelTitleChange=this._register(new i.EventEmitter),this.onPanelTitleChange=this._onPanelTitleChange.event,this._register(this._connectionManager.onConnected((e=&gt;{var t;e.workspace===(null===(t=this.currentConnection)||void 0===t?void 0:t.workspace)&amp;&amp;this.reloadWebview()}))),this._pageHistory=this._register(new a.PageHistory),this.updateForwardBackArrows(),this.goToFile(e,!1),null===(s=this._pageHistory)||void 0===s||s.addHistory(e,t),this.currentAddress=e}async reloadWebview(){await this.goToFile(this.currentAddress,!1)}async resolveHost(e){return e.resolveExternalHTTPUri()}async _resolveWsHost(e){return e.resolveExternalWSUri()}async constructAddress(e,t=this.currentConnection,r){return e.length&gt;0&amp;&amp;&quot;/&quot;==e[0]&amp;&amp;(e=e.substring(1)),r||(r=await this.resolveHost(t)),`${r.toString()}${e}`}async goToFile(e,t=!0,r=this.currentConnection){await this._setHtml(this._panel.webview,e,t,r),this.currentAddress=e}async _setHtml(e,t,r,n){this.currentConnection=n;const i=await this.resolveHost(n),o=await this.constructAddress(t,n,i),s=await this._resolveWsHost(n);this._panel.webview.html=this._getHtmlForWebview(e,o,`ws://${s.authority}${s.path}`,`${i.scheme}://${i.authority}`),(0,c.isFileInjectable)(t)||(this._onPanelTitleChange.fire({title:&quot;&quot;,pathname:t,connection:n}),this._panel.webview.postMessage({command:&quot;set-url&quot;,text:JSON.stringify({fullPath:o,pathname:t})})),r&amp;&amp;this.handleNewPageLoad(t,n)}_getHtmlForWebview(e,t,r,n){const o=i.Uri.joinPath(this._extensionUri,&quot;media&quot;,&quot;main.js&quot;),a=e.asWebviewUri(o),c=i.Uri.joinPath(this._extensionUri,&quot;media&quot;,&quot;vscode.css&quot;),u=i.Uri.joinPath(this._extensionUri,&quot;media&quot;,&quot;codicon.css&quot;),d=e.asWebviewUri(c),h=e.asWebviewUri(u),f=(0,l.randomBytes)(16).toString(&quot;base64&quot;),v=p(0,null),_=p(1,null),m=p(2,null),g=p(3,null),y=p(4,null),E=p(5,null),b=p(6,null),S=p(7,null),w=p(8,null),T=p(9,null);return`&lt;!DOCTYPE html&gt;\n\t\t&lt;html lang=&quot;en&quot;&gt;\n\t\t\t&lt;head&gt;\n\t\t\t\t&lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;\n\t\t\t\t\x3c!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n\t\t\t\t--\x3e\n\t\t\t\t&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;\n\t\t\t\t\tdefault-src 'none';\n\t\t\t\t\tconnect-src ${r};\n\t\t\t\t\tfont-src ${this._panel.webview.cspSource};\n\t\t\t\t\tstyle-src ${this._panel.webview.cspSource};\n\t\t\t\t\tscript-src 'nonce-${f}';\n\t\t\t\t\tframe-src ${n};\n\t\t\t\t&quot;&gt;\n\t\t\t\t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n\t\t\t\t&lt;link href=&quot;${d}&quot; rel=&quot;stylesheet&quot;&gt;\n\t\t\t\t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;${h}&quot;&gt;\n\t\t\t\t&lt;title&gt;${s.INIT_PANEL_TITLE}&lt;/title&gt;\n\t\t\t&lt;/head&gt;\n\t\t\t&lt;body&gt;\n\t\t\t&lt;div class=&quot;displayContents&quot;&gt;\n\t\t\t\t&lt;div class=&quot;header&quot;&gt;\n\t\t\t\t\t&lt;div class=&quot;headercontent&quot;&gt;\n\t\t\t\t\t\t&lt;nav class=&quot;controls&quot;&gt;\n\t\t\t\t\t\t\t&lt;button\n\t\t\t\t\t\t\t\tid=&quot;back&quot;\n\t\t\t\t\t\t\t\ttitle=&quot;${v}&quot;\n\t\t\t\t\t\t\t\tclass=&quot;back-button icon leftmost-nav&quot;&gt;&lt;i class=&quot;codicon codicon-arrow-left&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n\t\t\t\t\t\t\t&lt;button\n\t\t\t\t\t\t\t\tid=&quot;forward&quot;\n\t\t\t\t\t\t\t\ttitle=&quot;${_}&quot;\n\t\t\t\t\t\t\t\tclass=&quot;forward-button icon leftmost-nav&quot;&gt;&lt;i class=&quot;codicon codicon-arrow-right&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n\t\t\t\t\t\t\t&lt;button\n\t\t\t\t\t\t\t\tid=&quot;reload&quot;\n\t\t\t\t\t\t\t\ttitle=&quot;${m}&quot;\n\t\t\t\t\t\t\t\tclass=&quot;reload-button icon leftmost-nav&quot;&gt;&lt;i class=&quot;codicon codicon-refresh&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n\t\t\t\t\t\t\t&lt;input\n\t\t\t\t\t\t\t\tid=&quot;url-input&quot;\n\t\t\t\t\t\t\t\tclass=&quot;url-input&quot;\n\t\t\t\t\t\t\t\ttype=&quot;text&quot;&gt;\n\t\t\t\t\t\t\t&lt;button\n\t\t\t\t\t\t\t\tid=&quot;more&quot;\n\t\t\t\t\t\t\t\ttitle=&quot;${g}&quot;\n\t\t\t\t\t\t\t\tclass=&quot;more-button icon&quot;&gt;&lt;i class=&quot;codicon codicon-list-flat&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n\t\t\t\t\t\t&lt;/nav&gt;\n\t\t\t\t\t\t&lt;div class=&quot;find-container&quot; id=&quot;find-box&quot; hidden=true&gt;\n\t\t\t\t\t\t\t&lt;nav class=&quot;find&quot;&gt;\n\t\t\t\t\t\t\t\t&lt;input\n\t\t\t\t\t\t\t\t\tid=&quot;find-input&quot;\n\t\t\t\t\t\t\t\t\tclass=&quot;find-input&quot;\n\t\t\t\t\t\t\t\t\ttype=&quot;text&quot;&gt;\n\t\t\t\t\t\t\t\t&lt;div\n\t\t\t\t\t\t\t\t\tid=&quot;find-result&quot;\n\t\t\t\t\t\t\t\t\tclass=&quot;find-result icon&quot; hidden=true&gt;&lt;i id=&quot;find-result-icon&quot; class=&quot;codicon&quot; &gt;&lt;/i&gt;&lt;/div&gt;\n\t\t\t\t\t\t\t\t&lt;button\n\t\t\t\t\t\t\t\t\tid=&quot;find-prev&quot;\n\t\t\t\t\t\t\t\t\ttitle=&quot;${y}&quot;\n\t\t\t\t\t\t\t\t\tclass=&quot;find-prev-button icon find-nav&quot;&gt;&lt;i class=&quot;codicon codicon-chevron-up&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n\t\t\t\t\t\t\t\t&lt;button\n\t\t\t\t\t\t\t\t\tid=&quot;find-next&quot;\n\t\t\t\t\t\t\t\t\ttabIndex=-1\n\t\t\t\t\t\t\t\t\ttitle=&quot;${E}&quot;\n\t\t\t\t\t\t\t\t\tclass=&quot;find-next-button icon find-nav&quot;&gt;&lt;i class=&quot;codicon codicon-chevron-down&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n\t\t\t\t\t\t\t\t&lt;button\n\t\t\t\t\t\t\t\t\tid=&quot;find-x&quot;\n\t\t\t\t\t\t\t\t\ttabIndex=-1\n\t\t\t\t\t\t\t\t\ttitle=&quot;${b}&quot;\n\t\t\t\t\t\t\t\t\tclass=&quot;find-x-button icon find-nav&quot;&gt;&lt;i class=&quot;codicon codicon-chrome-close&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n\t\t\t\t\t\t\t&lt;/nav&gt;\n\t\t\t\t\t\t&lt;/div&gt;\n\t\t\t\t\t&lt;/div&gt;\n\t\t\t\t\t&lt;div class=&quot;extras-menu&quot; id=&quot;extras-menu-pane&quot; hidden=true;&gt;\n\t\t\t\t\t\t&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\n\t\t\t\t\t\t\t&lt;tr&gt;\n\t\t\t\t\t\t\t\t&lt;td&gt;\n\t\t\t\t\t\t\t\t\t&lt;button tabIndex=-1\n\t\t\t\t\t\t\t\t\t\tid=&quot;browser-open&quot; class=&quot;extra-menu-nav&quot;&gt;${S}&lt;/button&gt;\n\t\t\t\t\t\t\t\t&lt;/td&gt;\n\t\t\t\t\t\t\t&lt;/tr&gt;\n\t\t\t\t\t\t\t&lt;tr&gt;\n\t\t\t\t\t\t\t\t&lt;td&gt;\n\t\t\t\t\t\t\t\t\t&lt;button tabIndex=-1\n\t\t\t\t\t\t\t\t\t\tid=&quot;find&quot; class=&quot;extra-menu-nav&quot;&gt;${w}&lt;/button&gt;\n\t\t\t\t\t\t\t\t&lt;/td&gt;\n\t\t\t\t\t\t\t&lt;/tr&gt;\n\t\t\t\t\t\t\t&lt;tr&gt;\n\t\t\t\t\t\t\t\t&lt;td&gt;\n\t\t\t\t\t\t\t\t\t&lt;button tabIndex=-1\n\t\t\t\t\t\t\t\t\t\tid=&quot;devtools-open&quot; class=&quot;extra-menu-nav&quot;&gt;${T}&lt;/button&gt;\n\t\t\t\t\t\t\t\t&lt;/td&gt;\n\t\t\t\t\t\t\t&lt;/tr&gt;\n\t\t\t\t\t\t&lt;/table&gt;\n\t\t\t\t\t&lt;/div&gt;\n\t\t\t\t&lt;/div&gt;\n\t\t\t\t&lt;div class=&quot;content&quot;&gt;\n\t\t\t\t\t&lt;iframe id=&quot;hostedContent&quot; src=&quot;${t}&quot;&gt;&lt;/iframe&gt;\n\t\t\t\t&lt;/div&gt;\n\t\t\t&lt;/div&gt;\n\t\t\t&lt;div id=&quot;link-preview&quot;&gt;&lt;/div&gt;\n\t\t\t\t&lt;script nonce=&quot;${f}&quot;&gt;\n\t\t\t\t\tconst WS_URL= &quot;${r}&quot;;\n\t\t\t\t&lt;\/script&gt;\n\t\t\t\t&lt;script nonce=&quot;${f}&quot; src=&quot;${a}&quot;&gt;&lt;\/script&gt;\n\t\t\t&lt;/body&gt;\n\t\t&lt;/html&gt;`}async setUrlBar(e,t=this.currentConnection){this._panel.webview.postMessage({command:&quot;set-url&quot;,text:JSON.stringify({fullPath:await this.constructAddress(e,t),pathname:e})}),this.handleNewPageLoad(e,t)}handleNavAction(e){let t={};switch(e){case a.NavEditCommands.DISABLE_BACK:t={element:&quot;back&quot;,disabled:!0};break;case a.NavEditCommands.ENABLE_BACK:t={element:&quot;back&quot;,disabled:!1};break;case a.NavEditCommands.DISABLE_FORWARD:t={element:&quot;forward&quot;,disabled:!0};break;case a.NavEditCommands.ENABLE_FORWARD:t={element:&quot;forward&quot;,disabled:!1}}this._panel.webview.postMessage({command:&quot;changed-history&quot;,text:JSON.stringify(t)})}handleNewPageLoad(e,t,r=&quot;&quot;){var n;e.length&gt;0&amp;&amp;&quot;/&quot;!=e[0]&amp;&amp;(e=&quot;/&quot;+e),this._onPanelTitleChange.fire({title:r,pathname:e,connection:t}),this.currentAddress=e;const i=null===(n=this._pageHistory)||void 0===n?void 0:n.addHistory(e,t);if(i)for(const e of i.actions)this.handleNavAction(e)}updateForwardBackArrows(){const e=this._pageHistory.currentCommands;for(const t of e)this.handleNavAction(t)}async goForwards(){const e=this._pageHistory.goForward(),t=e.address;null!=t&amp;&amp;await this.goToFile(t.path,!1,t.connection);for(const t of e.actions)this.handleNavAction(t)}async goBack(){const e=this._pageHistory.goBackward(),t=e.address;null!=t&amp;&amp;await this.goToFile(t.path,!1,t.connection);for(const t of e.actions)this.handleNavAction(t)}}t.WebviewComm=u},6171:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.EndpointManager=void 0;const n=r(93),i=r(1362),o=r(9496);class s extends n.Disposable{constructor(){super(),this.validEndpointRoots=new Set;let e=0;const t=o.workspace.textDocuments;for(;e&lt;t.length;)t[e].isUntitled||i.PathUtil.GetWorkspaceFromAbsolutePath(t[e].fileName)||this.encodeLooseFileEndpoint(t[e].fileName),e++}async encodeLooseFileEndpoint(e){let t=await i.PathUtil.GetParentDir(e);const r=await i.PathUtil.GetFileName(e,!0);t=i.PathUtil.ConvertToPosixPath(t),this.validEndpointRoots.add(t);let n=&quot;/endpoint_unsaved&quot;;return(await i.PathUtil.FileExistsStat(e)).exists&amp;&amp;(n=this.changePrefixesForAbsPathEncode(t)),n=i.PathUtil.EscapePathParts(n),`${n}/${r}`}getEndpointParent(e){let t=e.endsWith(&quot;/&quot;)?e.substring(0,e.length-1):e;return t=t.split(&quot;/&quot;).pop(),t&amp;&amp;&quot;/endpoint_unsaved&quot;!=t?decodeURI(t):&quot;.&quot;}async decodeLooseFileEndpoint(e){const t=this.changePrefixesForAbsPathDecode(i.PathUtil.UnescapePathParts(e));if(this.validPath(t)&amp;&amp;(await i.PathUtil.FileExistsStat(t)).exists)return t}validPath(e){for(const t of this.validEndpointRoots.values())if(e.startsWith(t))return!0;return!1}changePrefixesForAbsPathDecode(e){let t=e;return e.startsWith(&quot;/&quot;)&amp;&amp;e.length&gt;1&amp;&amp;(t=e.substring(1)),e.startsWith(&quot;unc/&quot;)&amp;&amp;(t=`//${e.substring(4)}`),t}changePrefixesForAbsPathEncode(e){let t=`/${e}`;return e.startsWith(&quot;//&quot;)&amp;&amp;e.length&gt;2&amp;&amp;(t=`/unc/${e.substring(2)}`),t}}t.EndpointManager=s},8802:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.Manager=void 0;const n=r(93),i=r(9496),o=r(1362),s=r(5005),a=r(3442),c=r(8767),l=r(3463),p=r(9752),u=r(6171),d=r(1458),h=r(443),f=r(1265),v=r(5381),_=r(2220),m=r(7310),g=l.loadMessageBundle(r(1017).join(__dirname,&quot;src/manager.ts&quot;));class y extends n.Disposable{constructor(){super(...arguments),this._onShouldRevive=this._register(new i.EventEmitter),this.onShouldRevive=this._onShouldRevive.event}deserializeWebviewPanel(e,t){return this._onShouldRevive.fire({webviewPanel:e,state:t}),Promise.resolve()}}class E extends n.Disposable{constructor(e,t,r){super(),this._extensionUri=e,this._reporter=t,this._serverGroupings=new Map,this._pendingServerWorkspaces=new Set,this._connectionManager=this._register(new s.ConnectionManager),this._register(this._connectionManager.onConnected((e=&gt;{var t;this._statusBar.setServer(null===(t=e.workspace)||void 0===t?void 0:t.uri,e.httpPort),i.commands.executeCommand(&quot;setContext&quot;,f.LIVE_PREVIEW_SERVER_ON,!0)}))),this._endpointManager=this._register(new u.EndpointManager),this._previewManager=this._register(new d.PreviewManager(this._extensionUri,this._reporter,this._connectionManager,this._endpointManager,(()=&gt;{var e;this._hasServerRunning()&amp;&amp;!this._serverTaskProvider.isRunning&amp;&amp;i.workspace.workspaceFolders&amp;&amp;(null===(e=i.workspace.workspaceFolders)||void 0===e?void 0:e.length)&gt;0&amp;&amp;this._serverTaskProvider.runTaskWithExternalPreview&amp;&amp;this.closeAllServers()}))),this._statusBar=this._register(new h.StatusBarNotifier),this._serverTaskProvider=this._register(new p.ServerTaskProvider(this._reporter,this._endpointManager,this._connectionManager)),this._register(i.tasks.registerTaskProvider(p.ServerTaskProvider.CustomBuildScriptType,this._serverTaskProvider)),this._register(this._serverTaskProvider.onRequestOpenEditorToSide((e=&gt;{var t;if(this._previewManager.previewActive&amp;&amp;this._previewManager.currentPanel){const r=null!==(t=this._previewManager.currentPanel.panel.viewColumn)&amp;&amp;void 0!==t?t:i.ViewColumn.One,n=r==i.ViewColumn.One?r+1:r-1;i.commands.executeCommand(&quot;vscode.open&quot;,e,{viewColumn:n})}else i.commands.executeCommand(&quot;vscode.open&quot;,e)}))),this._register(this._serverTaskProvider.onRequestToOpenServer((async e=&gt;{const t=await this._getServerGroupingFromWorkspace(e);await t.openServer(!0)}))),this._register(this._serverTaskProvider.onRequestToCloseServer((e=&gt;{if(this._previewManager.previewActive)this._serverTaskProvider.serverStop(!1,e);else{const t=this._serverGroupings.get(null==e?void 0:e.uri.toString());null==t||t.dispose()}})));const n=this._register(new y);this._register(n.onShouldRevive((async e=&gt;{var t;let r,n=!1,s=null!==(t=e.state.currentAddress)&amp;&amp;void 0!==t?t:&quot;/&quot;,a=await o.PathUtil.GetWorkspaceFromRelativePath(s);if(a?n=!0:a=await o.PathUtil.GetWorkspaceFromAbsolutePath(s),!a){const t=await this._endpointManager.decodeLooseFileEndpoint(s);if(!t)return void e.webviewPanel.dispose();s=t}const c=await this._getServerGroupingFromWorkspace(a);r=a?i.Uri.joinPath(a.uri,await o.PathUtil.GetValidServerRootForWorkspace(a),s):i.Uri.parse(s),c.createOrShowEmbeddedPreview(e.webviewPanel,r,n),e.webviewPanel.webview.options=this._previewManager.getWebviewOptions()}))),i.window.registerWebviewPanelSerializer&amp;&amp;this._register(i.window.registerWebviewPanelSerializer(a.BrowserPreview.viewType,n)),this._register(i.workspace.onDidChangeWorkspaceFolders((e=&gt;{e.removed&amp;&amp;e.removed.forEach((e=&gt;{const t=this._serverGroupings.get(e.uri.toString());t&amp;&amp;t.dispose()}))}))),this._register(this._serverTaskProvider.onShouldLaunchPreview((e=&gt;{e.uri&amp;&amp;&quot;file&quot;!==e.uri.scheme?this.openPreviewAtLink(e.uri,e.previewType):this.openPreviewAtFileUri(e.uri,e.options,e.previewType)}))),this._register(this._previewManager.onShouldLaunchPreview((e=&gt;{e.uri&amp;&amp;&quot;file&quot;!==e.uri.scheme?this.openPreviewAtLink(e.uri,e.previewType):this.openPreviewAtFileUri(e.uri,e.options,e.previewType)}))),this._updateListener=this._register(new _.UpdateListener(r)),this._register(this._updateListener.shouldRefreshPreviews((()=&gt;this._refreshBrowsers())))}async handleOpenFile(e,t,r,n,i,s){return&quot;file&quot;!==r.scheme&amp;&amp;console.error(&quot;Tried to open a non-file URI with file opener&quot;),s||(n?s=await this._getServerGroupingFromWorkspace(await this._shouldUseWorkspaceForFile(n,r)?n:void 0):i?this._serverGroupings.forEach((e=&gt;{e.port!==i||(s=e)})):(n=await o.PathUtil.GetWorkspaceFromURI(r),s=await this._getServerGroupingFromWorkspace(n))),s||(s=await this._getServerGroupingFromWorkspace(void 0)),this._openPreview(e,s,r,t)}async forceCloseServers(){this._serverGroupings.size&gt;1?this._showCloseServerPicker():this.closeAllServers()}async _showCloseServerPicker(){const e=[],t=i.window.createQuickPick();e.push(t),t.matchOnDescription=!0,t.placeholder=g(0,null),t.items=await this._getServerPicks(),e.push(t.onDidAccept((()=&gt;{t.selectedItems[0].accept(),t.hide(),e.forEach((e=&gt;e.dispose()))}))),t.show()}closeAllServers(){this._serverGroupings.forEach((e=&gt;{e.dispose()}))}dispose(){this.closeAllServers(),super.dispose()}closePanel(){var e;null===(e=this._previewManager.currentPanel)||void 0===e||e.close()}async openPreviewAtFileString(e,t,r=!1){if(&quot;&quot;===e)return this._openPreviewWithNoTarget();const n=await o.PathUtil.GetWorkspaceFromRelativePath(e,r);if(n){const s=i.Uri.joinPath(n.uri,r?&quot;&quot;:await o.PathUtil.GetValidServerRootForWorkspace(n),e);this.openPreviewAtFileUri(s,{workspace:n},t)}else if((await o.PathUtil.FileExistsStat(e)).exists){const r=i.Uri.file(e);this.openPreviewAtFileUri(r,void 0,t)}else i.window.showWarningMessage(g(1,null,e)),this.openPreviewAtFileUri(void 0,void 0,t)}async runTaskForFile(e){var t,r,n;let s;if(e||(e=null===(t=i.window.activeTextEditor)||void 0===t?void 0:t.document.uri),e)s=await o.PathUtil.GetWorkspaceFromURI(e);else if(i.workspace.workspaceFolders&amp;&amp;(null===(r=i.workspace.workspaceFolders)||void 0===r?void 0:r.length)&gt;0)if(this._serverGroupings.size&gt;0){const e=Array.from(this._serverGroupings.values()).find((e=&gt;e.workspace&amp;&amp;e.isRunning));s=null!==(n=null==e?void 0:e.workspace)&amp;&amp;void 0!==n?n:i.workspace.workspaceFolders[0]}else s=i.workspace.workspaceFolders[0];if(s)return await this._serverTaskProvider.extRunTask(s)}async openPreviewAtLink(e,t){const r=t===c.PreviewType.externalDebugPreview,n=this._isInternalPreview(t);try{if(&quot;https&quot;!==e.scheme&amp;&amp;&quot;http&quot;!==e.scheme)throw console.error(`${e.scheme} does not correspond to a link URI`),Error;const o=`${e.scheme}://${e.authority}`,s=new m.URL(o),a=parseInt(s.port),c=this._connectionManager.getConnectionFromPort(a);if(!c)return this.openPreviewAtFileString(e.path,t);const l=await this._getServerGroupingFromWorkspace(c.workspace);if(!c.rootURI)return this._openPreview(n,l,i.Uri.file(this._endpointManager.changePrefixesForAbsPathDecode(e.path)),r);const p=c.getAppendedURI(e.path);this._openPreview(n,l,p,r)}catch(e){i.window.showErrorMessage(g(2,null))}}async openPreviewAtFileUri(e,t,r){var n,o;let s;if(e)s=e;else if(null===(n=this._previewManager.currentPanel)||void 0===n?void 0:n.panel.active)s=this._previewManager.currentPanel.currentConnection.rootURI?i.Uri.joinPath(this._previewManager.currentPanel.currentConnection.rootURI,this._previewManager.currentPanel.currentAddress):i.Uri.parse(this._previewManager.currentPanel.currentAddress);else{const e=null===(o=i.window.activeTextEditor)||void 0===o?void 0:o.document.uri;if(!e)return this._openPreviewWithNoTarget();s=e}r||(r=c.SettingUtil.GetPreviewType());const a=r===c.PreviewType.internalPreview,l=r===c.PreviewType.externalDebugPreview;return this.handleOpenFile(a,l,s,null==t?void 0:t.workspace,null==t?void 0:t.port,null==t?void 0:t.manager)}_refreshBrowsers(){Array.from(this._serverGroupings.values()).forEach((e=&gt;{e.refresh()}))}async _shouldUseWorkspaceForFile(e,t){if(!e)return!1;const r=await o.PathUtil.GetValidServerRootForWorkspace(e);if(&quot;&quot;===r)return!0;if(t){const n=i.Uri.joinPath(e.uri,r);if(n&amp;&amp;t.fsPath.startsWith(n.fsPath))return!0}return!1}async _getServerGroupingFromWorkspace(e){let t=this._serverGroupings.get(null==e?void 0:e.uri.toString());if(!t){const r=await this._connectionManager.createAndAddNewConnection(e);this._register(r.onConnected((()=&gt;{this._pendingServerWorkspaces.delete(null==e?void 0:e.uri.toString())}))),t=this._register(new v.ServerGrouping(this._extensionUri,this._reporter,this._endpointManager,r,this._serverTaskProvider,this._pendingServerWorkspaces)),this._register(t.onClose((()=&gt;{var t;this._previewManager.currentPanel&amp;&amp;this._previewManager.currentPanel.currentConnection===r&amp;&amp;(null===(t=this._previewManager.currentPanel)||void 0===t||t.close()),this._statusBar.removeServer(null==e?void 0:e.uri),this._serverGroupings.delete(null==e?void 0:e.uri.toString()),0===this._serverGroupings.size&amp;&amp;(this._statusBar.serverOff(),i.commands.executeCommand(&quot;setContext&quot;,f.LIVE_PREVIEW_SERVER_ON,!1)),this._connectionManager.removeConnection(e)}))),this._register(t.onShouldLaunchEmbeddedPreview((e=&gt;this._previewManager.launchFileInEmbeddedPreview(e.panel,e.connection,e.uri)))),this._register(t.onShouldLaunchExternalPreview((e=&gt;this._previewManager.launchFileInExternalBrowser(e.debug,e.connection,e.uri)))),this._serverGroupings.set(null==e?void 0:e.uri.toString(),t)}return t}async _openPreview(e,t,r,n=!1){e?await t.createOrShowEmbeddedPreview(void 0,r):await t.showPreviewInBrowser(n,r)}_hasServerRunning(){return 0!==Array.from(this._serverGroupings.values()).filter((e=&gt;e.running)).length}_isInternalPreview(e){return e||(e=c.SettingUtil.GetPreviewType()),e===c.PreviewType.internalPreview}async _openPreviewWithNoTarget(){const e=this._isInternalPreview(),t=i.workspace.workspaceFolders;if(t&amp;&amp;t.length&gt;0){for(let e=0;e&lt;t.length;e++){const r=t[e],n=this._serverGroupings.get(r.uri.toString());if(n)return void this.openPreviewAtFileUri(void 0,{workspace:r,manager:n})}const r=await this._getServerGroupingFromWorkspace(t[0]);this._openPreview(e,r,void 0)}else{const t=await this._getServerGroupingFromWorkspace(void 0);this._openPreview(e,t,void 0)}}async _getServerPicks(){const e=[],t=await Promise.all(Array.from(this._serverGroupings.values()).map((e=&gt;this._getServerPickFromGrouping(e))));return t.forEach((t=&gt;{t&amp;&amp;e.push(t)})),t.length&gt;0&amp;&amp;e.push({label:g(3,null),accept:()=&gt;this.closeAllServers()}),e}_getServerPickFromGrouping(e){var t,r;const n=this._connectionManager.getConnection(e.workspace);if(n)return{label:`$(radio-tower) ${n.httpPort}`,description:null!==(r=null===(t=e.workspace)||void 0===t?void 0:t.name)&amp;&amp;void 0!==r?r:g(4,null),accept:()=&gt;{e.dispose()}}}}t.Manager=E},3033:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.HttpServer=void 0;const n=r(9496),i=r(3685),o=r(1017),s=r(93),a=r(5889),c=r(1265),l=r(1362);class p extends s.Disposable{constructor(e,t,r,i){super(),this._reporter=t,this._endpointManager=r,this._connection=i,this._onConnected=this._register(new n.EventEmitter),this.onConnected=this._onConnected.event,this._onNewReqProcessed=this._register(new n.EventEmitter),this.onNewReqProcessed=this._onNewReqProcessed.event,this._contentLoader=this._register(new a.ContentLoader(e,t,r,i))}get _basePath(){var e;return null!==(e=this._connection.rootPath)&amp;&amp;void 0!==e?e:&quot;&quot;}start(e){this._connection.httpPort=e,this._contentLoader.resetServedFiles(),this._startHttpServer()}close(){this._server.close()}_startHttpServer(){return this._server=this._createServer(),this._server.on(&quot;listening&quot;,(()=&gt;{console.log(`Server is running on port ${this._connection.httpPort}`),this._onConnected.fire(this._connection.httpPort)})),this._server.on(&quot;error&quot;,(e=&gt;{&quot;EADDRINUSE&quot;==e.code?(this._connection.httpPort++,this._server.listen(this._connection.httpPort,this._connection.host)):&quot;EADDRNOTAVAIL&quot;==e.code?(this._connection.resetHostToDefault(),this._server.listen(this._connection.httpPort,this._connection.host)):(this._reporter.sendTelemetryErrorEvent(&quot;server.err&quot;,{type:&quot;http&quot;,err:e}),console.log(`Unknown error: ${e}`))})),this._server.listen(this._connection.httpPort,this._connection.host),!0}async _serveStream(e,t,r){var i,s,a,p,u;if(!t||!t.url)return void this._reportAndReturn(500,t,r);const d=await this._connection.resolveExternalHTTPUri(),h=d.authority;if(&quot;localhost&quot;!==t.headers.host&amp;&amp;t.headers.host!==this._connection.host&amp;&amp;t.headers.host!==h||t.headers.origin&amp;&amp;t.headers.origin!==`${d.scheme}://${h}`)return void this._reportAndReturn(401,t,r);let f;if(t.url===c.INJECTED_ENDPOINT_NAME){const e=this._contentLoader.loadInjectedJS(),t=null!==(i=e.ContentType)&amp;&amp;void 0!==i?i:&quot;&quot;;return r.writeHead(200,{&quot;Accept-Ranges&quot;:&quot;bytes&quot;,&quot;Content-Type&quot;:t}),f=e.Stream,void(null==f||f.pipe(r))}const v=n.Uri.parse(`${d.scheme}://${d.authority}${t.url}`);let _=v.path;const m=(e=!1)=&gt;{const n=e?this._contentLoader.createNoRootServer():this._contentLoader.createPageDoesNotExist(y);r.writeHead(404,{&quot;Accept-Ranges&quot;:&quot;bytes&quot;,&quot;Content-Type&quot;:n.ContentType}),this._reportStatus(t,r),f=n.Stream,null==f||f.pipe(r)};if(&quot;&quot;===e&amp;&amp;(&quot;/&quot;===_||&quot;&quot;===_))return void m(!0);let g=!1;_=decodeURI(_);let y=o.join(e,_),E=&quot;application/octet-stream&quot;;if(&quot;&quot;===e){if(_.startsWith(&quot;/endpoint_unsaved&quot;)){const e=_.substring(_.lastIndexOf(&quot;/&quot;)+1),t=await this._contentLoader.getFileStream(e,!1);if(t.Stream)return f=t.Stream,E=null!==(s=t.ContentType)&amp;&amp;void 0!==s?s:&quot;&quot;,r.writeHead(200,{&quot;Accept-Ranges&quot;:&quot;bytes&quot;,&quot;Content-Type&quot;:E}),void f.pipe(r)}const e=await this._endpointManager.decodeLooseFileEndpoint(_);if(g=!0,!e||!(await l.PathUtil.FileExistsStat(e)).exists)return void m();y=e}else l.PathUtil.PathBeginsWith(y,e)||(y=e);const b=await l.PathUtil.FileExistsStat(y);if(b.exists){if(b.stat&amp;&amp;b.stat.isDirectory()){if(!_.endsWith(&quot;/&quot;)){const e=v.query;return _=encodeURI(_),r.setHeader(&quot;Location&quot;,`${_}/?${e}`),void this._reportAndReturn(302,t,r)}if((await l.PathUtil.FileExistsStat(o.join(y,&quot;index.html&quot;))).exists){y=o.join(y,&quot;index.html&quot;);const e=await this._contentLoader.getFileStream(y);f=e.Stream,E=null!==(a=e.ContentType)&amp;&amp;void 0!==a?a:&quot;&quot;}else{const e=await this._contentLoader.createIndexPage(y,_,g?this._endpointManager.getEndpointParent(_):void 0);f=e.Stream,E=null!==(p=e.ContentType)&amp;&amp;void 0!==p?p:&quot;&quot;}}else{const e=await this._contentLoader.getFileStream(y);f=e.Stream,E=null!==(u=e.ContentType)&amp;&amp;void 0!==u?u:&quot;&quot;}f?(f.on(&quot;error&quot;,(()=&gt;{this._reportAndReturn(500,t,r)})),r.writeHead(200,{&quot;Accept-Ranges&quot;:&quot;bytes&quot;,&quot;Content-Type&quot;:E}),f.pipe(r),this._reportStatus(t,r)):this._reportAndReturn(500,t,r)}else m()}_createServer(){return i.createServer(((e,t)=&gt;this._serveStream(this._basePath,e,t)))}_reportAndReturn(e,t,r){r.writeHead(e),this._reportStatus(t,r),r.end()}_reportStatus(e,t){var r,n;this._onNewReqProcessed.fire({method:null!==(r=e.method)&amp;&amp;void 0!==r?r:&quot;&quot;,url:null!==(n=e.url)&amp;&amp;void 0!==n?n:&quot;&quot;,status:t.statusCode})}}t.HttpServer=p},5381:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.ServerGrouping=void 0;const n=r(9496),i=r(1808),o=r(3463),s=r(93),a=r(1153),c=r(3033),l=r(8767),p=r(1265),u=r(9752),d=o.loadMessageBundle(r(1017).join(__dirname,&quot;src/server/serverGrouping.ts&quot;));class h extends s.Disposable{constructor(e,t,r,i,o,s){super(),this._connection=i,this._serverTaskProvider=o,this._pendingServerWorkspaces=s,this._isServerOn=!1,this._wsConnected=!1,this._httpConnected=!1,this._onNewReqProcessed=this._register(new n.EventEmitter),this.onNewReqProcessed=this._onNewReqProcessed.event,this._onClose=this._register(new n.EventEmitter),this.onClose=this._onClose.event,this._onShouldLaunchExternalPreview=this._register(new n.EventEmitter),this.onShouldLaunchExternalPreview=this._onShouldLaunchExternalPreview.event,this._onShouldLaunchEmbeddedPreview=this._register(new n.EventEmitter),this.onShouldLaunchEmbeddedPreview=this._onShouldLaunchEmbeddedPreview.event,this._httpServer=this._register(new c.HttpServer(e,t,r,i)),this._wsServer=this._register(new a.WSServer(t,r,i)),this._register(this._httpServer.onNewReqProcessed((e=&gt;{this._serverTaskProvider.sendServerInfoToTerminal(e,this._connection.workspace),this._onNewReqProcessed.fire(e)}))),this._register(this._wsServer.onConnected((()=&gt;{this._wsConnected=!0,this._wsConnected&amp;&amp;this._httpConnected&amp;&amp;this._connected()}))),this._register(this._httpServer.onConnected((()=&gt;{this._httpConnected=!0,this._wsConnected&amp;&amp;this._httpConnected&amp;&amp;this._connected()}))),this._connection.onConnected((e=&gt;{this._serverTaskProvider.serverStarted(e.httpURI,u.ServerStartedStatus.JUST_STARTED,this._connection.workspace),this._pendingLaunchInfo&amp;&amp;(this._pendingLaunchInfo.external?this._onShouldLaunchExternalPreview.fire({uri:this._pendingLaunchInfo.uri,debug:this._pendingLaunchInfo.debug,connection:this._connection}):this._onShouldLaunchEmbeddedPreview.fire({uri:this._pendingLaunchInfo.uri,panel:this._pendingLaunchInfo.panel,connection:this._connection}),this._pendingLaunchInfo=void 0)}))}get port(){return this._connection.httpPort}get workspace(){return this._connection.workspace}get isRunning(){return this._isServerOn}refresh(){this._wsServer.refreshBrowsers()}closeServer(){return!!this.isRunning&amp;&amp;(this._httpServer.close(),this._wsServer.close(),this._isServerOn=!1,this._serverTaskProvider.serverStop(!0,this._connection.workspace),this._showServerStatusMessage(&quot;Server Stopped&quot;),this._onClose.fire(),this._serverTaskProvider.isTaskRunning(this._connection.workspace)&amp;&amp;this._serverTaskProvider.serverStop(!0,this._connection.workspace),this._connection.dispose(),!0)}async openServer(e=!1){var t,r,n;if(this._pendingServerWorkspaces.has(null===(t=this.workspace)||void 0===t?void 0:t.uri.toString()))return;const i=this._connection.httpPort;if(this._pendingServerWorkspaces.add(null===(r=this.workspace)||void 0===r?void 0:r.uri.toString()),this.isRunning){if(e){const e=await this._connection.resolveExternalHTTPUri();this._serverTaskProvider.serverStarted(e,u.ServerStartedStatus.STARTED_BY_EMBEDDED_PREV,this._connection.workspace)}}else{this._httpConnected=!1,this._wsConnected=!1;const e=await this._findFreePort(i);this._httpServer.start(e),this._wsServer.start(e+1)}this._pendingServerWorkspaces.delete(null===(n=this.workspace)||void 0===n?void 0:n.uri.toString())}async showPreviewInBrowser(e,t){this._serverTaskProvider.isTaskRunning(this._connection.workspace)?this._onShouldLaunchExternalPreview.fire({uri:t,debug:e,connection:this._connection}):(this.isRunning?this._onShouldLaunchExternalPreview.fire({uri:t,debug:e,connection:this._connection}):this._pendingLaunchInfo={external:!0,uri:t,debug:e,connection:this._connection},this._serverTaskProvider.runTaskWithExternalPreview&amp;&amp;n.workspace.workspaceFolders&amp;&amp;n.workspace.workspaceFolders.length&gt;0?await this._serverTaskProvider.extRunTask(this._connection.workspace):await this.openServer())}get running(){return this.isRunning}async createOrShowEmbeddedPreview(e,t,r=!1){this.isRunning?this._onShouldLaunchEmbeddedPreview.fire({uri:t,panel:e,connection:this._connection}):(this._pendingLaunchInfo={external:!1,panel:e,uri:t,debug:r,connection:this._connection},await this.openServer())}async _findFreePort(e){return new Promise((t=&gt;{let r=e;const n=new i.Socket,o=this._connection.host;n.setTimeout(500),n.on(&quot;connect&quot;,(function(){n.destroy(),r++,n.connect(r,o)})),n.on(&quot;error&quot;,(function(e){t(r)})),n.on(&quot;timeout&quot;,(function(){t(r)})),n.connect(r,o)}))}async _connected(){this._isServerOn=!0,this._showServerStatusMessage(d(0,null,this._connection.httpPort)),await this._connection.connected(this._connection.httpPort,this._wsServer.wsPort,this._wsServer.wsPath)}_showServerStatusMessage(e){l.SettingUtil.GetConfig().showServerStatusNotifications&amp;&amp;n.window.showInformationMessage(e,p.DONT_SHOW_AGAIN).then((async e=&gt;{e==p.DONT_SHOW_AGAIN&amp;&amp;await l.SettingUtil.UpdateSettings(l.Settings.showServerStatusNotifications,!1,n.ConfigurationTarget.Global)}))}dispose(){this.closeServer()}}t.ServerGrouping=h},9829:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.HTMLInjector=void 0;const n=r(7147),i=r(1017),o=r(1265),s=r(93);class a extends s.Disposable{constructor(e,t){super(),this._connection=t;const r=i.join(e.fsPath,&quot;media&quot;,&quot;injectScript.js&quot;);this.rawScript=n.readFileSync(r,&quot;utf8&quot;).toString(),this._initScript(this.rawScript,void 0,void 0),this._register(this._connection.onConnected((e=&gt;{this._refresh(e.httpURI,e.wsURI)})))}get script(){return this._script}async _initScript(e,t,r){t||(t=await this._connection.resolveExternalHTTPUri()),r||(r=await this._connection.resolveExternalWSUri());const n=`${&quot;https&quot;===t.scheme?&quot;wss&quot;:&quot;ws&quot;}://${r.authority}${r.path}`;let i=`${t.scheme}://${t.authority}`;i.endsWith(&quot;/&quot;)&amp;&amp;(i=i.substring(i.length-1));const s=[{original:o.WS_URL_PLACEHOLDER,replacement:n},{original:o.HTTP_URL_PLACEHOLDER,replacement:i}];this._script=this._replace(e,s)}_replace(e,t){return t.forEach((t=&gt;{const r=e.indexOf(t.original);e=e.substring(0,r)+t.replacement+e.substring(r+t.original.length)})),e}async _refresh(e,t){await this._initScript(this.rawScript,e,t)}}t.HTMLInjector=a},5889:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.ContentLoader=void 0;const n=r(2781),i=r(7147),o=r(9496),s=r(1017),a=r(8772),c=r(3463),l=r(93),p=r(6980),u=r(9829),d=r(1362),h=r(1265),f=c.loadMessageBundle(r(1017).join(__dirname,&quot;src/server/serverUtils/contentLoader.ts&quot;));class v extends l.Disposable{constructor(e,t,r,n){super(),this._reporter=t,this._endpointManager=r,this._connection=n,this._servedFiles=new Set,this._insertionTags=[&quot;head&quot;,&quot;body&quot;,&quot;html&quot;,&quot;!DOCTYPE&quot;],this._scriptInjector=new u.HTMLInjector(e,n)}resetServedFiles(){this._servedFiles=new Set}get servedFiles(){return this._servedFiles}get _scriptInjection(){return`&lt;script type=&quot;text/javascript&quot; src=&quot;${h.INJECTED_ENDPOINT_NAME}&quot;&gt;&lt;\/script&gt;`}loadInjectedJS(){var e,t;const r=null!==(t=null===(e=this._scriptInjector)||void 0===e?void 0:e.script)&amp;&amp;void 0!==t?t:&quot;&quot;;return{Stream:n.Readable.from(r),ContentType:&quot;text/javascript; charset=UTF-8&quot;}}createPageDoesNotExist(e){this._reporter.sendTelemetryEvent(&quot;server.pageDoesNotExist&quot;);const t=f(0,null),r=`\n\t\t&lt;!DOCTYPE html&gt;\n\t\t&lt;html&gt;\n\t\t\t&lt;head&gt;\n\t\t\t\t&lt;title&gt;${t}&lt;/title&gt;\n\t\t\t&lt;/head&gt;\n\t\t\t&lt;body&gt;\n\t\t\t\t&lt;h1&gt;${t}&lt;/h1&gt;\n\t\t\t\t&lt;p&gt;${f(1,null,`&lt;b&gt;&quot;${e}&quot;&lt;/b&gt;`)}&lt;/p&gt;\n\t\t\t&lt;/body&gt;\n\t\t\t${this._scriptInjection}\n\t\t&lt;/html&gt;\n\t\t`;return{Stream:n.Readable.from(r),ContentType:&quot;text/html; charset=UTF-8&quot;}}createNoRootServer(){const e=f(2,null),t=`\n\t\t&lt;!DOCTYPE html&gt;\n\t\t&lt;html&gt;\n\t\t\t&lt;head&gt;\n\t\t\t\t&lt;title&gt;${e}&lt;/title&gt;\n\t\t\t&lt;/head&gt;\n\t\t\t&lt;body&gt;\n\t\t\t\t&lt;h1&gt;${e}&lt;/h1&gt;\n\t\t\t\t&lt;p&gt;${f(3,null)}&lt;/p&gt;\n\t\t\t&lt;/body&gt;\n\t\t\t${this._scriptInjection}\n\t\t&lt;/html&gt;\n\t\t`;return{Stream:n.Readable.from(t),ContentType:&quot;text/html; charset=UTF-8&quot;}}async createIndexPage(e,t,r=t){this._reporter.sendTelemetryEvent(&quot;server.indexPage&quot;);const i=await this.fsReadDir(e),o=new Array,a=new Array;&quot;/&quot;!=t&amp;&amp;a.push({LinkSrc:&quot;..&quot;,LinkName:&quot;..&quot;,DateTime:&quot;&quot;});for(const r of i){const n=s.join(t,r),i=s.join(e,r),c=(await d.PathUtil.FileExistsStat(i)).stat;if(!c)continue;const l=(0,p.FormatDateTime)(c.mtime);if(c.isDirectory())a.push({LinkSrc:n,LinkName:r,DateTime:l});else{const e=(0,p.FormatFileSize)(c.size);o.push({LinkSrc:n,LinkName:r,FileSize:e,DateTime:l})}}let c=&quot;&quot;;a.forEach((e=&gt;c+=`\n\t\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td&gt;&lt;a href=&quot;${e.LinkSrc}/&quot;&gt;${e.LinkName}/&lt;/a&gt;&lt;/td&gt;\n\t\t\t\t&lt;td&gt;&lt;/td&gt;\n\t\t\t\t&lt;td&gt;${e.DateTime}&lt;/td&gt;\n\t\t\t\t&lt;/tr&gt;\n`)),o.forEach((e=&gt;c+=`\n\t\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td&gt;&lt;a href=&quot;${e.LinkSrc}&quot;&gt;${e.LinkName}&lt;/a&gt;&lt;/td&gt;\n\t\t\t\t&lt;td&gt;${e.FileSize}&lt;/td&gt;\n\t\t\t\t&lt;td&gt;${e.DateTime}&lt;/td&gt;\n\t\t\t\t&lt;/tr&gt;\n`));const l=f(4,null,r),u=`\n\t\t&lt;!DOCTYPE html&gt;\n\t\t&lt;html&gt;\n\t\t\t&lt;head&gt;\n\t\t\t\t&lt;style&gt;\n\t\t\t\t\ttable td {\n\t\t\t\t\t\tpadding:4px;\n\t\t\t\t\t}\n\t\t\t\t&lt;/style&gt;\n\t\t\t\t&lt;title&gt;${l}&lt;/title&gt;\n\t\t\t&lt;/head&gt;\n\t\t\t&lt;body&gt;\n\t\t\t&lt;h1&gt;${l}&lt;/h1&gt;\n\t\t\t&lt;table&gt;\n\t\t\t\t&lt;th&gt;${f(5,null)}&lt;/th&gt;&lt;th&gt;${f(6,null)}&lt;/th&gt;&lt;th&gt;${f(7,null)}&lt;/th&gt;\n\t\t\t\t${c}\n\t\t\t&lt;/table&gt;\n\t\t\t&lt;/body&gt;\n\t\t\t${this._scriptInjection}\n\t\t&lt;/html&gt;\n\t\t`;return{Stream:n.Readable.from(u),ContentType:&quot;text/html; charset=UTF-8&quot;}}async getFileStream(e,t=!0){var r;this._servedFiles.add(e);const s=o.workspace.textDocuments;let c,l=0,u=null!==(r=a.getType(e))&amp;&amp;void 0!==r?r:&quot;text/plain&quot;;for(;l&lt;s.length;){if(d.PathUtil.PathEquals(e,s[l].fileName)){if(t&amp;&amp;s[l].isUntitled)continue;let e=s[l].getText();&quot;html&quot;==s[l].languageId&amp;&amp;(e=this._injectIntoFile(e),u=&quot;text/html&quot;),c=n.Readable.from(e);break}l++}if(t&amp;&amp;l==s.length)if((0,p.isFileInjectable)(e)){const t=await d.PathUtil.FileRead(e),r=this._injectIntoFile(t.toString());c=n.Readable.from(r)}else c=i.createReadStream(e);return u.startsWith(&quot;text/&quot;)&amp;&amp;(u=`${u}; charset=UTF-8`),{Stream:c,ContentType:u}}_injectIntoFile(e){let t,r=0;for(const n of this._insertionTags)if(t=new RegExp(`&lt;${n}[^&gt;]*&gt;`,&quot;g&quot;),t.test(e),r=t.lastIndex,0!=r)break;return e.substring(0,r)+this._scriptInjection+e.substring(r)}fsReadDir(e){return new Promise((t=&gt;i.readdir(e,((e,r)=&gt;{t(e?[]:r)}))))}}t.ContentLoader=v},443:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.StatusBarNotifier=void 0;const n=r(9496),i=r(3463),o=r(93),s=i.loadMessageBundle(r(1017).join(__dirname,&quot;src/server/serverUtils/statusBarNotifier.ts&quot;));class a extends o.Disposable{constructor(){super(),this._statusBar=this._register(n.window.createStatusBarItem(n.StatusBarAlignment.Right,100)),this._statusBar.name=s(0,null),this.serverOff(),this._on=!1,this._ports=new Map}setServer(e,t){this._on=!0,this._statusBar.show(),this._ports.set(null==e?void 0:e.toString(),t),this._refreshBar()}_refreshBar(){let e,t;if(1===this._ports.size){const t=this._ports.values().next().value;e=s(1,null,t)}else e=2===this._ports.size?s(2,null,Array.from(this._ports.values()).join(&quot;, &quot;)):s(3,null,this._ports.size);const r=[];this._ports.forEach(((e,t)=&gt;{try{const i=t?n.workspace.getWorkspaceFolder(n.Uri.parse(t)):void 0;r.push(`\n\t• ${e} (${i?i.name:s(4,null)})`)}catch{}})),t=1==this._ports.size?s(5,null):s(6,null)+&quot; &quot;,t+=r.join(&quot;&quot;),this._statusBar.tooltip=t,this._statusBar.text=`$(radio-tower) ${e}`,this._statusBar.command={title:s(7,null),command:&quot;workbench.action.quickOpen&quot;,arguments:[&quot;&gt;Live Preview: &quot;]}}serverOff(){this._on=!1,this._statusBar.hide()}removeServer(e){this._ports.delete(null==e?void 0:e.toString()),0===this._ports.size?this.serverOff():this._refreshBar()}}t.StatusBarNotifier=a},1153:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.WSServer=t.WSServerWithOriginCheck=void 0;const n=r(9496),i=r(8681),o=r(1017),s=r(7310),a=r(6113),c=r(93),l=r(6980),p=r(1265),u=r(1362);class d extends i.Server{shouldHandle(e){const t=e.headers.origin;return super.shouldHandle(e)&amp;&amp;t&amp;&amp;(t.startsWith(p.UriSchemes.vscode_webview)||this.externalHostName&amp;&amp;t===this.externalHostName)}}t.WSServerWithOriginCheck=d;class h extends c.Disposable{constructor(e,t,r){super(),this._reporter=e,this._endpointManager=t,this._connection=r,this.wsPort=0,this._onConnected=this._register(new n.EventEmitter),this.onConnected=this._onConnected.event,this._register(r.onConnected((e=&gt;{this.externalHostName=`${e.httpURI.scheme}://${e.httpURI.authority}`})))}set externalHostName(e){this._wss&amp;&amp;(this._wss.externalHostName=e)}get _basePath(){return this._connection.rootPath}get wsPath(){return this._wsPath}start(e){var t;this.wsPort=e,this._wsPath=`/${(0,a.randomBytes)(20).toString(&quot;hex&quot;)}`,this._startWSServer(null!==(t=this._basePath)&amp;&amp;void 0!==t?t:&quot;&quot;)}close(){null!=this._wss&amp;&amp;this._wss.close()}refreshBrowsers(){this._wss&amp;&amp;this._wss.clients.forEach((e=&gt;e.send(JSON.stringify({command:&quot;reload&quot;}))))}_startWSServer(e){return this._wss=new d({port:this.wsPort,host:this._connection.host,path:this._wsPath}),this._wss.on(&quot;connection&quot;,(t=&gt;this._handleWSConnection(e,t))),this._wss.on(&quot;error&quot;,(t=&gt;this._handleWSError(e,t))),this._wss.on(&quot;listening&quot;,(()=&gt;this._handleWSListen())),!0}_handleWSError(e,t){&quot;EADDRINUSE&quot;==t.code?(this.wsPort++,this._startWSServer(e)):&quot;EADDRNOTAVAIL&quot;==t.code?(this._connection.resetHostToDefault(),this._startWSServer(e)):(this._reporter.sendTelemetryErrorEvent(&quot;server.err&quot;,{type:&quot;ws&quot;,err:t}),console.log(`Unknown error: ${t}`))}_handleWSListen(){console.log(`Websocket server is running on port ${this.wsPort}`),this._onConnected.fire()}_handleWSConnection(e,t){t.on(&quot;message&quot;,(async r=&gt;{const n=JSON.parse(r);if(&quot;urlCheck&quot;===n.command){const r=await this._performTargetInjectableCheck(e,n.url);if(!r.injectable){this._reporter.sendTelemetryEvent(&quot;server.ws.foundNonInjectable&quot;);const e={command:&quot;foundNonInjectable&quot;,path:r.pathname,port:r.port};t.send(JSON.stringify(e))}}}))}async _performTargetInjectableCheck(e,t){const r=new s.URL(t);let n=o.join(e,r.pathname),i=0;try{i=parseInt(r.port)}catch{}if(!e){const e=await this._endpointManager.decodeLooseFileEndpoint(u.PathUtil.ConvertToPosixPath(n));if(!e||!(await u.PathUtil.FileExistsStat(e)).exists)return{injectable:!0,pathname:r.pathname,port:i};n=e}const a=await u.PathUtil.FileExistsStat(n);return a.stat&amp;&amp;a.stat.isDirectory()||(0,l.isFileInjectable)(n)?{injectable:!0,pathname:r.pathname,port:i}:{injectable:!1,pathname:r.pathname,port:i}}}t.WSServer=h},1716:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0});const n=r(3463);n.config({messageFormat:n.MessageFormat.bundle,bundleFormat:n.BundleFormat.standalone})},367:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.serverTaskLinkProvider=void 0;const n=r(9496),i=r(3463),o=r(7310),s=r(93),a=r(1362),c=r(1265),l=r(6980),p=i.loadMessageBundle(r(1017).join(__dirname,&quot;src/task/serverTaskLinkProvider.ts&quot;));class u extends s.Disposable{constructor(e,t,r){super(),this._reporter=e,this._endpointManager=t,this._connectionManager=r,this._onRequestOpenEditorToSide=this._register(new n.EventEmitter),this.onRequestOpenEditorToSide=this._onRequestOpenEditorToSide.event,this._onShouldLaunchPreview=this._register(new n.EventEmitter),this.onShouldLaunchPreview=this._onShouldLaunchPreview.event,n.window.registerTerminalLinkProvider(this)}async provideTerminalLinks(e,t){const r=new Array;return e.terminal.creationOptions.name&amp;&amp;this._isLivePreviewTerminal(e.terminal.creationOptions.name)?(await Promise.all(this._connectionManager.connections.map((t=&gt;this._findFullLinkRegex(e.line,r,t)))),this._findPathnameRegex(e.line,r),r):r}async handleTerminalLink(e){if(this._reporter.sendTelemetryEvent(&quot;task.terminal.handleTerminalLink&quot;),e.inEditor)await this._openRelativeLinkInWorkspace(e.data,e.isDir);else{const t=n.Uri.parse(e.data);this._onShouldLaunchPreview.fire({uri:t})}}_isLivePreviewTerminal(e){return-1!=e.indexOf(c.TASK_TERMINAL_BASE_NAME)}_findPathnameRegex(e,t){const r=new RegExp(&quot;(?&lt;=\\s)\\/([^\\0&lt;&gt;\\?\\|\\s!`&amp;*()\\[\\]'\&quot;:;]*)\\?*[\\w=]*&quot;,&quot;g&quot;);let n;do{if(n=r.exec(e),n)for(let e=0;e&lt;n.length;e++)if(n[e]){const r=n[e].lastIndexOf(&quot;?&quot;),i=-1==r?n[e]:n[e].substring(0,r),o=i.endsWith(&quot;/&quot;),s=p(o?0:1,null),a={startIndex:n.index,length:n[e].length,tooltip:s,data:i,inEditor:!0,isDir:o};t.push(a)}}while(n)}async _findFullLinkRegex(e,t,r){const i=r.constructLocalUri(r.httpPort),s=await r.resolveExternalHTTPUri(),a=(0,l.escapeRegExp)(`${s.scheme}://${s.authority}`),c=new RegExp(`(?:${a})[\\w\\-.~:/?#[\\]@!$&amp;()*+,;=]*`,&quot;g&quot;);let u;do{if(u=c.exec(e),u)for(let e=0;e&lt;u.length;e++)if(u[e]){const r=new o.URL(u[e]),s={startIndex:u.index,length:u[e].length,tooltip:p(2,null),data:n.Uri.joinPath(i,r.pathname),inEditor:!1};t.push(s)}}while(u)}async _openRelativeLinkInWorkspace(e,t){var r;e=unescape(e);const i=await a.PathUtil.GetWorkspaceFromRelativePath(e),o=this._connectionManager.getConnection(i),s=o?o.getAppendedURI(e):n.Uri.file(null!==(r=await this._endpointManager.decodeLooseFileEndpoint(e))&amp;&amp;void 0!==r?r:&quot;&quot;);t?a.PathUtil.GetWorkspaceFromAbsolutePath(s.fsPath)?n.commands.executeCommand(&quot;revealInExplorer&quot;,s):n.window.showErrorMessage(&quot;Cannot reveal folder. It is not in the open workspace.&quot;):this._onRequestOpenEditorToSide.fire(s)}}t.serverTaskLinkProvider=u},9752:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.ServerTaskProvider=t.ServerStartedStatus=void 0;const n=r(9496),i=r(93),o=r(367),s=r(3554),a=r(1265),c=r(8767);var l;(l=t.ServerStartedStatus||(t.ServerStartedStatus={}))[l.JUST_STARTED=0]=&quot;JUST_STARTED&quot;,l[l.STARTED_BY_EMBEDDED_PREV=1]=&quot;STARTED_BY_EMBEDDED_PREV&quot;;class p extends i.Disposable{constructor(e,t,r){super(),this._reporter=e,this._onRequestToOpenServerEmitter=this._register(new n.EventEmitter),this.onRequestToOpenServer=this._onRequestToOpenServerEmitter.event,this._onRequestOpenEditorToSide=this._register(new n.EventEmitter),this.onRequestOpenEditorToSide=this._onRequestOpenEditorToSide.event,this._onRequestToCloseServerEmitter=this._register(new n.EventEmitter),this.onRequestToCloseServer=this._onRequestToCloseServerEmitter.event,this._onShouldLaunchPreview=this._register(new n.EventEmitter),this.onShouldLaunchPreview=this._onShouldLaunchPreview.event,this._terminals=new Map,this._terminalLinkProvider=this._register(new o.serverTaskLinkProvider(e,t,r)),this._register(this._terminalLinkProvider.onShouldLaunchPreview((e=&gt;this._onShouldLaunchPreview.fire(e)))),this._terminalLinkProvider.onRequestOpenEditorToSide((e=&gt;{this._onRequestOpenEditorToSide.fire(e)})),this._runTaskWithExternalPreview=c.SettingUtil.GetConfig().runTaskWithExternalPreview,this._register(n.workspace.onDidChangeConfiguration((e=&gt;{this._runTaskWithExternalPreview=c.SettingUtil.GetConfig().runTaskWithExternalPreview})))}get isRunning(){return void 0!==Array.from(this._terminals.values()).find((e=&gt;e.running))}isTaskRunning(e){var t;const r=this._terminals.get(null==e?void 0:e.uri.toString());return null!==(t=null==r?void 0:r.running)&amp;&amp;void 0!==t&amp;&amp;t}sendServerInfoToTerminal(e,t){const r=this._terminals.get(null==t?void 0:t.uri.toString());r&amp;&amp;r.running&amp;&amp;r.showServerMsg(e)}serverStarted(e,t,r){const n=this._terminals.get(null==r?void 0:r.uri.toString());n&amp;&amp;n.running&amp;&amp;n.serverStarted(e,t)}serverStop(e,t){const r=this._terminals.get(null==t?void 0:t.uri.toString());r&amp;&amp;r.running&amp;&amp;(e?r.serverStopped():r.serverWillBeStopped())}async extRunTask(e){this._reporter.sendTelemetryEvent(&quot;tasks.terminal.startFromExtension&quot;);const t=(await n.tasks.fetchTasks({type:p.CustomBuildScriptType})).filter((t=&gt;e===t.scope));t.length&gt;0&amp;&amp;n.tasks.executeTask(t[0])}provideTasks(){return this._getTasks()}resolveTask(e){const t=e.definition;let r;try{r=e.scope}catch(e){}return this._getTask(t,r)}get runTaskWithExternalPreview(){return this._runTaskWithExternalPreview}_getTasks(){return void 0!==this._tasks||(this._tasks=[],n.workspace.workspaceFolders?n.workspace.workspaceFolders.forEach((e=&gt;{this._tasks.push(this._getTask({type:p.CustomBuildScriptType},e))})):this._tasks.push(this._getTask({type:p.CustomBuildScriptType},void 0))),this._tasks}_getTask(e,t){e.workspacePath=null==t?void 0:t.uri.fsPath;const r=a.TASK_TERMINAL_BASE_NAME,i=this._terminals.get(null==t?void 0:t.uri.toString());if(i&amp;&amp;i.running)return new n.Task(e,null!=t?t:n.TaskScope.Global,r,p.CustomBuildScriptType,void 0);const o=new n.CustomExecution((async()=&gt;{const e=this._terminals.get(null==t?void 0:t.uri.toString());if(e&amp;&amp;e.running)return e;const r=new s.ServerTaskTerminal(this._reporter,t);return r.onRequestToOpenServer((e=&gt;{this._onRequestToOpenServerEmitter.fire(e)})),r.onRequestToCloseServer((e=&gt;{this._onRequestToCloseServerEmitter.fire(e),this._terminals.delete(null==t?void 0:t.uri.toString())})),this._terminals.set(null==t?void 0:t.uri.toString(),r),r})),c=new n.Task(e,null!=t?t:n.TaskScope.Global,r,p.CustomBuildScriptType,o);return c.isBackground=!0,c.presentationOptions.panel=n.TaskPanelKind.New,c}}t.ServerTaskProvider=p,p.CustomBuildScriptType=&quot;Live Preview&quot;},3554:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.ServerTaskTerminal=void 0;const n=r(9496),i=r(3463),o=r(93),s=r(1622),a=r(6980),c=r(9752),l=i.loadMessageBundle(r(1017).join(__dirname,&quot;src/task/serverTaskTerminal.ts&quot;));class p extends o.Disposable{constructor(e,t,r=!0){super(),this._reporter=e,this._workspace=t,this._executeServer=r,this.running=!1,this._onRequestToOpenServerEmitter=this._register(new n.EventEmitter),this.onRequestToOpenServer=this._onRequestToOpenServerEmitter.event,this._onRequestToCloseServerEmitter=this._register(new n.EventEmitter),this.onRequestToCloseServer=this._onRequestToCloseServerEmitter.event,this._onDidWrite=new n.EventEmitter,this.onDidWrite=this._onDidWrite.event,this._onDidClose=new n.EventEmitter,this.onDidClose=this._onDidClose.event,this._executeServer&amp;&amp;this._reporter.sendTelemetryEvent(&quot;tasks.terminal.start&quot;)}open(){this._executeServer?(this.running=!0,this._onDidWrite.fire(l(0,null)+&quot;\r\n&quot;),this._onRequestToOpenServerEmitter.fire(this._workspace)):(this._onDidWrite.fire(l(1,null)+&quot;\r\n&quot;),this.close())}close(){this.running=!1,this._executeServer?(this._onRequestToCloseServerEmitter.fire(this._workspace),this._onDidClose.fire(0)):this._onDidClose.fire(1)}handleInput(e){e.length&gt;0&amp;&amp;3==e.charCodeAt(0)&amp;&amp;(this._onDidWrite.fire(l(2,null)+&quot;\r\n&quot;),this._onRequestToCloseServerEmitter.fire(this._workspace))}serverStarted(e,t){const r=this._formatAddr(e.toString());switch(t){case c.ServerStartedStatus.JUST_STARTED:this._onDidWrite.fire(l(3,null,r+&quot;\r\n&quot;));break;case c.ServerStartedStatus.STARTED_BY_EMBEDDED_PREV:this._onDidWrite.fire(l(4,null,r+&quot;\r\n&gt; &quot;))}this._onDidWrite.fire(l(5,null,s.TerminalStyleUtil.ColorTerminalString(&quot;CTRL+C&quot;,s.TerminalColor.red,s.TerminalDeco.bold))+&quot;\r\n\r\n&gt; &quot;)}serverStopped(){this._onDidWrite.fire(l(6,null)+&quot;\n&quot;),this.close()}serverWillBeStopped(){this._onDidWrite.fire(l(7,null)+&quot;\r\n&quot;),this._onDidWrite.fire(s.TerminalStyleUtil.ColorTerminalString(l(8,null)+&quot;\r\n\r\n&quot;,s.TerminalColor.yellow)),this.close()}showServerMsg(e){const t=new Date;this._onDidWrite.fire(`[${(0,a.FormatDateTime)(t,&quot; &quot;)}] ${e.method}: ${s.TerminalStyleUtil.ColorTerminalString(decodeURI(e.url),s.TerminalColor.blue)} | ${this._colorHttpStatus(e.status)}\r\n&gt; `)}_colorHttpStatus(e){let t=s.TerminalColor.green;return e&gt;=400?t=s.TerminalColor.red:e&gt;=300&amp;&amp;(t=s.TerminalColor.yellow),s.TerminalStyleUtil.ColorTerminalString(e.toString(),t)}_getSecondColonPos(e){const t=e.indexOf(&quot;:&quot;);if(-1==t)return e.length;const r=e.indexOf(&quot;:&quot;,t+1);return-1==r?e.length:r}_formatAddr(e){const t=this._getSecondColonPos(e),r=e.substring(0,t),n=e.substring(t);return s.TerminalStyleUtil.ColorTerminalString(r,s.TerminalColor.blue,s.TerminalDeco.bold)+s.TerminalStyleUtil.ColorTerminalString(n,s.TerminalColor.purple,s.TerminalDeco.bold)}}t.ServerTaskTerminal=p},2220:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.UpdateListener=void 0;const n=r(93),i=r(9496),o=r(1265),s=r(8767),a=r(1362);class c extends n.Disposable{constructor(e){super(),this._shouldRefreshPreviews=this._register(new i.EventEmitter),this.shouldRefreshPreviews=this._shouldRefreshPreviews.event,this._watcher=i.workspace.createFileSystemWatcher(&quot;**&quot;);const t=function(t){return!(t.scheme==o.UriSchemes.vscode_userdata||e&amp;&amp;a.PathUtil.PathBeginsWith(t.fsPath,e))};this._debounceDelay=s.SettingUtil.GetConfig().previewDebounceDelay,this._register(i.workspace.onDidChangeTextDocument((e=&gt;{e.contentChanges&amp;&amp;e.contentChanges.length&gt;0&amp;&amp;(e.document.uri.scheme==o.UriSchemes.file||e.document.uri.scheme==o.UriSchemes.untitled)&amp;&amp;this._reloadOnAnyChange&amp;&amp;this._refreshPreview()}))),this._register(i.workspace.onDidSaveTextDocument((e=&gt;{this._reloadIfOutOfWorkspace(e.uri)}))),this._register(i.workspace.onDidCreateFiles((e=&gt;{for(const t of e.files)this._reloadIfOutOfWorkspace(t)}))),this._register(i.workspace.onDidDeleteFiles((e=&gt;{for(const t of e.files)this._reloadIfOutOfWorkspace(t)}))),this._register(this._watcher.onDidChange((e=&gt;{this._reloadOnSave&amp;&amp;t(e)&amp;&amp;this._refreshPreview()}))),this._register(this._watcher.onDidDelete((e=&gt;{(this._reloadOnAnyChange||this._reloadOnSave)&amp;&amp;t(e)&amp;&amp;this._refreshPreview()}))),this._register(this._watcher.onDidCreate((e=&gt;{(this._reloadOnAnyChange||this._reloadOnSave)&amp;&amp;t(e)&amp;&amp;this._refreshPreview()}))),this._register(i.workspace.onDidChangeConfiguration((e=&gt;{this._debounceDelay=s.SettingUtil.GetConfig().previewDebounceDelay})))}get _reloadOnAnyChange(){return s.SettingUtil.GetConfig().autoRefreshPreview==s.AutoRefreshPreview.onAnyChange}get _reloadOnSave(){return s.SettingUtil.GetConfig().autoRefreshPreview==s.AutoRefreshPreview.onSave}_reloadIfOutOfWorkspace(e){a.PathUtil.GetWorkspaceFromURI(e)||this._refreshPreview()}_refreshPreview(){clearTimeout(this._debounceTimer),this._debounceTimer=setTimeout((()=&gt;{this._shouldRefreshPreviews.fire()}),this._debounceDelay)}}t.UpdateListener=c},1265:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.TASK_TERMINAL_BASE_NAME=t.LIVE_PREVIEW_SERVER_ON=t.UriSchemes=t.INJECTED_ENDPOINT_NAME=t.OUTPUT_CHANNEL_NAME=t.EXTENSION_ID=t.DEFAULT_HOST=t.OPEN_EXTERNALLY=t.DONT_SHOW_AGAIN=t.INIT_PANEL_TITLE=t.HTTP_URL_PLACEHOLDER=t.WS_URL_PLACEHOLDER=void 0;const n=r(3463).loadMessageBundle(r(1017).join(__dirname,&quot;src/utils/constants.ts&quot;));t.WS_URL_PLACEHOLDER=&quot;${WS_URL}&quot;,t.HTTP_URL_PLACEHOLDER=&quot;${HTTP_URL}&quot;,t.INIT_PANEL_TITLE=&quot;/&quot;,t.DONT_SHOW_AGAIN={title:n(0,null)},t.OPEN_EXTERNALLY={title:n(1,null)},t.DEFAULT_HOST=&quot;127.0.0.1&quot;,t.EXTENSION_ID=&quot;ms-vscode.live-server&quot;,t.OUTPUT_CHANNEL_NAME=n(2,null),t.INJECTED_ENDPOINT_NAME=&quot;/___vscode_livepreview_injected_script&quot;,t.UriSchemes={file:&quot;file&quot;,vscode_webview:&quot;vscode-webview&quot;,vscode_userdata:&quot;vscode-userdata&quot;,untitled:&quot;untitled&quot;},t.LIVE_PREVIEW_SERVER_ON=&quot;LivePreviewServerOn&quot;,t.TASK_TERMINAL_BASE_NAME=n(3,null)},93:(e,t)=&gt;{&quot;use strict&quot;;function r(e){for(;e.length;){const t=e.pop();t&amp;&amp;t.dispose()}}Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.Disposable=t.disposeAll=void 0,t.disposeAll=r,t.Disposable=class{constructor(){this._isDisposed=!1,this._disposables=[]}dispose(){this._isDisposed||(this._isDisposed=!0,r(this._disposables))}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}}},1841:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.ExternalBrowserUtils=void 0;const n=r(7433),i=r(8767),o=r(9496);t.ExternalBrowserUtils=class{static async openInBrowser(e,t){if(&quot;desktop&quot;===o.env.appHost)try{let r=&quot;&quot;;switch(t){case i.CustomExternalBrowser.chrome:r=n.apps.chrome;break;case i.CustomExternalBrowser.edge:r=n.apps.edge;break;case i.CustomExternalBrowser.firefox:r=n.apps.firefox}await n(e,&quot;&quot;!==r?{app:{name:r}}:void 0)}catch(t){o.env.openExternal(o.Uri.parse(e))}else o.env.openExternal(o.Uri.parse(e))}}},1362:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.PathUtil=void 0;const n=r(7147),i=r(1017),o=r(9496),s=r(8767);class a{static EscapePathParts(e){return(e=decodeURI(e)).split(&quot;/&quot;).filter((e=&gt;e.length&gt;0)).map((e=&gt;encodeURI(e))).join(&quot;/&quot;)}static UnescapePathParts(e){return e.split(&quot;/&quot;).filter((e=&gt;e.length&gt;0)).map((e=&gt;decodeURI(e))).join(&quot;/&quot;)}static async GetParentDir(e){const t=await a.FileExistsStat(e);return t.exists&amp;&amp;t.stat&amp;&amp;t.stat.isDirectory()?e:i.dirname(e)}static async GetFileName(e,t=!1){if(t){const t=await a.FileExistsStat(e);if(t.exists&amp;&amp;t.stat&amp;&amp;t.stat.isDirectory())return&quot;&quot;}return i.basename(e)}static PathEquals(e,t){return i.normalize(e)===i.normalize(t)}static PathBeginsWith(e,t){return i.normalize(e).startsWith(i.normalize(t+&quot;/&quot;))}static ConvertToPosixPath(e){return e.split(i.sep).join(i.posix.sep)}static async getPathRelativeToWorkspace(e){const t=await a.GetWorkspaceFromURI(e);if(t)return e.fsPath.substring(t.uri.fsPath.length)}static GetUserDataDirFromStorageUri(e){if(!e)return e;const t=(e=a.ConvertToPosixPath(e)).split(&quot;/&quot;),r=[];for(const e of t)if(e.length&gt;0&amp;&amp;r.push(e),&quot;User&quot;==e)break;return r.join(&quot;/&quot;)}static async GetWorkspaceFromURI(e){return await a.GetWorkspaceFromAbsolutePath(e.fsPath)}static async GetWorkspaceFromAbsolutePath(e){const t=o.workspace.workspaceFolders;if(!t)return;const r=await Promise.all(null==t?void 0:t.map((t=&gt;(async(e,t)=&gt;{const r=await a.GetValidServerRootForWorkspace(e);return a.PathBeginsWith(t,i.join(e.uri.fsPath,r))?e:void 0})(t,e))));return r.find((e=&gt;void 0!==e))}static async GetWorkspaceFromRelativePath(e,t=!1){const r=o.workspace.workspaceFolders;if(!r)return;const n=r.map((r=&gt;(async r=&gt;{const n=t?&quot;&quot;:await a.GetValidServerRootForWorkspace(r);return(await a.FileExistsStat(i.join(r.uri.fsPath,n,e))).exists})(r))),s=(await Promise.all(n)).findIndex((e=&gt;e));return-1!==s?r[s]:void 0}static async GetValidServerRootForWorkspace(e){const t=s.SettingUtil.GetConfig(e).serverRoot;return(await a.FileExistsStat(i.join(e.uri.fsPath,t))).exists?t:&quot;&quot;}static async FileExistsStat(e){return n.promises.stat(e).then((e=&gt;({exists:!0,stat:e}))).catch((()=&gt;({exists:!1,stat:void 0})))}static async FileRead(e){return n.promises.readFile(e,&quot;utf-8&quot;).then((e=&gt;e.toString())).catch((()=&gt;&quot;&quot;))}}t.PathUtil=a,a._pathSepRegex=/(?:\\|\/)+/},8767:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.SettingUtil=t.PreviewType=t.Settings=t.SETTINGS_SECTION_ID=t.CustomExternalBrowser=t.OpenPreviewTarget=t.AutoRefreshPreview=void 0;const n=r(9496);var i,o,s;!function(e){e.onAnyChange=&quot;On All Changes in Editor&quot;,e.onSave=&quot;On Changes to Saved Files&quot;,e.never=&quot;Never&quot;}(i=t.AutoRefreshPreview||(t.AutoRefreshPreview={})),function(e){e.embeddedPreview=&quot;Embedded Preview&quot;,e.externalBrowser=&quot;External Browser&quot;}(o=t.OpenPreviewTarget||(t.OpenPreviewTarget={})),function(e){e.edge=&quot;Edge&quot;,e.chrome=&quot;Chrome&quot;,e.firefox=&quot;Firefox&quot;,e.default=&quot;Default&quot;}(s=t.CustomExternalBrowser||(t.CustomExternalBrowser={})),t.SETTINGS_SECTION_ID=&quot;livePreview&quot;,t.Settings={portNumber:&quot;portNumber&quot;,showStatusBarItem:&quot;showStatusBarItem&quot;,showServerStatusNotifications:&quot;showServerStatusNotifications&quot;,autoRefreshPreview:&quot;autoRefreshPreview&quot;,openPreviewTarget:&quot;openPreviewTarget&quot;,serverKeepAliveAfterEmbeddedPreviewClose:&quot;serverKeepAliveAfterEmbeddedPreviewClose&quot;,notifyOnOpenLooseFile:&quot;notifyOnOpenLooseFile&quot;,runTaskWithExternalPreview:&quot;tasks.runTaskWithExternalPreview&quot;,defaultPreviewPath:&quot;defaultPreviewPath&quot;,debugOnExternalPreview:&quot;debugOnExternalPreview&quot;,hostIP:&quot;hostIP&quot;,customExternalBrowser:&quot;customExternalBrowser&quot;,serverRoot:&quot;serverRoot&quot;,previewDebounceDelay:&quot;previewDebounceDelay&quot;},t.PreviewType={internalPreview:&quot;internalPreview&quot;,externalPreview:&quot;externalPreview&quot;,externalDebugPreview:&quot;externalDebugPreview&quot;};class a{static GetConfig(e){const r=n.workspace.getConfiguration(t.SETTINGS_SECTION_ID,e);return{portNumber:r.get(t.Settings.portNumber,3e3),showServerStatusNotifications:r.get(t.Settings.showServerStatusNotifications,!1),autoRefreshPreview:r.get(t.Settings.autoRefreshPreview,i.onAnyChange),openPreviewTarget:r.get(t.Settings.openPreviewTarget,o.embeddedPreview),serverKeepAliveAfterEmbeddedPreviewClose:r.get(t.Settings.serverKeepAliveAfterEmbeddedPreviewClose,20),previewDebounceDelay:r.get(t.Settings.previewDebounceDelay,50),notifyOnOpenLooseFile:r.get(t.Settings.notifyOnOpenLooseFile,!0),runTaskWithExternalPreview:r.get(t.Settings.runTaskWithExternalPreview,!1),defaultPreviewPath:r.get(t.Settings.defaultPreviewPath,&quot;&quot;),debugOnExternalPreview:r.get(t.Settings.debugOnExternalPreview,!1),hostIP:r.get(t.Settings.hostIP,&quot;127.0.0.1&quot;),customExternalBrowser:r.get(t.Settings.customExternalBrowser,s.default),serverRoot:r.get(t.Settings.serverRoot,&quot;&quot;)}}static GetPreviewType(){return a.GetConfig().openPreviewTarget==o.embeddedPreview?t.PreviewType.internalPreview:a.GetExternalPreviewType()}static GetExternalPreviewType(){return a.GetConfig().debugOnExternalPreview?t.PreviewType.externalDebugPreview:t.PreviewType.externalPreview}static async UpdateSettings(e,r,i,o){await n.workspace.getConfiguration(t.SETTINGS_SECTION_ID,o).update(e,r,i)}}t.SettingUtil=a},1622:(e,t)=&gt;{&quot;use strict&quot;;var r,n;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.TerminalStyleUtil=t.TerminalDeco=t.TerminalColor=void 0,(n=t.TerminalColor||(t.TerminalColor={}))[n.red=31]=&quot;red&quot;,n[n.green=32]=&quot;green&quot;,n[n.yellow=33]=&quot;yellow&quot;,n[n.blue=34]=&quot;blue&quot;,n[n.purple=35]=&quot;purple&quot;,n[n.cyan=36]=&quot;cyan&quot;,function(e){e[e.reset=0]=&quot;reset&quot;,e[e.bold=1]=&quot;bold&quot;,e[e.underline=4]=&quot;underline&quot;}(r=t.TerminalDeco||(t.TerminalDeco={})),t.TerminalStyleUtil=class{static ColorTerminalString(e,t,n=r.reset){return`[${n};${t}m${e}[0m`}}},6980:(e,t)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.escapeRegExp=t.isFileInjectable=t.FormatFileSize=t.FormatDateTime=void 0,t.FormatDateTime=function(e,t=&quot;, &quot;){return`${e.getMonth()+1}/${e.getDate().toString().padStart(2,&quot;0&quot;)}/${e.getFullYear().toString().substring(2)}${t}${e.getHours()}:${e.getMinutes().toString().padStart(2,&quot;0&quot;)}:${e.getSeconds().toString().padStart(2,&quot;0&quot;)}`},t.FormatFileSize=function(e){const t=[&quot;B&quot;,&quot;kB&quot;,&quot;MB&quot;,&quot;GB&quot;];let r=0;for(;r&lt;t.length;){if(e&lt;Math.pow(1024,r+1))return`${(e/Math.pow(1024,r)).toFixed(1)} ${t[r]}`;r++}return`${(e/Math.pow(1024,r)).toFixed(1)} TB`},t.isFileInjectable=function(e){return!!e&amp;&amp;(!/\.([^/.]+)$/.test(e)||function(e){return void 0!==[&quot;.html&quot;,&quot;.htm&quot;,&quot;.xhtml&quot;].find((t=&gt;e.endsWith(t)))}(e))},t.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,&quot;\\$&amp;&quot;)}},5719:(e,t,r)=&gt;{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,u=(e,t,r)=&gt;t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=&gt;{for(var r in t||(t={}))l.call(t,r)&amp;&amp;u(e,r,t[r]);if(a)for(var r of a(t))p.call(t,r)&amp;&amp;u(e,r,t[r]);return e},h=e=&gt;i(e,&quot;__esModule&quot;,{value:!0}),f=(e,t)=&gt;()=&gt;(t||e((t={exports:{}}).exports,t),t.exports),v=e=&gt;((e,t,r)=&gt;{if(t&amp;&amp;&quot;object&quot;==typeof t||&quot;function&quot;==typeof t)for(let n of s(t))!l.call(e,n)&amp;&amp;&quot;default&quot;!==n&amp;&amp;i(e,n,{get:()=&gt;t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(h(i(null!=e?n(c(e)):{},&quot;default&quot;,e&amp;&amp;e.__esModule&amp;&amp;&quot;default&quot;in e?{get:()=&gt;e.default,enumerable:!0}:{value:e,enumerable:!0})),e),_=f(((e,t)=&gt;{&quot;use strict&quot;;var r=function(){function e(){}return e.info=function(t){for(var r=[],n=1;n&lt;arguments.length;n++)r[n-1]=arguments[n];e.enableDebug&amp;&amp;console.info(e.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n&lt;arguments.length;n++)r[n-1]=arguments[n];e.disableWarnings||console.warn(e.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG=&quot;ApplicationInsights:&quot;,e}();t.exports=r})),m=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r&lt;n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var n=hn(),i=r(2361),o=function(){function e(){}return e.prototype.active=function(){var e=this,r=n.CorrelationContextManager.getCurrentContext();return t(t({},r),{getValue:function(t){return e._activeSymbol?t===e._activeSymbol&amp;&amp;r:(e._activeSymbol=t,r)},setValue:function(){}})},e.prototype.with=function(t,r){var i=t.parentSpanId,o=t.name,s=e._spanToContext(t,i,o);return n.CorrelationContextManager.runWithContext(s,r)()},e.prototype.bind=function(e){return&quot;function&quot;==typeof e?n.CorrelationContextManager.wrapCallback(e):(e instanceof i.EventEmitter&amp;&amp;n.CorrelationContextManager.wrapEmitter(e),e)},e.prototype.enable=function(){return n.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return n.CorrelationContextManager.disable(),this},e._spanToContext=function(e,r,i){var o=r?&quot;|&quot;+e.spanContext().traceId+&quot;.&quot;+r+&quot;.&quot;:e.spanContext().traceId,s=t(t({},e.spanContext()),{traceFlags:e.spanContext().traceFlags});return n.CorrelationContextManager.spanToContextObject(s,o,i)},e}();e.OpenTelemetryScopeManagerWrapper=o,e.AsyncScopeManager=new o})),g=f(((e,t)=&gt;{var r;e=t.exports=W,r=&quot;object&quot;==typeof process&amp;&amp;process.env&amp;&amp;process.env.NODE_DEBUG&amp;&amp;/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(&quot;SEMVER&quot;),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION=&quot;2.0.0&quot;;var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]=&quot;0|[1-9]\\d*&quot;;var c=s++;o[c]=&quot;[0-9]+&quot;;var l=s++;o[l]=&quot;\\d*[a-zA-Z-][a-zA-Z0-9-]*&quot;;var p=s++;o[p]=&quot;(&quot;+o[a]+&quot;)\\.(&quot;+o[a]+&quot;)\\.(&quot;+o[a]+&quot;)&quot;;var u=s++;o[u]=&quot;(&quot;+o[c]+&quot;)\\.(&quot;+o[c]+&quot;)\\.(&quot;+o[c]+&quot;)&quot;;var d=s++;o[d]=&quot;(?:&quot;+o[a]+&quot;|&quot;+o[l]+&quot;)&quot;;var h=s++;o[h]=&quot;(?:&quot;+o[c]+&quot;|&quot;+o[l]+&quot;)&quot;;var f=s++;o[f]=&quot;(?:-(&quot;+o[d]+&quot;(?:\\.&quot;+o[d]+&quot;)*))&quot;;var v=s++;o[v]=&quot;(?:-?(&quot;+o[h]+&quot;(?:\\.&quot;+o[h]+&quot;)*))&quot;;var _=s++;o[_]=&quot;[0-9A-Za-z-]+&quot;;var m=s++;o[m]=&quot;(?:\\+(&quot;+o[_]+&quot;(?:\\.&quot;+o[_]+&quot;)*))&quot;;var g=s++,y=&quot;v?&quot;+o[p]+o[f]+&quot;?&quot;+o[m]+&quot;?&quot;;o[g]=&quot;^&quot;+y+&quot;$&quot;;var E=&quot;[v=\\s]*&quot;+o[u]+o[v]+&quot;?&quot;+o[m]+&quot;?&quot;,b=s++;o[b]=&quot;^&quot;+E+&quot;$&quot;;var S=s++;o[S]=&quot;((?:&lt;|&gt;)?=?)&quot;;var w=s++;o[w]=o[c]+&quot;|x|X|\\*&quot;;var T=s++;o[T]=o[a]+&quot;|x|X|\\*&quot;;var x=s++;o[x]=&quot;[v=\\s]*(&quot;+o[T]+&quot;)(?:\\.(&quot;+o[T]+&quot;)(?:\\.(&quot;+o[T]+&quot;)(?:&quot;+o[f]+&quot;)?&quot;+o[m]+&quot;?)?)?&quot;;var P=s++;o[P]=&quot;[v=\\s]*(&quot;+o[w]+&quot;)(?:\\.(&quot;+o[w]+&quot;)(?:\\.(&quot;+o[w]+&quot;)(?:&quot;+o[v]+&quot;)?&quot;+o[m]+&quot;?)?)?&quot;;var C=s++;o[C]=&quot;^&quot;+o[S]+&quot;\\s*&quot;+o[x]+&quot;$&quot;;var A=s++;o[A]=&quot;^&quot;+o[S]+&quot;\\s*&quot;+o[P]+&quot;$&quot;;var I=s++;o[I]=&quot;(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])&quot;;var O=s++;o[O]=&quot;(?:~&gt;?)&quot;;var R=s++;o[R]=&quot;(\\s*)&quot;+o[O]+&quot;\\s+&quot;,i[R]=new RegExp(o[R],&quot;g&quot;);var k=s++;o[k]=&quot;^&quot;+o[O]+o[x]+&quot;$&quot;;var N=s++;o[N]=&quot;^&quot;+o[O]+o[P]+&quot;$&quot;;var D=s++;o[D]=&quot;(?:\\^)&quot;;var M=s++;o[M]=&quot;(\\s*)&quot;+o[D]+&quot;\\s+&quot;,i[M]=new RegExp(o[M],&quot;g&quot;);var L=s++;o[L]=&quot;^&quot;+o[D]+o[x]+&quot;$&quot;;var j=s++;o[j]=&quot;^&quot;+o[D]+o[P]+&quot;$&quot;;var U=s++;o[U]=&quot;^&quot;+o[S]+&quot;\\s*(&quot;+E+&quot;)$|^$&quot;;var F=s++;o[F]=&quot;^&quot;+o[S]+&quot;\\s*(&quot;+y+&quot;)$|^$&quot;;var B=s++;o[B]=&quot;(\\s*)&quot;+o[S]+&quot;\\s*(&quot;+E+&quot;|&quot;+o[x]+&quot;)&quot;,i[B]=new RegExp(o[B],&quot;g&quot;);var H=s++;o[H]=&quot;^\\s*(&quot;+o[x]+&quot;)\\s+-\\s+(&quot;+o[x]+&quot;)\\s*$&quot;;var G=s++;o[G]=&quot;^\\s*(&quot;+o[P]+&quot;)\\s+-\\s+(&quot;+o[P]+&quot;)\\s*$&quot;;var q,V=s++;for(o[V]=&quot;(&lt;|&gt;)?=?\\s*\\*&quot;,q=0;q&lt;35;q++)r(q,o[q]),i[q]||(i[q]=new RegExp(o[q]));function $(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if(&quot;string&quot;!=typeof e||e.length&gt;256)return null;if(!(t.loose?i[b]:i[g]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if(&quot;string&quot;!=typeof e)throw new TypeError(&quot;Invalid Version: &quot;+e);if(e.length&gt;256)throw new TypeError(&quot;version is longer than 256 characters&quot;);if(!(this instanceof W))return new W(e,t);r(&quot;SemVer&quot;,e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[b]:i[g]);if(!o)throw new TypeError(&quot;Invalid Version: &quot;+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major&gt;n||this.major&lt;0)throw new TypeError(&quot;Invalid major version&quot;);if(this.minor&gt;n||this.minor&lt;0)throw new TypeError(&quot;Invalid minor version&quot;);if(this.patch&gt;n||this.patch&lt;0)throw new TypeError(&quot;Invalid patch version&quot;);o[4]?this.prerelease=o[4].split(&quot;.&quot;).map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t&gt;=0&amp;&amp;t&lt;n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split(&quot;.&quot;):[],this.format()}e.parse=$,e.valid=function(e,t){var r=$(e,t);return r?r.version:null},e.clean=function(e,t){var r=$(e.trim().replace(/^[=v]+/,&quot;&quot;),t);return r?r.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+&quot;.&quot;+this.minor+&quot;.&quot;+this.patch,this.prerelease.length&amp;&amp;(this.version+=&quot;-&quot;+this.prerelease.join(&quot;.&quot;)),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return r(&quot;SemVer.compare&quot;,this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&amp;&amp;!e.prerelease.length)return-1;if(!this.prerelease.length&amp;&amp;e.prerelease.length)return 1;if(!this.prerelease.length&amp;&amp;!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r(&quot;prerelease compare&quot;,t,n,i),void 0===n&amp;&amp;void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return K(n,i)}while(++t)},W.prototype.inc=function(e,t){switch(e){case&quot;premajor&quot;:this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(&quot;pre&quot;,t);break;case&quot;preminor&quot;:this.prerelease.length=0,this.patch=0,this.minor++,this.inc(&quot;pre&quot;,t);break;case&quot;prepatch&quot;:this.prerelease.length=0,this.inc(&quot;patch&quot;,t),this.inc(&quot;pre&quot;,t);break;case&quot;prerelease&quot;:0===this.prerelease.length&amp;&amp;this.inc(&quot;patch&quot;,t),this.inc(&quot;pre&quot;,t);break;case&quot;major&quot;:(0!==this.minor||0!==this.patch||0===this.prerelease.length)&amp;&amp;this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case&quot;minor&quot;:(0!==this.patch||0===this.prerelease.length)&amp;&amp;this.minor++,this.patch=0,this.prerelease=[];break;case&quot;patch&quot;:0===this.prerelease.length&amp;&amp;this.patch++,this.prerelease=[];break;case&quot;pre&quot;:if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r&gt;=0;)&quot;number&quot;==typeof this.prerelease[r]&amp;&amp;(this.prerelease[r]++,r=-2);-1===r&amp;&amp;this.prerelease.push(0)}t&amp;&amp;(this.prerelease[0]===t?isNaN(this.prerelease[1])&amp;&amp;(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(&quot;invalid increment argument: &quot;+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){&quot;string&quot;==typeof r&amp;&amp;(n=r,r=void 0);try{return new W(e,r).inc(t,n).version}catch(e){return null}},e.diff=function(e,t){if(J(e,t))return null;var r=$(e),n=$(t),i=&quot;&quot;;if(r.prerelease.length||n.prerelease.length){i=&quot;pre&quot;;var o=&quot;prerelease&quot;}for(var s in r)if((&quot;major&quot;===s||&quot;minor&quot;===s||&quot;patch&quot;===s)&amp;&amp;r[s]!==n[s])return i+s;return o},e.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&amp;&amp;n&amp;&amp;(e=+e,t=+t),e===t?0:r&amp;&amp;!n?-1:n&amp;&amp;!r?1:e&lt;t?-1:1}function Y(e,t,r){return new W(e,r).compare(new W(t,r))}function X(e,t,r){return Y(e,t,r)&gt;0}function Q(e,t,r){return Y(e,t,r)&lt;0}function J(e,t,r){return 0===Y(e,t,r)}function Z(e,t,r){return 0!==Y(e,t,r)}function ee(e,t,r){return Y(e,t,r)&gt;=0}function te(e,t,r){return Y(e,t,r)&lt;=0}function re(e,t,r,n){switch(t){case&quot;===&quot;:return&quot;object&quot;==typeof e&amp;&amp;(e=e.version),&quot;object&quot;==typeof r&amp;&amp;(r=r.version),e===r;case&quot;!==&quot;:return&quot;object&quot;==typeof e&amp;&amp;(e=e.version),&quot;object&quot;==typeof r&amp;&amp;(r=r.version),e!==r;case&quot;&quot;:case&quot;=&quot;:case&quot;==&quot;:return J(e,r,n);case&quot;!=&quot;:return Z(e,r,n);case&quot;&gt;&quot;:return X(e,r,n);case&quot;&gt;=&quot;:return ee(e,r,n);case&quot;&lt;&quot;:return Q(e,r,n);case&quot;&lt;=&quot;:return te(e,r,n);default:throw new TypeError(&quot;Invalid operator: &quot;+t)}}function ne(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r(&quot;comparator&quot;,e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value=&quot;&quot;:this.value=this.operator+this.semver.version,r(&quot;comp&quot;,this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=Y,e.compareLoose=function(e,t){return Y(e,t,!0)},e.rcompare=function(e,t,r){return Y(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=X,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var ie={};function oe(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&amp;&amp;e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError(&quot;Invalid SemVer Range: &quot;+e);this.format()}function se(e){return!e||&quot;x&quot;===e.toLowerCase()||&quot;*&quot;===e}function ae(e,t,r,n,i,o,s,a,c,l,p,u,d){return((t=se(r)?&quot;&quot;:se(n)?&quot;&gt;=&quot;+r+&quot;.0.0&quot;:se(i)?&quot;&gt;=&quot;+r+&quot;.&quot;+n+&quot;.0&quot;:&quot;&gt;=&quot;+t)+&quot; &quot;+(a=se(c)?&quot;&quot;:se(l)?&quot;&lt;&quot;+(+c+1)+&quot;.0.0&quot;:se(p)?&quot;&lt;&quot;+c+&quot;.&quot;+(+l+1)+&quot;.0&quot;:u?&quot;&lt;=&quot;+c+&quot;.&quot;+l+&quot;.&quot;+p+&quot;-&quot;+u:&quot;&lt;=&quot;+a)).trim()}function ce(e,t,n){for(var i=0;i&lt;e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&amp;&amp;!n.includePrerelease){for(i=0;i&lt;e.length;i++)if(r(e[i].semver),e[i].semver!==ie&amp;&amp;e[i].semver.prerelease.length&gt;0){var o=e[i].semver;if(o.major===t.major&amp;&amp;o.minor===t.minor&amp;&amp;o.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function pe(e,t,r,n){var i,o,s,a,c;switch(e=new W(e,n),t=new oe(t,n),r){case&quot;&gt;&quot;:i=X,o=te,s=Q,a=&quot;&gt;&quot;,c=&quot;&gt;=&quot;;break;case&quot;&lt;&quot;:i=Q,o=ee,s=X,a=&quot;&lt;&quot;,c=&quot;&lt;=&quot;;break;default:throw new TypeError('Must provide a hilo val of &quot;&lt;&quot; or &quot;&gt;&quot;')}if(le(e,t,n))return!1;for(var l=0;l&lt;t.set.length;++l){var p=t.set[l],u=null,d=null;if(p.forEach((function(e){e.semver===ie&amp;&amp;(e=new ne(&quot;&gt;=0.0.0&quot;)),u=u||e,d=d||e,i(e.semver,u.semver,n)?u=e:s(e.semver,d.semver,n)&amp;&amp;(d=e)})),u.operator===a||u.operator===c||(!d.operator||d.operator===a)&amp;&amp;o(e,d.semver))return!1;if(d.operator===c&amp;&amp;s(e,d.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[U]:i[F],r=e.match(t);if(!r)throw new TypeError(&quot;Invalid comparator: &quot;+e);this.operator=r[1],&quot;=&quot;===this.operator&amp;&amp;(this.operator=&quot;&quot;),r[2]?this.semver=new W(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r(&quot;Comparator.test&quot;,e,this.options.loose),this.semver===ie||(&quot;string&quot;==typeof e&amp;&amp;(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError(&quot;a Comparator is required&quot;);var r;if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),&quot;&quot;===this.operator)return r=new oe(e.value,t),le(this.value,r,t);if(&quot;&quot;===e.operator)return r=new oe(this.value,t),le(e.semver,r,t);var n=!(&quot;&gt;=&quot;!==this.operator&amp;&amp;&quot;&gt;&quot;!==this.operator||&quot;&gt;=&quot;!==e.operator&amp;&amp;&quot;&gt;&quot;!==e.operator),i=!(&quot;&lt;=&quot;!==this.operator&amp;&amp;&quot;&lt;&quot;!==this.operator||&quot;&lt;=&quot;!==e.operator&amp;&amp;&quot;&lt;&quot;!==e.operator),o=this.semver.version===e.semver.version,s=!(&quot;&gt;=&quot;!==this.operator&amp;&amp;&quot;&lt;=&quot;!==this.operator||&quot;&gt;=&quot;!==e.operator&amp;&amp;&quot;&lt;=&quot;!==e.operator),a=re(this.semver,&quot;&lt;&quot;,e.semver,t)&amp;&amp;(&quot;&gt;=&quot;===this.operator||&quot;&gt;&quot;===this.operator)&amp;&amp;(&quot;&lt;=&quot;===e.operator||&quot;&lt;&quot;===e.operator),c=re(this.semver,&quot;&gt;&quot;,e.semver,t)&amp;&amp;(&quot;&lt;=&quot;===this.operator||&quot;&lt;&quot;===this.operator)&amp;&amp;(&quot;&gt;=&quot;===e.operator||&quot;&gt;&quot;===e.operator);return n||i||o&amp;&amp;s||a||c},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(&quot; &quot;).trim()})).join(&quot;||&quot;).trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[G]:i[H];e=e.replace(n,ae),r(&quot;hyphen replace&quot;,e),e=e.replace(i[B],&quot;$1$2$3&quot;),r(&quot;comparator trim&quot;,e,i[B]),e=(e=(e=e.replace(i[R],&quot;$1~&quot;)).replace(i[M],&quot;$1^&quot;)).split(/\s+/).join(&quot; &quot;);var o=t?i[U]:i[F],s=e.split(&quot; &quot;).map((function(e){return function(e,t){return r(&quot;comp&quot;,e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r(&quot;caret&quot;,e,t);var n=t.loose?i[j]:i[L];return e.replace(n,(function(t,n,i,o,s){var a;return r(&quot;caret&quot;,e,t,n,i,o,s),se(n)?a=&quot;&quot;:se(i)?a=&quot;&gt;=&quot;+n+&quot;.0.0 &lt;&quot;+(+n+1)+&quot;.0.0&quot;:se(o)?a=&quot;0&quot;===n?&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.0 &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.0 &lt;&quot;+(+n+1)+&quot;.0.0&quot;:s?(r(&quot;replaceCaret pr&quot;,s),a=&quot;0&quot;===n?&quot;0&quot;===i?&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+n+&quot;.&quot;+i+&quot;.&quot;+(+o+1):&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+(+n+1)+&quot;.0.0&quot;):(r(&quot;no pr&quot;),a=&quot;0&quot;===n?&quot;0&quot;===i?&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+n+&quot;.&quot;+i+&quot;.&quot;+(+o+1):&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+(+n+1)+&quot;.0.0&quot;),r(&quot;caret return&quot;,a),a}))}(e,t)})).join(&quot; &quot;)}(e,t),r(&quot;caret&quot;,e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[N]:i[k];return e.replace(n,(function(t,n,i,o,s){var a;return r(&quot;tilde&quot;,e,t,n,i,o,s),se(n)?a=&quot;&quot;:se(i)?a=&quot;&gt;=&quot;+n+&quot;.0.0 &lt;&quot;+(+n+1)+&quot;.0.0&quot;:se(o)?a=&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.0 &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:s?(r(&quot;replaceTilde pr&quot;,s),a=&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;):a=&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;,r(&quot;tilde return&quot;,a),a}))}(e,t)})).join(&quot; &quot;)}(e,t),r(&quot;tildes&quot;,e),e=function(e,t){return r(&quot;replaceXRanges&quot;,e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[A]:i[C];return e.replace(n,(function(t,n,i,o,s,a){r(&quot;xRange&quot;,e,t,n,i,o,s,a);var c=se(i),l=c||se(o),p=l||se(s);return&quot;=&quot;===n&amp;&amp;p&amp;&amp;(n=&quot;&quot;),c?t=&quot;&gt;&quot;===n||&quot;&lt;&quot;===n?&quot;&lt;0.0.0&quot;:&quot;*&quot;:n&amp;&amp;p?(l&amp;&amp;(o=0),s=0,&quot;&gt;&quot;===n?(n=&quot;&gt;=&quot;,l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):&quot;&lt;=&quot;===n&amp;&amp;(n=&quot;&lt;&quot;,l?i=+i+1:o=+o+1),t=n+i+&quot;.&quot;+o+&quot;.&quot;+s):l?t=&quot;&gt;=&quot;+i+&quot;.0.0 &lt;&quot;+(+i+1)+&quot;.0.0&quot;:p&amp;&amp;(t=&quot;&gt;=&quot;+i+&quot;.&quot;+o+&quot;.0 &lt;&quot;+i+&quot;.&quot;+(+o+1)+&quot;.0&quot;),r(&quot;xRange return&quot;,t),t}))}(e,t)})).join(&quot; &quot;)}(e,t),r(&quot;xrange&quot;,e),e=function(e,t){return r(&quot;replaceStars&quot;,e,t),e.trim().replace(i[V],&quot;&quot;)}(e,t),r(&quot;stars&quot;,e),e}(e,this.options)}),this).join(&quot; &quot;).split(/\s+/);return this.options.loose&amp;&amp;(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError(&quot;a Range is required&quot;);return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(&quot; &quot;).trim().split(&quot; &quot;)}))},oe.prototype.test=function(e){if(!e)return!1;&quot;string&quot;==typeof e&amp;&amp;(e=new W(e,this.options));for(var t=0;t&lt;this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&amp;&amp;(!n||-1===i.compare(e))&amp;&amp;(i=new W(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&amp;&amp;(!n||1===i.compare(e))&amp;&amp;(i=new W(n=e,r))})),n},e.minVersion=function(e,t){e=new oe(e,t);var r=new W(&quot;0.0.0&quot;);if(e.test(r)||(r=new W(&quot;0.0.0-0&quot;),e.test(r)))return r;r=null;for(var n=0;n&lt;e.set.length;++n)e.set[n].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case&quot;&gt;&quot;:0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case&quot;&quot;:case&quot;&gt;=&quot;:(!r||X(r,t))&amp;&amp;(r=t);break;case&quot;&lt;&quot;:case&quot;&lt;=&quot;:break;default:throw new Error(&quot;Unexpected operation: &quot;+e.operator)}}));return r&amp;&amp;e.test(r)?r:null},e.validRange=function(e,t){try{return new oe(e,t).range||&quot;*&quot;}catch(e){return null}},e.ltr=function(e,t,r){return pe(e,t,&quot;&lt;&quot;,r)},e.gtr=function(e,t,r){return pe(e,t,&quot;&gt;&quot;,r)},e.outside=pe,e.prerelease=function(e,t){var r=$(e,t);return r&amp;&amp;r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if(&quot;string&quot;!=typeof e)return null;var t=e.match(i[I]);return null==t?null:$(t[1]+&quot;.&quot;+(t[2]||&quot;0&quot;)+&quot;.&quot;+(t[3]||&quot;0&quot;))}})),y=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.makePatchingRequire=void 0;var t=r(1017),n=g(),i=r(8188),o=Object.keys(process.binding(&quot;natives&quot;)),s=i.prototype.require;e.makePatchingRequire=function(e){var r={};return function(a){var c=s.apply(this,arguments);if(e[a]){var l=i._resolveFilename(a,this);if(r.hasOwnProperty(l))return r[l];var p=void 0;if(o.indexOf(a)&lt;0)try{p=s.call(this,t.join(a,&quot;package.json&quot;)).version}catch(e){return c}else p=process.version.substring(1);var u=p.indexOf(&quot;-&quot;);u&gt;=0&amp;&amp;(p=p.substring(0,u));for(var d=c,h=0,f=e[a];h&lt;f.length;h++){var v=f[h];n.satisfies(p,v.versionSpecifier)&amp;&amp;(d=v.patch(d,l))}return r[l]=d}return c}}})),E=f(((e,t)=&gt;{t.exports={name:&quot;diagnostic-channel&quot;,version:&quot;1.0.0&quot;,main:&quot;./dist/src/channel.js&quot;,types:&quot;./dist/src/channel.d.ts&quot;,scripts:{build:&quot;tsc&quot;,lint:&quot;tslint -c tslint.json -p tsconfig.json&quot;,clean:&quot;rimraf ./dist&quot;,test:&quot;mocha ./dist/tests/**/*.js&quot;},homepage:&quot;https://github.com/Microsoft/node-diagnostic-channel&quot;,bugs:{url:&quot;https://github.com/Microsoft/node-diagnostic-channel/issues&quot;},repository:{type:&quot;git&quot;,url:&quot;https://github.com/Microsoft/node-diagnostic-channel.git&quot;},description:&quot;Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers&quot;,dependencies:{semver:&quot;^5.3.0&quot;},devDependencies:{&quot;@types/mocha&quot;:&quot;^2.2.40&quot;,&quot;@types/node&quot;:&quot;~8.0.0&quot;,mocha:&quot;^3.2.0&quot;,rimraf:&quot;^2.6.1&quot;,tslint:&quot;^5.0.0&quot;,typescript:&quot;4.1.2&quot;},files:[&quot;dist/src/**/*.d.ts&quot;,&quot;dist/src/**/*.js&quot;,&quot;LICENSE&quot;,&quot;README.md&quot;,&quot;package.json&quot;],license:&quot;MIT&quot;}})),b=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=y(),n=y();Object.defineProperty(e,&quot;makePatchingRequire&quot;,{enumerable:!0,get:function(){return n.makePatchingRequire}});var i=function(e){return!0},o=function(){function e(){this.version=E().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&amp;&amp;t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var r=this.subscribers[e];if(r){var n={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,r.forEach((function(e){var t=e.listener,r=e.filter;try{r&amp;&amp;r(!0)&amp;&amp;t(n)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,r){void 0===r&amp;&amp;(r=i),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:r})},e.prototype.unsubscribe=function(e,t,r){void 0===r&amp;&amp;(r=i);var n=this.subscribers[e];if(n)for(var o=0;o&lt;n.length;++o)if(n[o].listener===t&amp;&amp;n[o].filter===r)return n.splice(o,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return e(t(r))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new o,r(8188).prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),e.channel=global.diagnosticsSource})),S=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),w=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e._globalThis=void 0,e._globalThis=&quot;object&quot;==typeof globalThis?globalThis:global})),T=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(w(),e)})),x=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(T(),e)})),P=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.VERSION=void 0,e.VERSION=&quot;1.0.3&quot;})),C=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=P(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(e){var t=new Set([e]),n=new Set,i=e.match(r);if(!i)return function(){return!1};var o=+i[1],s=+i[2],a=+i[3];if(null!=i[4])return function(t){return t===e};function c(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var i=e.match(r);if(!i)return c(e);var p=+i[1],u=+i[2],d=+i[3];return null!=i[4]||o!==p?c(e):0===o?s===u&amp;&amp;a&lt;=d?l(e):c(e):s&lt;=u?l(e):c(e)}}e._makeCompatibilityCheck=n,e.isCompatible=n(t.VERSION)})),A=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=x(),r=P(),n=C(),i=r.VERSION.split(&quot;.&quot;)[0],o=Symbol.for(&quot;opentelemetry.js.api.&quot;+i),s=t._globalThis;e.registerGlobal=function(e,t,n,i){var a;void 0===i&amp;&amp;(i=!1);var c=s[o]=null!==(a=s[o])&amp;&amp;void 0!==a?a:{version:r.VERSION};if(!i&amp;&amp;c[e]){var l=new Error(&quot;@opentelemetry/api: Attempted duplicate registration of API: &quot;+e);return n.error(l.stack||l.message),!1}return c.version!==r.VERSION?(l=new Error(&quot;@opentelemetry/api: All API registration versions must match&quot;),n.error(l.stack||l.message),!1):(c[e]=t,n.debug(&quot;@opentelemetry/api: Registered a global for &quot;+e+&quot; v&quot;+r.VERSION+&quot;.&quot;),!0)},e.getGlobal=function(e){var t,r,i=null===(t=s[o])||void 0===t?void 0:t.version;if(i&amp;&amp;n.isCompatible(i))return null===(r=s[o])||void 0===r?void 0:r[e]},e.unregisterGlobal=function(e,t){t.debug(&quot;@opentelemetry/api: Unregistering a global for &quot;+e+&quot; v&quot;+r.VERSION+&quot;.&quot;);var n=s[o];n&amp;&amp;delete n[e]}})),I=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.DiagComponentLogger=void 0;var t=A(),r=function(){function e(e){this._namespace=e.namespace||&quot;DiagComponentLogger&quot;}return e.prototype.debug=function(){for(var e=[],t=0;t&lt;arguments.length;t++)e[t]=arguments[t];return n(&quot;debug&quot;,this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t&lt;arguments.length;t++)e[t]=arguments[t];return n(&quot;error&quot;,this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t&lt;arguments.length;t++)e[t]=arguments[t];return n(&quot;info&quot;,this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t&lt;arguments.length;t++)e[t]=arguments[t];return n(&quot;warn&quot;,this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t&lt;arguments.length;t++)e[t]=arguments[t];return n(&quot;verbose&quot;,this._namespace,e)},e}();function n(e,r,n){var i=t.getGlobal(&quot;diag&quot;);if(i)return n.unshift(r),i[e].apply(i,n)}e.DiagComponentLogger=r})),O=f((e=&gt;{&quot;use strict&quot;;var t;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.DiagLogLevel=void 0,(t=e.DiagLogLevel||(e.DiagLogLevel={}))[t.NONE=0]=&quot;NONE&quot;,t[t.ERROR=30]=&quot;ERROR&quot;,t[t.WARN=50]=&quot;WARN&quot;,t[t.INFO=60]=&quot;INFO&quot;,t[t.DEBUG=70]=&quot;DEBUG&quot;,t[t.VERBOSE=80]=&quot;VERBOSE&quot;,t[t.ALL=9999]=&quot;ALL&quot;})),R=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.createLogLevelDiagLogger=void 0;var t=O();e.createLogLevelDiagLogger=function(e,r){function n(t,n){var i=r[t];return&quot;function&quot;==typeof i&amp;&amp;e&gt;=n?i.bind(r):function(){}}return e&lt;t.DiagLogLevel.NONE?e=t.DiagLogLevel.NONE:e&gt;t.DiagLogLevel.ALL&amp;&amp;(e=t.DiagLogLevel.ALL),r=r||{},{error:n(&quot;error&quot;,t.DiagLogLevel.ERROR),warn:n(&quot;warn&quot;,t.DiagLogLevel.WARN),info:n(&quot;info&quot;,t.DiagLogLevel.INFO),debug:n(&quot;debug&quot;,t.DiagLogLevel.DEBUG),verbose:n(&quot;verbose&quot;,t.DiagLogLevel.VERBOSE)}}})),k=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.DiagAPI=void 0;var t=I(),r=R(),n=O(),i=A(),o=function(){function e(){function e(e){return function(){var t=i.getGlobal(&quot;diag&quot;);if(t)return t[e].apply(t,arguments)}}var o=this;o.setLogger=function(e,t){var s,a;if(void 0===t&amp;&amp;(t=n.DiagLogLevel.INFO),e===o){var c=new Error(&quot;Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation&quot;);return o.error(null!==(s=c.stack)&amp;&amp;void 0!==s?s:c.message),!1}var l=i.getGlobal(&quot;diag&quot;),p=r.createLogLevelDiagLogger(t,e);if(l){var u=null!==(a=(new Error).stack)&amp;&amp;void 0!==a?a:&quot;&lt;failed to generate stacktrace&gt;&quot;;l.warn(&quot;Current logger will be overwritten from &quot;+u),p.warn(&quot;Current logger will overwrite one already registered from &quot;+u)}return i.registerGlobal(&quot;diag&quot;,p,o,!0)},o.disable=function(){i.unregisterGlobal(&quot;diag&quot;,o)},o.createComponentLogger=function(e){return new t.DiagComponentLogger(e)},o.verbose=e(&quot;verbose&quot;),o.debug=e(&quot;debug&quot;),o.info=e(&quot;info&quot;),o.warn=e(&quot;warn&quot;),o.error=e(&quot;error&quot;)}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();e.DiagAPI=o})),N=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.BaggageImpl=void 0;var t=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){return[e[0],e[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r&lt;arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,o=t;i&lt;o.length;i++){var s=o[i];n._entries.delete(s)}return n},e.prototype.clear=function(){return new e},e}();e.BaggageImpl=t})),D=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol(&quot;BaggageEntryMetadata&quot;)})),M=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=k(),r=N(),n=D(),i=t.DiagAPI.instance();e.createBaggage=function(e){return void 0===e&amp;&amp;(e={}),new r.BaggageImpl(new Map(Object.entries(e)))},e.baggageEntryMetadataFromString=function(e){return&quot;string&quot;!=typeof e&amp;&amp;(i.error(&quot;Cannot create baggage metadata from unknown type: &quot;+typeof e),e=&quot;&quot;),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return e}}}})),L=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),j=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),U=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:&quot;error&quot;,c:&quot;error&quot;},{n:&quot;warn&quot;,c:&quot;warn&quot;},{n:&quot;info&quot;,c:&quot;info&quot;},{n:&quot;debug&quot;,c:&quot;debug&quot;},{n:&quot;verbose&quot;,c:&quot;trace&quot;}];e.DiagConsoleLogger=function(){function e(e){return function(){var t=arguments;if(console){var r=console[e];if(&quot;function&quot;!=typeof r&amp;&amp;(r=console.log),&quot;function&quot;==typeof r)return r.apply(console,t)}}}for(var r=0;r&lt;t.length;r++)this[t[r].n]=e(t[r].c)}})),F=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(U(),e),r(O(),e)})),B=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},e.defaultTextMapSetter={set:function(e,t,r){null!=e&amp;&amp;(e[t]=r)}}})),H=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),G=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),q=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0,e.createContextKey=function(e){return Symbol.for(e)};e.ROOT_CONTEXT=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var i=new e(r._currentContext);return i._currentContext.set(t,n),i},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}})),V=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r&lt;n;r++,i++)e[i]=t[r];return e};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.NoopContextManager=void 0;var r=q(),n=function(){function e(){}return e.prototype.active=function(){return r.ROOT_CONTEXT},e.prototype.with=function(e,r,n){for(var i=[],o=3;o&lt;arguments.length;o++)i[o-3]=arguments[o];return r.call.apply(r,t([n],i))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();e.NoopContextManager=n})),$=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r&lt;n;r++,i++)e[i]=t[r];return e};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.ContextAPI=void 0;var r=V(),n=A(),i=k(),o=&quot;context&quot;,s=new r.NoopContextManager,a=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return n.registerGlobal(o,e,i.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,r,n){for(var i,o=[],s=3;s&lt;arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,t([e,r,n],o))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return n.getGlobal(o)||s},e.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},e}();e.ContextAPI=a})),W=f((e=&gt;{&quot;use strict&quot;;var t;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.TraceFlags=void 0,(t=e.TraceFlags||(e.TraceFlags={}))[t.NONE=0]=&quot;NONE&quot;,t[t.SAMPLED=1]=&quot;SAMPLED&quot;})),z=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=W();e.INVALID_SPANID=&quot;0000000000000000&quot;,e.INVALID_TRACEID=&quot;00000000000000000000000000000000&quot;,e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}})),K=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.NonRecordingSpan=void 0;var t=z(),r=function(){function e(e){void 0===e&amp;&amp;(e=t.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}();e.NonRecordingSpan=r})),Y=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=q(),r=K(),n=t.createContextKey(&quot;OpenTelemetry Context Key SPAN&quot;);function i(e){return e.getValue(n)||void 0}function o(e,t){return e.setValue(n,t)}e.getSpan=i,e.setSpan=o,e.deleteSpan=function(e){return e.deleteValue(n)},e.setSpanContext=function(e,t){return o(e,new r.NonRecordingSpan(t))},e.getSpanContext=function(e){var t;return null===(t=i(e))||void 0===t?void 0:t.spanContext()}})),X=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=z(),r=K(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(e){return n.test(e)&amp;&amp;e!==t.INVALID_TRACEID}function s(e){return i.test(e)&amp;&amp;e!==t.INVALID_SPANID}e.isValidTraceId=o,e.isValidSpanId=s,e.isSpanContextValid=function(e){return o(e.traceId)&amp;&amp;s(e.spanId)},e.wrapSpanContext=function(e){return new r.NonRecordingSpan(e)}})),Q=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.NoopTracer=void 0;var t=$(),r=Y(),n=K(),i=X(),o=t.ContextAPI.getInstance(),s=function(){function e(){}return e.prototype.startSpan=function(e,t,o){if(Boolean(null==t?void 0:t.root))return new n.NonRecordingSpan;var s=o&amp;&amp;r.getSpanContext(o);return function(e){return&quot;object&quot;==typeof e&amp;&amp;&quot;string&quot;==typeof e.spanId&amp;&amp;&quot;string&quot;==typeof e.traceId&amp;&amp;&quot;number&quot;==typeof e.traceFlags}(s)&amp;&amp;i.isSpanContextValid(s)?new n.NonRecordingSpan(s):new n.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,n,i){var s,a,c;if(!(arguments.length&lt;2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=n):(s=t,a=n,c=i);var l=null!=a?a:o.active(),p=this.startSpan(e,s,l),u=r.setSpan(l,p);return o.with(u,c,void 0,p)}},e}();e.NoopTracer=s})),J=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.ProxyTracer=void 0;var t=new(Q().NoopTracer),r=function(){function e(e,t,r){this._provider=e,this.name=t,this.version=r}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):t},e}();e.ProxyTracer=r})),Z=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.NoopTracerProvider=void 0;var t=Q(),r=function(){function e(){}return e.prototype.getTracer=function(e,r){return new t.NoopTracer},e}();e.NoopTracerProvider=r})),ee=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.ProxyTracerProvider=void 0;var t=J(),r=new(Z().NoopTracerProvider),n=function(){function e(){}return e.prototype.getTracer=function(e,r){var n;return null!==(n=this.getDelegateTracer(e,r))&amp;&amp;void 0!==n?n:new t.ProxyTracer(this,e,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&amp;&amp;void 0!==e?e:r},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t)},e}();e.ProxyTracerProvider=n})),te=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),re=f((e=&gt;{&quot;use strict&quot;;var t;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]=&quot;NOT_RECORD&quot;,t[t.RECORD=1]=&quot;RECORD&quot;,t[t.RECORD_AND_SAMPLED=2]=&quot;RECORD_AND_SAMPLED&quot;})),ne=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),ie=f((e=&gt;{&quot;use strict&quot;;var t;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.SpanKind=void 0,(t=e.SpanKind||(e.SpanKind={}))[t.INTERNAL=0]=&quot;INTERNAL&quot;,t[t.SERVER=1]=&quot;SERVER&quot;,t[t.CLIENT=2]=&quot;CLIENT&quot;,t[t.PRODUCER=3]=&quot;PRODUCER&quot;,t[t.CONSUMER=4]=&quot;CONSUMER&quot;})),oe=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),se=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),ae=f((e=&gt;{&quot;use strict&quot;;var t;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.SpanStatusCode=void 0,(t=e.SpanStatusCode||(e.SpanStatusCode={}))[t.UNSET=0]=&quot;UNSET&quot;,t[t.OK=1]=&quot;OK&quot;,t[t.ERROR=2]=&quot;ERROR&quot;})),ce=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),le=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),pe=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),ue=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),de=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.TraceAPI=void 0;var t=A(),r=ee(),n=X(),i=Y(),o=k(),s=&quot;trace&quot;,a=function(){function e(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var r=t.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return r&amp;&amp;this._proxyTracerProvider.setDelegate(e),r},e.prototype.getTracerProvider=function(){return t.getGlobal(s)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){t.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},e}();e.TraceAPI=a})),he=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}();e.NoopTextMapPropagator=t})),fe=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=q().createContextKey(&quot;OpenTelemetry Baggage Key&quot;);e.getBaggage=function(e){return e.getValue(t)||void 0},e.setBaggage=function(e,r){return e.setValue(t,r)},e.deleteBaggage=function(e){return e.deleteValue(t)}})),ve=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.PropagationAPI=void 0;var t=A(),r=he(),n=B(),i=fe(),o=M(),s=k(),a=&quot;propagation&quot;,c=new r.NoopTextMapPropagator,l=function(){function e(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return t.registerGlobal(a,e,s.DiagAPI.instance())},e.prototype.inject=function(e,t,r){return void 0===r&amp;&amp;(r=n.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&amp;&amp;(r=n.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){t.unregisterGlobal(a,s.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return t.getGlobal(a)||c},e}();e.PropagationAPI=l})),_e=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,r(S(),e);var n=M();Object.defineProperty(e,&quot;baggageEntryMetadataFromString&quot;,{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(L(),e),r(j(),e),r(F(),e),r(B(),e),r(H(),e),r(G(),e),r(J(),e),r(ee(),e),r(te(),e),r(re(),e),r(ne(),e),r(ie(),e),r(oe(),e),r(se(),e),r(ae(),e),r(W(),e),r(ce(),e),r(le(),e),r(pe(),e);var i=X();Object.defineProperty(e,&quot;isSpanContextValid&quot;,{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(e,&quot;isValidTraceId&quot;,{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(e,&quot;isValidSpanId&quot;,{enumerable:!0,get:function(){return i.isValidSpanId}});var o=z();Object.defineProperty(e,&quot;INVALID_SPANID&quot;,{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(e,&quot;INVALID_TRACEID&quot;,{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(e,&quot;INVALID_SPAN_CONTEXT&quot;,{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),r(q(),e),r(ue(),e);var s=$();e.context=s.ContextAPI.getInstance();var a=de();e.trace=a.TraceAPI.getInstance();var c=ve();e.propagation=c.PropagationAPI.getInstance();var l=k();e.diag=l.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}})),me=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=_e().createContextKey(&quot;OpenTelemetry SDK Context Key SUPPRESS_TRACING&quot;);e.suppressTracing=function(e){return e.setValue(t,!0)},e.unsuppressTracing=function(e){return e.deleteValue(t)},e.isTracingSuppressed=function(e){return!0===e.getValue(t)}})),ge=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR=&quot;=&quot;,e.BAGGAGE_PROPERTIES_SEPARATOR=&quot;;&quot;,e.BAGGAGE_ITEMS_SEPARATOR=&quot;,&quot;,e.BAGGAGE_HEADER=&quot;baggage&quot;,e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192})),ye=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=_e(),r=ge();e.serializeKeyPairs=e=&gt;e.reduce(((e,t)=&gt;{let n=`${e}${&quot;&quot;!==e?r.BAGGAGE_ITEMS_SEPARATOR:&quot;&quot;}${t}`;return n.length&gt;r.BAGGAGE_MAX_TOTAL_LENGTH?e:n}),&quot;&quot;),e.getKeyPairs=e=&gt;e.getAllEntries().map((([e,t])=&gt;`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`)),e.parsePairKeyValue=e=&gt;{let n=e.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(n.length&lt;=0)return;let i=n.shift();if(!i)return;let o=i.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(2!==o.length)return;let s,a=decodeURIComponent(o[0].trim()),c=decodeURIComponent(o[1].trim());return n.length&gt;0&amp;&amp;(s=t.baggageEntryMetadataFromString(n.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:c,metadata:s}},e.parseKeyPairsIntoRecord=t=&gt;&quot;string&quot;!=typeof t||0===t.length?{}:t.split(r.BAGGAGE_ITEMS_SEPARATOR).map((t=&gt;e.parsePairKeyValue(t))).filter((e=&gt;void 0!==e&amp;&amp;e.value.length&gt;0)).reduce(((e,t)=&gt;(e[t.key]=t.value,e)),{})})),Ee=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.HttpBaggagePropagator=void 0;var t=_e(),r=me(),n=ge(),i=ye();e.HttpBaggagePropagator=class{inject(e,o,s){let a=t.propagation.getBaggage(e);if(!a||r.isTracingSuppressed(e))return;let c=i.getKeyPairs(a).filter((e=&gt;e.length&lt;=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),l=i.serializeKeyPairs(c);l.length&gt;0&amp;&amp;s.set(o,n.BAGGAGE_HEADER,l)}extract(e,r,o){let s=o.get(r,n.BAGGAGE_HEADER);if(!s)return e;let a={};return 0===s.length||(s.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach((e=&gt;{let t=i.parsePairKeyValue(e);if(t){let e={value:t.value};t.metadata&amp;&amp;(e.metadata=t.metadata),a[t.key]=e}})),0===Object.entries(a).length)?e:t.propagation.setBaggage(e,t.propagation.createBaggage(a))}fields(){return[n.BAGGAGE_HEADER]}}})),be=f((e=&gt;{&quot;use strict&quot;;function t(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e)if(null!=n){if(!t){if(r(n)){t=typeof n;continue}return!1}if(typeof n!==t)return!1}return!0}(e):r(e))}function r(e){switch(typeof e){case&quot;number&quot;:case&quot;boolean&quot;:case&quot;string&quot;:return!0}return!1}Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0,e.sanitizeAttributes=function(e){let r={};if(null==e||&quot;object&quot;!=typeof e)return r;for(let[n,i]of Object.entries(e))t(i)&amp;&amp;(Array.isArray(i)?r[n]=i.slice():r[n]=i);return r},e.isAttributeValue=t})),Se=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.loggingErrorHandler=void 0;var t=_e();e.loggingErrorHandler=function(){return e=&gt;{t.diag.error(function(e){return&quot;string&quot;==typeof e?e:JSON.stringify(function(e){let t={},r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((e=&gt;{if(t[e])return;let n=r[e];n&amp;&amp;(t[e]=String(n))})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}})),we=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=Se().loggingErrorHandler();e.setGlobalErrorHandler=function(e){t=e},e.globalErrorHandler=e=&gt;{try{t(e)}catch(e){}}})),Te=f((e=&gt;{&quot;use strict&quot;;var t;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff=&quot;always_off&quot;,t.AlwaysOn=&quot;always_on&quot;,t.ParentBasedAlwaysOff=&quot;parentbased_always_off&quot;,t.ParentBasedAlwaysOn=&quot;parentbased_always_on&quot;,t.ParentBasedTraceIdRatio=&quot;parentbased_traceidratio&quot;,t.TraceIdRatio=&quot;traceidratio&quot;})),xe=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=_e(),r=Te(),n=[&quot;OTEL_BSP_EXPORT_TIMEOUT&quot;,&quot;OTEL_BSP_MAX_EXPORT_BATCH_SIZE&quot;,&quot;OTEL_BSP_MAX_QUEUE_SIZE&quot;,&quot;OTEL_BSP_SCHEDULE_DELAY&quot;,&quot;OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT&quot;,&quot;OTEL_SPAN_EVENT_COUNT_LIMIT&quot;,&quot;OTEL_SPAN_LINK_COUNT_LIMIT&quot;];function i(e){return n.indexOf(e)&gt;-1}var o=[&quot;OTEL_NO_PATCH_MODULES&quot;,&quot;OTEL_PROPAGATORS&quot;];function s(e){return o.indexOf(e)&gt;-1}function a(e,t,r,n=-1/0,i=1/0){if(void 0!==r[e]){let o=Number(r[e]);isNaN(o)||(t[e]=o&lt;n?n:o&gt;i?i:o)}}function c(e,t,r,n=&quot;,&quot;){let i=r[e];&quot;string&quot;==typeof i&amp;&amp;(t[e]=i.split(n).map((e=&gt;e.trim())))}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:&quot;&quot;,ECS_CONTAINER_METADATA_URI_V4:&quot;&quot;,ECS_CONTAINER_METADATA_URI:&quot;&quot;,HOSTNAME:&quot;&quot;,KUBERNETES_SERVICE_HOST:&quot;&quot;,NAMESPACE:&quot;&quot;,OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:&quot;&quot;,OTEL_EXPORTER_JAEGER_ENDPOINT:&quot;&quot;,OTEL_EXPORTER_JAEGER_PASSWORD:&quot;&quot;,OTEL_EXPORTER_JAEGER_USER:&quot;&quot;,OTEL_EXPORTER_OTLP_ENDPOINT:&quot;&quot;,OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:&quot;&quot;,OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:&quot;&quot;,OTEL_EXPORTER_OTLP_HEADERS:&quot;&quot;,OTEL_EXPORTER_OTLP_TRACES_HEADERS:&quot;&quot;,OTEL_EXPORTER_OTLP_METRICS_HEADERS:&quot;&quot;,OTEL_EXPORTER_ZIPKIN_ENDPOINT:&quot;http://localhost:9411/api/v2/spans&quot;,OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:[&quot;tracecontext&quot;,&quot;baggage&quot;],OTEL_RESOURCE_ATTRIBUTES:&quot;&quot;,OTEL_SERVICE_NAME:&quot;&quot;,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:&quot;none&quot;,OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:&quot;&quot;};var l={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function p(e,t,r){let n=r[e];if(&quot;string&quot;==typeof n){let r=l[n.toUpperCase()];null!=r&amp;&amp;(t[e]=r)}}e.parseEnvironment=function(t){let r={};for(let n in e.DEFAULT_ENVIRONMENT){let e=n;if(&quot;OTEL_LOG_LEVEL&quot;===e)p(e,r,t);else if(i(e))a(e,r,t);else if(s(e))c(e,r,t);else{let n=t[e];null!=n&amp;&amp;(r[e]=String(n))}}return r}})),Pe=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.getEnv=void 0;var t=r(2037),n=xe();e.getEnv=function(){let e=n.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},n.DEFAULT_ENVIRONMENT,e)}})),Ce=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.hexToBase64=void 0,e.hexToBase64=function(e){let t=e.length,r=&quot;&quot;;for(let n=0;n&lt;t;n+=2){let t=e.substring(n,n+2),i=parseInt(t,16);r+=String.fromCharCode(i)}return Buffer.from(r,&quot;ascii&quot;).toString(&quot;base64&quot;)}})),Ae=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.RandomIdGenerator=void 0,e.RandomIdGenerator=class{constructor(){this.generateTraceId=r(16),this.generateSpanId=r(8)}};var t=Buffer.allocUnsafe(16);function r(e){return function(){for(let r=0;r&lt;e/4;r++)t.writeUInt32BE(Math.random()*2**32&gt;&gt;&gt;0,4*r);for(let r=0;r&lt;e&amp;&amp;!(t[r]&gt;0);r++)r===e-1&amp;&amp;(t[e-1]=1);return t.toString(&quot;hex&quot;,0,e)}}})),Ie=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.otperformance=void 0;var t=r(4074);e.otperformance=t.performance})),Oe=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.VERSION=void 0,e.VERSION=&quot;0.23.0&quot;})),Re=f((e=&gt;{&quot;use strict&quot;;var t;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:&quot;db.system&quot;,DB_CONNECTION_STRING:&quot;db.connection_string&quot;,DB_USER:&quot;db.user&quot;,DB_JDBC_DRIVER_CLASSNAME:&quot;db.jdbc.driver_classname&quot;,DB_NAME:&quot;db.name&quot;,DB_STATEMENT:&quot;db.statement&quot;,DB_OPERATION:&quot;db.operation&quot;,DB_MSSQL_INSTANCE_NAME:&quot;db.mssql.instance_name&quot;,DB_CASSANDRA_KEYSPACE:&quot;db.cassandra.keyspace&quot;,DB_CASSANDRA_PAGE_SIZE:&quot;db.cassandra.page_size&quot;,DB_CASSANDRA_CONSISTENCY_LEVEL:&quot;db.cassandra.consistency_level&quot;,DB_CASSANDRA_TABLE:&quot;db.cassandra.table&quot;,DB_CASSANDRA_IDEMPOTENCE:&quot;db.cassandra.idempotence&quot;,DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:&quot;db.cassandra.speculative_execution_count&quot;,DB_CASSANDRA_COORDINATOR_ID:&quot;db.cassandra.coordinator.id&quot;,DB_CASSANDRA_COORDINATOR_DC:&quot;db.cassandra.coordinator.dc&quot;,DB_HBASE_NAMESPACE:&quot;db.hbase.namespace&quot;,DB_REDIS_DATABASE_INDEX:&quot;db.redis.database_index&quot;,DB_MONGODB_COLLECTION:&quot;db.mongodb.collection&quot;,DB_SQL_TABLE:&quot;db.sql.table&quot;,EXCEPTION_TYPE:&quot;exception.type&quot;,EXCEPTION_MESSAGE:&quot;exception.message&quot;,EXCEPTION_STACKTRACE:&quot;exception.stacktrace&quot;,EXCEPTION_ESCAPED:&quot;exception.escaped&quot;,FAAS_TRIGGER:&quot;faas.trigger&quot;,FAAS_EXECUTION:&quot;faas.execution&quot;,FAAS_DOCUMENT_COLLECTION:&quot;faas.document.collection&quot;,FAAS_DOCUMENT_OPERATION:&quot;faas.document.operation&quot;,FAAS_DOCUMENT_TIME:&quot;faas.document.time&quot;,FAAS_DOCUMENT_NAME:&quot;faas.document.name&quot;,FAAS_TIME:&quot;faas.time&quot;,FAAS_CRON:&quot;faas.cron&quot;,FAAS_COLDSTART:&quot;faas.coldstart&quot;,FAAS_INVOKED_NAME:&quot;faas.invoked_name&quot;,FAAS_INVOKED_PROVIDER:&quot;faas.invoked_provider&quot;,FAAS_INVOKED_REGION:&quot;faas.invoked_region&quot;,NET_TRANSPORT:&quot;net.transport&quot;,NET_PEER_IP:&quot;net.peer.ip&quot;,NET_PEER_PORT:&quot;net.peer.port&quot;,NET_PEER_NAME:&quot;net.peer.name&quot;,NET_HOST_IP:&quot;net.host.ip&quot;,NET_HOST_PORT:&quot;net.host.port&quot;,NET_HOST_NAME:&quot;net.host.name&quot;,PEER_SERVICE:&quot;peer.service&quot;,ENDUSER_ID:&quot;enduser.id&quot;,ENDUSER_ROLE:&quot;enduser.role&quot;,ENDUSER_SCOPE:&quot;enduser.scope&quot;,THREAD_ID:&quot;thread.id&quot;,THREAD_NAME:&quot;thread.name&quot;,CODE_FUNCTION:&quot;code.function&quot;,CODE_NAMESPACE:&quot;code.namespace&quot;,CODE_FILEPATH:&quot;code.filepath&quot;,CODE_LINENO:&quot;code.lineno&quot;,HTTP_METHOD:&quot;http.method&quot;,HTTP_URL:&quot;http.url&quot;,HTTP_TARGET:&quot;http.target&quot;,HTTP_HOST:&quot;http.host&quot;,HTTP_SCHEME:&quot;http.scheme&quot;,HTTP_STATUS_CODE:&quot;http.status_code&quot;,HTTP_FLAVOR:&quot;http.flavor&quot;,HTTP_USER_AGENT:&quot;http.user_agent&quot;,HTTP_REQUEST_CONTENT_LENGTH:&quot;http.request_content_length&quot;,HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:&quot;http.request_content_length_uncompressed&quot;,HTTP_RESPONSE_CONTENT_LENGTH:&quot;http.response_content_length&quot;,HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:&quot;http.response_content_length_uncompressed&quot;,HTTP_SERVER_NAME:&quot;http.server_name&quot;,HTTP_ROUTE:&quot;http.route&quot;,HTTP_CLIENT_IP:&quot;http.client_ip&quot;,AWS_DYNAMODB_TABLE_NAMES:&quot;aws.dynamodb.table_names&quot;,AWS_DYNAMODB_CONSUMED_CAPACITY:&quot;aws.dynamodb.consumed_capacity&quot;,AWS_DYNAMODB_ITEM_COLLECTION_METRICS:&quot;aws.dynamodb.item_collection_metrics&quot;,AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:&quot;aws.dynamodb.provisioned_read_capacity&quot;,AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:&quot;aws.dynamodb.provisioned_write_capacity&quot;,AWS_DYNAMODB_CONSISTENT_READ:&quot;aws.dynamodb.consistent_read&quot;,AWS_DYNAMODB_PROJECTION:&quot;aws.dynamodb.projection&quot;,AWS_DYNAMODB_LIMIT:&quot;aws.dynamodb.limit&quot;,AWS_DYNAMODB_ATTRIBUTES_TO_GET:&quot;aws.dynamodb.attributes_to_get&quot;,AWS_DYNAMODB_INDEX_NAME:&quot;aws.dynamodb.index_name&quot;,AWS_DYNAMODB_SELECT:&quot;aws.dynamodb.select&quot;,AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:&quot;aws.dynamodb.global_secondary_indexes&quot;,AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:&quot;aws.dynamodb.local_secondary_indexes&quot;,AWS_DYNAMODB_EXCLUSIVE_START_TABLE:&quot;aws.dynamodb.exclusive_start_table&quot;,AWS_DYNAMODB_TABLE_COUNT:&quot;aws.dynamodb.table_count&quot;,AWS_DYNAMODB_SCAN_FORWARD:&quot;aws.dynamodb.scan_forward&quot;,AWS_DYNAMODB_SEGMENT:&quot;aws.dynamodb.segment&quot;,AWS_DYNAMODB_TOTAL_SEGMENTS:&quot;aws.dynamodb.total_segments&quot;,AWS_DYNAMODB_COUNT:&quot;aws.dynamodb.count&quot;,AWS_DYNAMODB_SCANNED_COUNT:&quot;aws.dynamodb.scanned_count&quot;,AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:&quot;aws.dynamodb.attribute_definitions&quot;,AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:&quot;aws.dynamodb.global_secondary_index_updates&quot;,MESSAGING_SYSTEM:&quot;messaging.system&quot;,MESSAGING_DESTINATION:&quot;messaging.destination&quot;,MESSAGING_DESTINATION_KIND:&quot;messaging.destination_kind&quot;,MESSAGING_TEMP_DESTINATION:&quot;messaging.temp_destination&quot;,MESSAGING_PROTOCOL:&quot;messaging.protocol&quot;,MESSAGING_PROTOCOL_VERSION:&quot;messaging.protocol_version&quot;,MESSAGING_URL:&quot;messaging.url&quot;,MESSAGING_MESSAGE_ID:&quot;messaging.message_id&quot;,MESSAGING_CONVERSATION_ID:&quot;messaging.conversation_id&quot;,MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:&quot;messaging.message_payload_size_bytes&quot;,MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:&quot;messaging.message_payload_compressed_size_bytes&quot;,MESSAGING_OPERATION:&quot;messaging.operation&quot;,MESSAGING_RABBITMQ_ROUTING_KEY:&quot;messaging.rabbitmq.routing_key&quot;,MESSAGING_KAFKA_MESSAGE_KEY:&quot;messaging.kafka.message_key&quot;,MESSAGING_KAFKA_CONSUMER_GROUP:&quot;messaging.kafka.consumer_group&quot;,MESSAGING_KAFKA_CLIENT_ID:&quot;messaging.kafka.client_id&quot;,MESSAGING_KAFKA_PARTITION:&quot;messaging.kafka.partition&quot;,MESSAGING_KAFKA_TOMBSTONE:&quot;messaging.kafka.tombstone&quot;,RPC_SYSTEM:&quot;rpc.system&quot;,RPC_SERVICE:&quot;rpc.service&quot;,RPC_METHOD:&quot;rpc.method&quot;,RPC_GRPC_STATUS_CODE:&quot;rpc.grpc.status_code&quot;,RPC_JSONRPC_VERSION:&quot;rpc.jsonrpc.version&quot;,RPC_JSONRPC_METHOD:&quot;rpc.jsonrpc.method&quot;,RPC_JSONRPC_REQUEST_ID:&quot;rpc.jsonrpc.request_id&quot;,RPC_JSONRPC_ERROR_CODE:&quot;rpc.jsonrpc.error_code&quot;,RPC_JSONRPC_ERROR_MESSAGE:&quot;rpc.jsonrpc.error_message&quot;},(t=e.DbSystemValues||(e.DbSystemValues={})).OTHER_SQL=&quot;other_sql&quot;,t.MSSQL=&quot;mssql&quot;,t.MYSQL=&quot;mysql&quot;,t.ORACLE=&quot;oracle&quot;,t.DB2=&quot;db2&quot;,t.POSTGRESQL=&quot;postgresql&quot;,t.REDSHIFT=&quot;redshift&quot;,t.HIVE=&quot;hive&quot;,t.CLOUDSCAPE=&quot;cloudscape&quot;,t.HSQLDB=&quot;hsqldb&quot;,t.PROGRESS=&quot;progress&quot;,t.MAXDB=&quot;maxdb&quot;,t.HANADB=&quot;hanadb&quot;,t.INGRES=&quot;ingres&quot;,t.FIRSTSQL=&quot;firstsql&quot;,t.EDB=&quot;edb&quot;,t.CACHE=&quot;cache&quot;,t.ADABAS=&quot;adabas&quot;,t.FIREBIRD=&quot;firebird&quot;,t.DERBY=&quot;derby&quot;,t.FILEMAKER=&quot;filemaker&quot;,t.INFORMIX=&quot;informix&quot;,t.INSTANTDB=&quot;instantdb&quot;,t.INTERBASE=&quot;interbase&quot;,t.MARIADB=&quot;mariadb&quot;,t.NETEZZA=&quot;netezza&quot;,t.PERVASIVE=&quot;pervasive&quot;,t.POINTBASE=&quot;pointbase&quot;,t.SQLITE=&quot;sqlite&quot;,t.SYBASE=&quot;sybase&quot;,t.TERADATA=&quot;teradata&quot;,t.VERTICA=&quot;vertica&quot;,t.H2=&quot;h2&quot;,t.COLDFUSION=&quot;coldfusion&quot;,t.CASSANDRA=&quot;cassandra&quot;,t.HBASE=&quot;hbase&quot;,t.MONGODB=&quot;mongodb&quot;,t.REDIS=&quot;redis&quot;,t.COUCHBASE=&quot;couchbase&quot;,t.COUCHDB=&quot;couchdb&quot;,t.COSMOSDB=&quot;cosmosdb&quot;,t.DYNAMODB=&quot;dynamodb&quot;,t.NEO4J=&quot;neo4j&quot;,t.GEODE=&quot;geode&quot;,t.ELASTICSEARCH=&quot;elasticsearch&quot;,t.MEMCACHED=&quot;memcached&quot;,t.COCKROACHDB=&quot;cockroachdb&quot;,function(e){e.ALL=&quot;all&quot;,e.EACH_QUORUM=&quot;each_quorum&quot;,e.QUORUM=&quot;quorum&quot;,e.LOCAL_QUORUM=&quot;local_quorum&quot;,e.ONE=&quot;one&quot;,e.TWO=&quot;two&quot;,e.THREE=&quot;three&quot;,e.LOCAL_ONE=&quot;local_one&quot;,e.ANY=&quot;any&quot;,e.SERIAL=&quot;serial&quot;,e.LOCAL_SERIAL=&quot;local_serial&quot;}(e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={})),function(e){e.DATASOURCE=&quot;datasource&quot;,e.HTTP=&quot;http&quot;,e.PUBSUB=&quot;pubsub&quot;,e.TIMER=&quot;timer&quot;,e.OTHER=&quot;other&quot;}(e.FaasTriggerValues||(e.FaasTriggerValues={})),function(e){e.INSERT=&quot;insert&quot;,e.EDIT=&quot;edit&quot;,e.DELETE=&quot;delete&quot;}(e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={})),function(e){e.AWS=&quot;aws&quot;,e.AZURE=&quot;azure&quot;,e.GCP=&quot;gcp&quot;}(e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={})),function(e){e.IP_TCP=&quot;ip_tcp&quot;,e.IP_UDP=&quot;ip_udp&quot;,e.IP=&quot;ip&quot;,e.UNIX=&quot;unix&quot;,e.PIPE=&quot;pipe&quot;,e.INPROC=&quot;inproc&quot;,e.OTHER=&quot;other&quot;}(e.NetTransportValues||(e.NetTransportValues={})),function(e){e.HTTP_1_0=&quot;1.0&quot;,e.HTTP_1_1=&quot;1.1&quot;,e.HTTP_2_0=&quot;2.0&quot;,e.SPDY=&quot;SPDY&quot;,e.QUIC=&quot;QUIC&quot;}(e.HttpFlavorValues||(e.HttpFlavorValues={})),function(e){e.QUEUE=&quot;queue&quot;,e.TOPIC=&quot;topic&quot;}(e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={})),function(e){e.RECEIVE=&quot;receive&quot;,e.PROCESS=&quot;process&quot;}(e.MessagingOperationValues||(e.MessagingOperationValues={})),function(e){e[e.OK=0]=&quot;OK&quot;,e[e.CANCELLED=1]=&quot;CANCELLED&quot;,e[e.UNKNOWN=2]=&quot;UNKNOWN&quot;,e[e.INVALID_ARGUMENT=3]=&quot;INVALID_ARGUMENT&quot;,e[e.DEADLINE_EXCEEDED=4]=&quot;DEADLINE_EXCEEDED&quot;,e[e.NOT_FOUND=5]=&quot;NOT_FOUND&quot;,e[e.ALREADY_EXISTS=6]=&quot;ALREADY_EXISTS&quot;,e[e.PERMISSION_DENIED=7]=&quot;PERMISSION_DENIED&quot;,e[e.RESOURCE_EXHAUSTED=8]=&quot;RESOURCE_EXHAUSTED&quot;,e[e.FAILED_PRECONDITION=9]=&quot;FAILED_PRECONDITION&quot;,e[e.ABORTED=10]=&quot;ABORTED&quot;,e[e.OUT_OF_RANGE=11]=&quot;OUT_OF_RANGE&quot;,e[e.UNIMPLEMENTED=12]=&quot;UNIMPLEMENTED&quot;,e[e.INTERNAL=13]=&quot;INTERNAL&quot;,e[e.UNAVAILABLE=14]=&quot;UNAVAILABLE&quot;,e[e.DATA_LOSS=15]=&quot;DATA_LOSS&quot;,e[e.UNAUTHENTICATED=16]=&quot;UNAUTHENTICATED&quot;}(e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))})),ke=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(Re(),e)})),Ne=f((e=&gt;{&quot;use strict&quot;;var t;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:&quot;cloud.provider&quot;,CLOUD_ACCOUNT_ID:&quot;cloud.account.id&quot;,CLOUD_REGION:&quot;cloud.region&quot;,CLOUD_AVAILABILITY_ZONE:&quot;cloud.availability_zone&quot;,CLOUD_PLATFORM:&quot;cloud.platform&quot;,AWS_ECS_CONTAINER_ARN:&quot;aws.ecs.container.arn&quot;,AWS_ECS_CLUSTER_ARN:&quot;aws.ecs.cluster.arn&quot;,AWS_ECS_LAUNCHTYPE:&quot;aws.ecs.launchtype&quot;,AWS_ECS_TASK_ARN:&quot;aws.ecs.task.arn&quot;,AWS_ECS_TASK_FAMILY:&quot;aws.ecs.task.family&quot;,AWS_ECS_TASK_REVISION:&quot;aws.ecs.task.revision&quot;,AWS_EKS_CLUSTER_ARN:&quot;aws.eks.cluster.arn&quot;,AWS_LOG_GROUP_NAMES:&quot;aws.log.group.names&quot;,AWS_LOG_GROUP_ARNS:&quot;aws.log.group.arns&quot;,AWS_LOG_STREAM_NAMES:&quot;aws.log.stream.names&quot;,AWS_LOG_STREAM_ARNS:&quot;aws.log.stream.arns&quot;,CONTAINER_NAME:&quot;container.name&quot;,CONTAINER_ID:&quot;container.id&quot;,CONTAINER_RUNTIME:&quot;container.runtime&quot;,CONTAINER_IMAGE_NAME:&quot;container.image.name&quot;,CONTAINER_IMAGE_TAG:&quot;container.image.tag&quot;,DEPLOYMENT_ENVIRONMENT:&quot;deployment.environment&quot;,DEVICE_ID:&quot;device.id&quot;,DEVICE_MODEL_IDENTIFIER:&quot;device.model.identifier&quot;,DEVICE_MODEL_NAME:&quot;device.model.name&quot;,FAAS_NAME:&quot;faas.name&quot;,FAAS_ID:&quot;faas.id&quot;,FAAS_VERSION:&quot;faas.version&quot;,FAAS_INSTANCE:&quot;faas.instance&quot;,FAAS_MAX_MEMORY:&quot;faas.max_memory&quot;,HOST_ID:&quot;host.id&quot;,HOST_NAME:&quot;host.name&quot;,HOST_TYPE:&quot;host.type&quot;,HOST_ARCH:&quot;host.arch&quot;,HOST_IMAGE_NAME:&quot;host.image.name&quot;,HOST_IMAGE_ID:&quot;host.image.id&quot;,HOST_IMAGE_VERSION:&quot;host.image.version&quot;,K8S_CLUSTER_NAME:&quot;k8s.cluster.name&quot;,K8S_NODE_NAME:&quot;k8s.node.name&quot;,K8S_NODE_UID:&quot;k8s.node.uid&quot;,K8S_NAMESPACE_NAME:&quot;k8s.namespace.name&quot;,K8S_POD_UID:&quot;k8s.pod.uid&quot;,K8S_POD_NAME:&quot;k8s.pod.name&quot;,K8S_CONTAINER_NAME:&quot;k8s.container.name&quot;,K8S_REPLICASET_UID:&quot;k8s.replicaset.uid&quot;,K8S_REPLICASET_NAME:&quot;k8s.replicaset.name&quot;,K8S_DEPLOYMENT_UID:&quot;k8s.deployment.uid&quot;,K8S_DEPLOYMENT_NAME:&quot;k8s.deployment.name&quot;,K8S_STATEFULSET_UID:&quot;k8s.statefulset.uid&quot;,K8S_STATEFULSET_NAME:&quot;k8s.statefulset.name&quot;,K8S_DAEMONSET_UID:&quot;k8s.daemonset.uid&quot;,K8S_DAEMONSET_NAME:&quot;k8s.daemonset.name&quot;,K8S_JOB_UID:&quot;k8s.job.uid&quot;,K8S_JOB_NAME:&quot;k8s.job.name&quot;,K8S_CRONJOB_UID:&quot;k8s.cronjob.uid&quot;,K8S_CRONJOB_NAME:&quot;k8s.cronjob.name&quot;,OS_TYPE:&quot;os.type&quot;,OS_DESCRIPTION:&quot;os.description&quot;,OS_NAME:&quot;os.name&quot;,OS_VERSION:&quot;os.version&quot;,PROCESS_PID:&quot;process.pid&quot;,PROCESS_EXECUTABLE_NAME:&quot;process.executable.name&quot;,PROCESS_EXECUTABLE_PATH:&quot;process.executable.path&quot;,PROCESS_COMMAND:&quot;process.command&quot;,PROCESS_COMMAND_LINE:&quot;process.command_line&quot;,PROCESS_COMMAND_ARGS:&quot;process.command_args&quot;,PROCESS_OWNER:&quot;process.owner&quot;,PROCESS_RUNTIME_NAME:&quot;process.runtime.name&quot;,PROCESS_RUNTIME_VERSION:&quot;process.runtime.version&quot;,PROCESS_RUNTIME_DESCRIPTION:&quot;process.runtime.description&quot;,SERVICE_NAME:&quot;service.name&quot;,SERVICE_NAMESPACE:&quot;service.namespace&quot;,SERVICE_INSTANCE_ID:&quot;service.instance.id&quot;,SERVICE_VERSION:&quot;service.version&quot;,TELEMETRY_SDK_NAME:&quot;telemetry.sdk.name&quot;,TELEMETRY_SDK_LANGUAGE:&quot;telemetry.sdk.language&quot;,TELEMETRY_SDK_VERSION:&quot;telemetry.sdk.version&quot;,TELEMETRY_AUTO_VERSION:&quot;telemetry.auto.version&quot;,WEBENGINE_NAME:&quot;webengine.name&quot;,WEBENGINE_VERSION:&quot;webengine.version&quot;,WEBENGINE_DESCRIPTION:&quot;webengine.description&quot;},(t=e.CloudProviderValues||(e.CloudProviderValues={})).AWS=&quot;aws&quot;,t.AZURE=&quot;azure&quot;,t.GCP=&quot;gcp&quot;,function(e){e.AWS_EC2=&quot;aws_ec2&quot;,e.AWS_ECS=&quot;aws_ecs&quot;,e.AWS_EKS=&quot;aws_eks&quot;,e.AWS_LAMBDA=&quot;aws_lambda&quot;,e.AWS_ELASTIC_BEANSTALK=&quot;aws_elastic_beanstalk&quot;,e.AZURE_VM=&quot;azure_vm&quot;,e.AZURE_CONTAINER_INSTANCES=&quot;azure_container_instances&quot;,e.AZURE_AKS=&quot;azure_aks&quot;,e.AZURE_FUNCTIONS=&quot;azure_functions&quot;,e.AZURE_APP_SERVICE=&quot;azure_app_service&quot;,e.GCP_COMPUTE_ENGINE=&quot;gcp_compute_engine&quot;,e.GCP_CLOUD_RUN=&quot;gcp_cloud_run&quot;,e.GCP_KUBERNETES_ENGINE=&quot;gcp_kubernetes_engine&quot;,e.GCP_CLOUD_FUNCTIONS=&quot;gcp_cloud_functions&quot;,e.GCP_APP_ENGINE=&quot;gcp_app_engine&quot;}(e.CloudPlatformValues||(e.CloudPlatformValues={})),function(e){e.EC2=&quot;ec2&quot;,e.FARGATE=&quot;fargate&quot;}(e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={})),function(e){e.AMD64=&quot;amd64&quot;,e.ARM32=&quot;arm32&quot;,e.ARM64=&quot;arm64&quot;,e.IA64=&quot;ia64&quot;,e.PPC32=&quot;ppc32&quot;,e.PPC64=&quot;ppc64&quot;,e.X86=&quot;x86&quot;}(e.HostArchValues||(e.HostArchValues={})),function(e){e.WINDOWS=&quot;windows&quot;,e.LINUX=&quot;linux&quot;,e.DARWIN=&quot;darwin&quot;,e.FREEBSD=&quot;freebsd&quot;,e.NETBSD=&quot;netbsd&quot;,e.OPENBSD=&quot;openbsd&quot;,e.DRAGONFLYBSD=&quot;dragonflybsd&quot;,e.HPUX=&quot;hpux&quot;,e.AIX=&quot;aix&quot;,e.SOLARIS=&quot;solaris&quot;,e.Z_OS=&quot;z_os&quot;}(e.OsTypeValues||(e.OsTypeValues={})),function(e){e.CPP=&quot;cpp&quot;,e.DOTNET=&quot;dotnet&quot;,e.ERLANG=&quot;erlang&quot;,e.GO=&quot;go&quot;,e.JAVA=&quot;java&quot;,e.NODEJS=&quot;nodejs&quot;,e.PHP=&quot;php&quot;,e.PYTHON=&quot;python&quot;,e.RUBY=&quot;ruby&quot;,e.WEBJS=&quot;webjs&quot;}(e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))})),De=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(Ne(),e)})),Me=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(ke(),e),r(De(),e)})),Le=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.SDK_INFO=void 0;var t=Oe(),r=Me();e.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:&quot;opentelemetry&quot;,[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:&quot;node&quot;,[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}})),je=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.unrefTimer=void 0,e.unrefTimer=function(e){e.unref()}})),Ue=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(Pe(),e),r(Ce(),e),r(Ae(),e),r(Ie(),e),r(Le(),e),r(je(),e)})),Fe=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(Ue(),e)})),Be=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=Fe(),r=Math.pow(10,9);function n(e){let t=e/1e3,n=Math.trunc(t);return[n,Number((t-n).toFixed(9))*r]}function i(){let e=t.otperformance.timeOrigin;if(&quot;number&quot;!=typeof e){let r=t.otperformance;e=r.timing&amp;&amp;r.timing.fetchStart}return e}function o(e){let o=n(i()),s=n(&quot;number&quot;==typeof e?e:t.otperformance.now()),a=o[0]+s[0],c=o[1]+s[1];return c&gt;r&amp;&amp;(c-=r,a+=1),[a,c]}function s(e){return Array.isArray(e)&amp;&amp;2===e.length&amp;&amp;&quot;number&quot;==typeof e[0]&amp;&amp;&quot;number&quot;==typeof e[1]}e.hrTime=o,e.timeInputToHrTime=function(e){if(s(e))return e;if(&quot;number&quot;==typeof e)return e&lt;i()?o(e):n(e);if(e instanceof Date)return n(e.getTime());throw TypeError(&quot;Invalid input type&quot;)},e.hrTimeDuration=function(e,t){let n=t[0]-e[0],i=t[1]-e[1];return i&lt;0&amp;&amp;(n-=1,i+=r),[n,i]},e.hrTimeToTimeStamp=function(e){let t=`${&quot;0&quot;.repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace(&quot;000Z&quot;,r)},e.hrTimeToNanoseconds=function(e){return e[0]*r+e[1]},e.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},e.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},e.isTimeInputHrTime=s,e.isTimeInput=function(e){return s(e)||&quot;number&quot;==typeof e||e instanceof Date}})),He=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Ge=f((e=&gt;{&quot;use strict&quot;;var t;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]=&quot;SUCCESS&quot;,t[t.FAILED=1]=&quot;FAILED&quot;})),qe=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.CompositePropagator=void 0;var t=_e();e.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&amp;&amp;void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=&gt;&quot;function&quot;==typeof e.fields?e.fields():[])).reduce(((e,t)=&gt;e.concat(t)),[])))}inject(e,r,n){for(let i of this._propagators)try{i.inject(e,r,n)}catch(e){t.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}}extract(e,r,n){return this._propagators.reduce(((e,i)=&gt;{try{return i.extract(e,r,n)}catch(e){t.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}})),Ve=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.validateValue=e.validateKey=void 0;var t=&quot;[_0-9a-z-*/]&quot;,r=new RegExp(`^(?:[a-z]${t}{0,255}|[a-z0-9]${t}{0,240}@[a-z]${t}{0,13})$`),n=/^[ -~]{0,255}[!-~]$/,i=/,|=/;e.validateKey=function(e){return r.test(e)},e.validateValue=function(e){return n.test(e)&amp;&amp;!i.test(e)}})),$e=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.TraceState=void 0;var t=Ve(),r=class{constructor(e){this._internalState=new Map,e&amp;&amp;this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&amp;&amp;r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=&gt;(e.push(t+&quot;=&quot;+this.get(t)),e)),[]).join(&quot;,&quot;)}_parse(e){e.length&gt;512||(this._internalState=e.split(&quot;,&quot;).reverse().reduce(((e,r)=&gt;{let n=r.trim(),i=n.indexOf(&quot;=&quot;);if(-1!==i){let o=n.slice(0,i),s=n.slice(i+1,r.length);t.validateKey(o)&amp;&amp;t.validateValue(s)&amp;&amp;e.set(o,s)}return e}),new Map),this._internalState.size&gt;32&amp;&amp;(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}};e.TraceState=r})),We=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=_e(),r=me(),n=$e();e.TRACE_PARENT_HEADER=&quot;traceparent&quot;,e.TRACE_STATE_HEADER=&quot;tracestate&quot;;var i=new RegExp(&quot;^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$&quot;);function o(e){let t=i.exec(e);return!t||&quot;00&quot;===t[1]&amp;&amp;t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}e.parseTraceParent=o,e.HttpTraceContextPropagator=class{inject(n,i,o){let s=t.trace.getSpanContext(n);if(!s||r.isTracingSuppressed(n)||!t.isSpanContextValid(s))return;let a=`00-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||t.TraceFlags.NONE).toString(16)}`;o.set(i,e.TRACE_PARENT_HEADER,a),s.traceState&amp;&amp;o.set(i,e.TRACE_STATE_HEADER,s.traceState.serialize())}extract(r,i,s){let a=s.get(i,e.TRACE_PARENT_HEADER);if(!a)return r;let c=Array.isArray(a)?a[0]:a;if(&quot;string&quot;!=typeof c)return r;let l=o(c);if(!l)return r;l.isRemote=!0;let p=s.get(i,e.TRACE_STATE_HEADER);if(p){let e=Array.isArray(p)?p.join(&quot;,&quot;):p;l.traceState=new n.TraceState(&quot;string&quot;==typeof e?e:void 0)}return t.trace.setSpanContext(r,l)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}})),ze=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Ke=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=_e().createContextKey(&quot;OpenTelemetry SDK Context Key RPC_METADATA&quot;);(e.RPCType||(e.RPCType={})).HTTP=&quot;http&quot;,e.setRPCMetadata=function(e,r){return e.setValue(t,r)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}})),Ye=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.AlwaysOffSampler=void 0;var t=_e();e.AlwaysOffSampler=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return&quot;AlwaysOffSampler&quot;}}})),Xe=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.AlwaysOnSampler=void 0;var t=_e();e.AlwaysOnSampler=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return&quot;AlwaysOnSampler&quot;}}})),Qe=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.ParentBasedSampler=void 0;var t=_e(),r=we(),n=Ye(),i=Xe();e.ParentBasedSampler=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(r.globalErrorHandler(new Error(&quot;ParentBasedSampler must have a root sampler configured&quot;)),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&amp;&amp;void 0!==t?t:new i.AlwaysOnSampler,this._remoteParentNotSampled=null!==(o=e.remoteParentNotSampled)&amp;&amp;void 0!==o?o:new n.AlwaysOffSampler,this._localParentSampled=null!==(s=e.localParentSampled)&amp;&amp;void 0!==s?s:new i.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&amp;&amp;void 0!==a?a:new n.AlwaysOffSampler}shouldSample(e,r,n,i,o,s){let a=t.trace.getSpanContext(e);return a&amp;&amp;t.isSpanContextValid(a)?a.isRemote?a.traceFlags&amp;t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,r,n,i,o,s):this._remoteParentNotSampled.shouldSample(e,r,n,i,o,s):a.traceFlags&amp;t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,r,n,i,o,s):this._localParentNotSampled.shouldSample(e,r,n,i,o,s):this._root.shouldSample(e,r,n,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}})),Je=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=_e();e.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,r){return{decision:t.isValidTraceId(r)&amp;&amp;this._accumulate(r)&lt;this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return&quot;number&quot;!=typeof e||isNaN(e)?0:e&gt;=1?1:e&lt;=0?0:e}_accumulate(e){let t=0;for(let r=0;r&lt;e.length/8;r++){let n=8*r;t=(t^parseInt(e.slice(n,n+8),16))&gt;&gt;&gt;0}return t}}})),Ze=f((e=&gt;{&quot;use strict&quot;;function t(e,t){return&quot;string&quot;==typeof t?e===t:t.test(e)}Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.isUrlIgnored=e.urlMatches=void 0,e.urlMatches=t,e.isUrlIgnored=function(e,r){if(!r)return!1;for(let n of r)if(t(e,n))return!0;return!1}})),et=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.isWrapped=void 0,e.isWrapped=function(e){return&quot;function&quot;==typeof e&amp;&amp;&quot;function&quot;==typeof e.__original&amp;&amp;&quot;function&quot;==typeof e.__unwrap&amp;&amp;!0===e.__wrapped}})),tt=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.baggageUtils=void 0,r(Ee(),e),r(be(),e),r(we(),e),r(Se(),e),r(Be(),e),r(He(),e),r(Ge(),e),r(Oe(),e),e.baggageUtils=ye(),r(Fe(),e),r(qe(),e),r(We(),e),r(ze(),e),r(Ke(),e),r(Ye(),e),r(Xe(),e),r(Qe(),e),r(Je(),e),r(me(),e),r($e(),e),r(xe(),e),r(Te(),e),r(Ze(),e),r(et(),e),r(Oe(),e)})),rt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName=&quot;exception&quot;})),nt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.Span=void 0;var t=_e(),r=tt(),n=Me(),i=rt();e.Span=class{constructor(e,n,i,o,s,a,c=[],l=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=i,this._spanContext=o,this.parentSpanId=a,this.kind=s,this.links=c,this.startTime=r.timeInputToHrTime(l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}spanContext(){return this._spanContext}setAttribute(e,n){return null==n||this._isSpanEnded()?this:0===e.length?(t.diag.warn(`Invalid attribute key: ${e}`),this):r.isAttributeValue(n)?(Object.keys(this.attributes).length&gt;=this._spanLimits.attributeCountLimit&amp;&amp;!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=n),this):(t.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,r]of Object.entries(e))this.setAttribute(t,r);return this}addEvent(e,n,i){return this._isSpanEnded()||(this.events.length&gt;=this._spanLimits.eventCountLimit&amp;&amp;(t.diag.warn(&quot;Dropping extra events.&quot;),this.events.shift()),r.isTimeInput(n)&amp;&amp;(void 0===i&amp;&amp;(i=n),n=void 0),void 0===i&amp;&amp;(i=r.hrTime()),this.events.push({name:e,attributes:n,time:r.timeInputToHrTime(i)})),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e=r.hrTime()){this._isSpanEnded()?t.diag.error(&quot;You can only call end() on a span once.&quot;):(this._ended=!0,this.endTime=r.timeInputToHrTime(e),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]&lt;0&amp;&amp;t.diag.warn(&quot;Inconsistent start and end time, startTime &gt; endTime&quot;,this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!1===this._ended}recordException(e,o=r.hrTime()){let s={};&quot;string&quot;==typeof e?s[n.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&amp;&amp;(e.code?s[n.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&amp;&amp;(s[n.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&amp;&amp;(s[n.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&amp;&amp;(s[n.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),s[n.SemanticAttributes.EXCEPTION_TYPE]||s[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,s,o):t.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&amp;&amp;t.diag.warn(&quot;Can not execute the operation on ended Span {traceId: %s, spanId: %s}&quot;,this._spanContext.traceId,this._spanContext.spanId),this._ended}}})),it=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=_e(),r=tt(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;function o(e=r.getEnv()){switch(e.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(s(e));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(s(e))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value &quot;${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}&quot;.`),new r.AlwaysOnSampler}}function s(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||&quot;&quot;===e.OTEL_TRACES_SAMPLER_ARG)return t.diag.error(&quot;OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1.&quot;),1;let r=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(r)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to 1.`),1):r&lt;0||r&gt;1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to 1.`),1):r}e.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}},e.buildSamplerFromEnv=o})),ot=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.mergeConfig=void 0;var t=it();e.mergeConfig=function(e){let r={sampler:t.buildSamplerFromEnv()},n=Object.assign({},t.DEFAULT_CONFIG,r,e);return n.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),n}})),st=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.Tracer=void 0;var t=_e(),r=tt(),n=nt(),i=ot();e.Tracer=class{constructor(e,t,n){this._tracerProvider=n;let o=i.mergeConfig(t);this._sampler=o.sampler,this._spanLimits=o.spanLimits,this._idGenerator=t.idGenerator||new r.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=e}startSpan(e,i={},o=t.context.active()){var s,a;if(r.isTracingSuppressed(o))return t.diag.debug(&quot;Instrumentation suppressed, returning Noop Span&quot;),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let c,l,p,u=function(e,r){if(!e.root)return t.trace.getSpanContext(r)}(i,o),d=this._idGenerator.generateSpanId();u&amp;&amp;t.trace.isSpanContextValid(u)?(c=u.traceId,l=u.traceState,p=u.spanId):c=this._idGenerator.generateTraceId();let h=null!==(s=i.kind)&amp;&amp;void 0!==s?s:t.SpanKind.INTERNAL,f=null!==(a=i.links)&amp;&amp;void 0!==a?a:[],v=r.sanitizeAttributes(i.attributes),_=this._sampler.shouldSample(i.root?t.trace.setSpanContext(o,t.INVALID_SPAN_CONTEXT):o,c,e,h,v,f),m={traceId:c,spanId:d,traceFlags:_.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,traceState:l};if(_.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug(&quot;Recording is off, propagating context in a non-recording span&quot;),t.trace.wrapSpanContext(m);let g=new n.Span(this,o,e,m,h,p,f,i.startTime);return g.setAttributes(Object.assign(v,_.attributes)),g}startActiveSpan(e,r,n,i){let o,s,a;if(arguments.length&lt;2)return;2===arguments.length?a=r:3===arguments.length?(o=r,a=n):(o=r,s=n,a=i);let c=null!=s?s:t.context.active(),l=this.startSpan(e,o,c),p=t.trace.setSpan(c,l);return t.context.with(p,a,void 0,l)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}})),at=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.defaultServiceName=void 0,e.defaultServiceName=function(){return`unknown_service:${process.argv0}`}})),ct=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.detectResources=void 0;var t=ft(),n=_e(),i=r(3837);e.detectResources=async(e={})=&gt;{let r=Object.assign(e),i=await Promise.all((r.detectors||[]).map((async e=&gt;{try{let t=await e.detect(r);return n.diag.debug(`${e.constructor.name} found resource.`,t),t}catch(r){return n.diag.debug(`${e.constructor.name} failed: ${r.message}`),t.Resource.empty()}})));return o(i),i.reduce(((e,t)=&gt;e.merge(t)),t.Resource.empty())};var o=e=&gt;{e.forEach((e=&gt;{if(Object.keys(e.attributes).length&gt;0){let t=i.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});n.diag.verbose(t)}}))}})),lt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.envDetector=void 0;var t=_e(),r=tt(),n=Me(),i=mt();e.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=&quot;,&quot;,this._LABEL_KEY_VALUE_SPLITTER=&quot;=&quot;,this._ERROR_MESSAGE_INVALID_CHARS=&quot;should be a ASCII string with a length greater than 0 and not exceed &quot;+this._MAX_LENGTH+&quot; characters.&quot;,this._ERROR_MESSAGE_INVALID_VALUE=&quot;should be a ASCII string with a length not exceed &quot;+this._MAX_LENGTH+&quot; characters.&quot;}async detect(e){let o={},s=r.getEnv(),a=s.OTEL_RESOURCE_ATTRIBUTES,c=s.OTEL_SERVICE_NAME;if(a)try{let e=this._parseResourceAttributes(a);Object.assign(o,e)}catch(e){t.diag.debug(`EnvDetector failed: ${e.message}`)}return c&amp;&amp;(o[n.ResourceAttributes.SERVICE_NAME]=c),new i.Resource(o)}_parseResourceAttributes(e){if(!e)return{};let t={},r=e.split(this._COMMA_SEPARATOR,-1);for(let e of r){let r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==r.length)continue;let[n,i]=r;if(n=n.trim(),i=i.trim().split('^&quot;|&quot;$').join(&quot;&quot;),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(i))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=i}return t}_isValid(e){return e.length&lt;=this._MAX_LENGTH&amp;&amp;this._isPrintableString(e)}_isPrintableString(e){for(let t=0;t&lt;e.length;t++){let r=e.charAt(t);if(r&lt;=&quot; &quot;||r&gt;=&quot;~&quot;)return!1}return!0}_isValidAndNotEmpty(e){return e.length&gt;0&amp;&amp;this._isValid(e)}}})),pt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.processDetector=void 0;var t=_e(),r=Me(),n=mt();e.processDetector=new class{async detect(e){let t={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||&quot;&quot;,[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||&quot;&quot;,[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(&quot; &quot;)||&quot;&quot;};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,i){return&quot;&quot;===e[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]||&quot;&quot;===e[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]||&quot;&quot;===e[r.ResourceAttributes.PROCESS_COMMAND]||&quot;&quot;===e[r.ResourceAttributes.PROCESS_COMMAND_LINE]?(t.diag.debug(&quot;ProcessDetector failed: Unable to find required process resources. &quot;),n.Resource.empty()):new n.Resource(Object.assign({},e))}}})),ut=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(lt(),e),r(pt(),e)})),dt=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(at(),e),r(ct(),e),r(ut(),e)})),ht=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(dt(),e)})),ft=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.Resource=void 0;var t=Me(),r=tt(),n=ht(),i=class{constructor(e){this.attributes=e}static empty(){return i.EMPTY}static default(){return new i({[t.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new i(t)}};e.Resource=i,i.EMPTY=new i({})})),vt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),_t=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),mt=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(ft(),e),r(ht(),e),r(vt(),e),r(_t(),e)})),gt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.MultiSpanProcessor=void 0;var t=tt();e.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise((r=&gt;{Promise.all(e).then((()=&gt;{r()})).catch((e=&gt;{t.globalErrorHandler(e||new Error(&quot;MultiSpanProcessor: forceFlush failed&quot;)),r()}))}))}onStart(e,t){for(let r of this._spanProcessors)r.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise(((t,r)=&gt;{Promise.all(e).then((()=&gt;{t()}),r)}))}}})),yt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.NoopSpanProcessor=void 0,e.NoopSpanProcessor=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}})),Et=f(((e,t)=&gt;{var r=&quot;__lodash_hash_undefined__&quot;,n=9007199254740991,i=&quot;[object Arguments]&quot;,o=&quot;[object Function]&quot;,s=&quot;[object Object]&quot;,a=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,l={};l[&quot;[object Float32Array]&quot;]=l[&quot;[object Float64Array]&quot;]=l[&quot;[object Int8Array]&quot;]=l[&quot;[object Int16Array]&quot;]=l[&quot;[object Int32Array]&quot;]=l[&quot;[object Uint8Array]&quot;]=l[&quot;[object Uint8ClampedArray]&quot;]=l[&quot;[object Uint16Array]&quot;]=l[&quot;[object Uint32Array]&quot;]=!0,l[i]=l[&quot;[object Array]&quot;]=l[&quot;[object ArrayBuffer]&quot;]=l[&quot;[object Boolean]&quot;]=l[&quot;[object DataView]&quot;]=l[&quot;[object Date]&quot;]=l[&quot;[object Error]&quot;]=l[o]=l[&quot;[object Map]&quot;]=l[&quot;[object Number]&quot;]=l[s]=l[&quot;[object RegExp]&quot;]=l[&quot;[object Set]&quot;]=l[&quot;[object String]&quot;]=l[&quot;[object WeakMap]&quot;]=!1;var p=&quot;object&quot;==typeof global&amp;&amp;global&amp;&amp;global.Object===Object&amp;&amp;global,u=&quot;object&quot;==typeof self&amp;&amp;self&amp;&amp;self.Object===Object&amp;&amp;self,d=p||u||Function(&quot;return this&quot;)(),h=&quot;object&quot;==typeof e&amp;&amp;e&amp;&amp;!e.nodeType&amp;&amp;e,f=h&amp;&amp;&quot;object&quot;==typeof t&amp;&amp;t&amp;&amp;!t.nodeType&amp;&amp;t,v=f&amp;&amp;f.exports===h,_=v&amp;&amp;p.process,m=function(){try{return f&amp;&amp;f.require&amp;&amp;f.require(&quot;util&quot;).types||_&amp;&amp;_.binding&amp;&amp;_.binding(&quot;util&quot;)}catch(e){}}(),g=m&amp;&amp;m.isTypedArray;function y(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var E,b=Array.prototype,S=Function.prototype,w=Object.prototype,T=d[&quot;__core-js_shared__&quot;],x=S.toString,P=w.hasOwnProperty,C=(E=/[^.]+$/.exec(T&amp;&amp;T.keys&amp;&amp;T.keys.IE_PROTO||&quot;&quot;))?&quot;Symbol(src)_1.&quot;+E:&quot;&quot;,A=w.toString,I=x.call(Object),O=RegExp(&quot;^&quot;+x.call(P).replace(/[\\^$.*+?()[\]{}|]/g,&quot;\\$&amp;&quot;).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,&quot;$1.*?&quot;)+&quot;$&quot;),R=v?d.Buffer:void 0,k=d.Symbol,N=d.Uint8Array,D=(R&amp;&amp;R.allocUnsafe,function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object)),M=Object.create,L=w.propertyIsEnumerable,j=b.splice,U=k?k.toStringTag:void 0,F=function(){try{var e=se(Object,&quot;defineProperty&quot;);return e({},&quot;&quot;,{}),e}catch(e){}}(),B=R?R.isBuffer:void 0,H=Math.max,G=Date.now,q=se(d,&quot;Map&quot;),V=se(Object,&quot;create&quot;),$=function(){function e(){}return function(t){if(!ge(t))return{};if(M)return M(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function W(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t&lt;r;){var n=e[t];this.set(n[0],n[1])}}function z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t&lt;r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t&lt;r;){var n=e[t];this.set(n[0],n[1])}}function Y(e){var t=this.__data__=new z(e);this.size=t.size}function X(e,t,r){(void 0!==r&amp;&amp;!ue(e[t],r)||void 0===r&amp;&amp;!(t in e))&amp;&amp;Z(e,t,r)}function Q(e,t,r){var n=e[t];(!P.call(e,t)||!ue(n,r)||void 0===r&amp;&amp;!(t in e))&amp;&amp;Z(e,t,r)}function J(e,t){for(var r=e.length;r--;)if(ue(e[r][0],t))return r;return-1}function Z(e,t,r){&quot;__proto__&quot;==t&amp;&amp;F?F(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}W.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},W.prototype.delete=function(e){var t=this.has(e)&amp;&amp;delete this.__data__[e];return this.size-=t?1:0,t},W.prototype.get=function(e){var t=this.__data__;if(V){var n=t[e];return n===r?void 0:n}return P.call(t,e)?t[e]:void 0},W.prototype.has=function(e){var t=this.__data__;return V?void 0!==t[e]:P.call(t,e)},W.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=V&amp;&amp;void 0===t?r:t,this},z.prototype.clear=function(){this.__data__=[],this.size=0},z.prototype.delete=function(e){var t=this.__data__,r=J(t,e);return!(r&lt;0||(r==t.length-1?t.pop():j.call(t,r,1),--this.size,0))},z.prototype.get=function(e){var t=this.__data__,r=J(t,e);return r&lt;0?void 0:t[r][1]},z.prototype.has=function(e){return J(this.__data__,e)&gt;-1},z.prototype.set=function(e,t){var r=this.__data__,n=J(r,e);return n&lt;0?(++this.size,r.push([e,t])):r[n][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(q||z),string:new W}},K.prototype.delete=function(e){var t=oe(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return oe(this,e).get(e)},K.prototype.has=function(e){return oe(this,e).has(e)},K.prototype.set=function(e,t){var r=oe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Y.prototype.clear=function(){this.__data__=new z,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var r=this.__data__;if(r instanceof z){var n=r.__data__;if(!q||n.length&lt;199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new K(n)}return r.set(e,t),this.size=r.size,this};var ee=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),s=o.length;s--;){var a=o[++n];if(!1===t(i[a],a,i))break}return e};function te(e){return null==e?void 0===e?&quot;[object Undefined]&quot;:&quot;[object Null]&quot;:U&amp;&amp;U in Object(e)?function(e){var t=P.call(e,U),r=e[U];try{e[U]=void 0;var n=!0}catch(e){}var i=A.call(e);return n&amp;&amp;(t?e[U]=r:delete e[U]),i}(e):function(e){return A.call(e)}(e)}function re(e){return ye(e)&amp;&amp;te(e)==i}function ne(e,t,r,n,i){e!==t&amp;&amp;ee(t,(function(o,a){if(i||(i=new Y),ge(o))!function(e,t,r,n,i,o,a){var c=le(e,r),l=le(t,r),p=a.get(l);if(p)X(e,r,p);else{var u=o?o(c,l,r+&quot;&quot;,e,t,a):void 0,d=void 0===u;if(d){var h=he(l),f=!h&amp;&amp;ve(l),v=!h&amp;&amp;!f&amp;&amp;Ee(l);u=l,h||f||v?he(c)?u=c:function(e){return ye(e)&amp;&amp;fe(e)}(c)?u=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r&lt;n;)t[r]=e[r];return t}(c):f?(d=!1,u=function(e,t){return e.slice()}(l)):v?(d=!1,u=function(e,t){var r=function(e){var t=new e.constructor(e.byteLength);return new N(t).set(new N(e)),t}(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}(l)):u=[]:function(e){if(!ye(e)||te(e)!=s)return!1;var t=D(e);if(null===t)return!0;var r=P.call(t,&quot;constructor&quot;)&amp;&amp;t.constructor;return&quot;function&quot;==typeof r&amp;&amp;r instanceof r&amp;&amp;x.call(r)==I}(l)||de(l)?(u=c,de(c)?u=function(e){return function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o&lt;s;){var a=t[o],c=void 0;void 0===c&amp;&amp;(c=e[a]),i?Z(r,a,c):Q(r,a,c)}return r}(e,be(e))}(c):(!ge(c)||_e(c))&amp;&amp;(u=function(e){return&quot;function&quot;!=typeof e.constructor||ce(e)?{}:$(D(e))}(l))):d=!1}d&amp;&amp;(a.set(l,u),i(u,l,n,o,a),a.delete(l)),X(e,r,u)}}(e,t,a,r,ne,n,i);else{var c=n?n(le(e,a),o,a+&quot;&quot;,e,t,i):void 0;void 0===c&amp;&amp;(c=o),X(e,a,c)}}),be)}var ie=F?function(e,t){return F(e,&quot;toString&quot;,{configurable:!0,enumerable:!1,value:we(t),writable:!0})}:Te;function oe(e,t){var r=e.__data__;return function(e){var t=typeof e;return&quot;string&quot;==t||&quot;number&quot;==t||&quot;symbol&quot;==t||&quot;boolean&quot;==t?&quot;__proto__&quot;!==e:null===e}(t)?r[&quot;string&quot;==typeof t?&quot;string&quot;:&quot;hash&quot;]:r.map}function se(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ge(e)||function(e){return!!C&amp;&amp;C in e}(e))&amp;&amp;(_e(e)?O:a).test(function(e){if(null!=e){try{return x.call(e)}catch(e){}try{return e+&quot;&quot;}catch(e){}}return&quot;&quot;}(e))}(r)?r:void 0}function ae(e,t){var r=typeof e;return!!(t=null==t?n:t)&amp;&amp;(&quot;number&quot;==r||&quot;symbol&quot;!=r&amp;&amp;c.test(e))&amp;&amp;e&gt;-1&amp;&amp;e%1==0&amp;&amp;e&lt;t}function ce(e){var t=e&amp;&amp;e.constructor;return e===(&quot;function&quot;==typeof t&amp;&amp;t.prototype||w)}function le(e,t){if((&quot;constructor&quot;!==t||&quot;function&quot;!=typeof e[t])&amp;&amp;&quot;__proto__&quot;!=t)return e[t]}var pe=function(e){var t=0,r=0;return function(){var n=G(),i=16-(n-r);if(r=n,i&gt;0){if(++t&gt;=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ie);function ue(e,t){return e===t||e!=e&amp;&amp;t!=t}var de=re(function(){return arguments}())?re:function(e){return ye(e)&amp;&amp;P.call(e,&quot;callee&quot;)&amp;&amp;!L.call(e,&quot;callee&quot;)},he=Array.isArray;function fe(e){return null!=e&amp;&amp;me(e.length)&amp;&amp;!_e(e)}var ve=B||function(){return!1};function _e(e){if(!ge(e))return!1;var t=te(e);return t==o||&quot;[object GeneratorFunction]&quot;==t||&quot;[object AsyncFunction]&quot;==t||&quot;[object Proxy]&quot;==t}function me(e){return&quot;number&quot;==typeof e&amp;&amp;e&gt;-1&amp;&amp;e%1==0&amp;&amp;e&lt;=n}function ge(e){var t=typeof e;return null!=e&amp;&amp;(&quot;object&quot;==t||&quot;function&quot;==t)}function ye(e){return null!=e&amp;&amp;&quot;object&quot;==typeof e}var Ee=g?function(e){return function(t){return e(t)}}(g):function(e){return ye(e)&amp;&amp;me(e.length)&amp;&amp;!!l[te(e)]};function be(e){return fe(e)?function(e,t){var r=he(e),n=!r&amp;&amp;de(e),i=!r&amp;&amp;!n&amp;&amp;ve(e),o=!r&amp;&amp;!n&amp;&amp;!i&amp;&amp;Ee(e),s=r||n||i||o,a=s?function(e,t){for(var r=-1,n=Array(e);++r&lt;e;)n[r]=t(r);return n}(e.length,String):[],c=a.length;for(var l in e)(t||P.call(e,l))&amp;&amp;(!s||!(&quot;length&quot;==l||i&amp;&amp;(&quot;offset&quot;==l||&quot;parent&quot;==l)||o&amp;&amp;(&quot;buffer&quot;==l||&quot;byteLength&quot;==l||&quot;byteOffset&quot;==l)||ae(l,c)))&amp;&amp;a.push(l);return a}(e,!0):function(e){if(!ge(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ce(e),r=[];for(var n in e)&quot;constructor&quot;==n&amp;&amp;(t||!P.call(e,n))||r.push(n);return r}(e)}var Se=function(e){return function(e,t){return pe(function(e,t,r){return t=H(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=H(n.length-t,0),s=Array(o);++i&lt;o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i&lt;t;)a[i]=n[i];return a[t]=r(s),y(e,this,a)}}(e,t,Te),e+&quot;&quot;)}((function(t,r){var n=-1,i=r.length,o=i&gt;1?r[i-1]:void 0,s=i&gt;2?r[2]:void 0;for(o=e.length&gt;3&amp;&amp;&quot;function&quot;==typeof o?(i--,o):void 0,s&amp;&amp;function(e,t,r){if(!ge(r))return!1;var n=typeof t;return!!(&quot;number&quot;==n?fe(r)&amp;&amp;ae(t,r.length):&quot;string&quot;==n&amp;&amp;t in r)&amp;&amp;ue(r[t],e)}(r[0],r[1],s)&amp;&amp;(o=i&lt;3?void 0:o,i=1),t=Object(t);++n&lt;i;){var a=r[n];a&amp;&amp;e(t,a,n)}return t}))}((function(e,t,r){ne(e,t,r)}));function we(e){return function(){return e}}function Te(e){return e}t.exports=Se})),bt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.BatchSpanProcessorBase=void 0;var t=_e(),r=tt();e.BatchSpanProcessorBase=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let n=r.getEnv();this._maxExportBatchSize=&quot;number&quot;==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=&quot;number&quot;==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=&quot;number&quot;==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=&quot;number&quot;==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(e){}onEnd(e){this._isShutdown||this._addToBuffer(e)}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=&gt;{Promise.resolve().then((()=&gt;this.onShutdown())).then((()=&gt;this._flushAll())).then((()=&gt;this._exporter.shutdown())).then(e).catch((e=&gt;{t(e)}))}))),this._shuttingDownPromise}_addToBuffer(e){this._finishedSpans.length&gt;=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise(((e,t)=&gt;{let r=[];for(let e=0,t=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);e&lt;t;e++)r.push(this._flushOneBatch());Promise.all(r).then((()=&gt;{e()})).catch(t)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((e,n)=&gt;{let i=setTimeout((()=&gt;{n(new Error(&quot;Timeout&quot;))}),this._exportTimeoutMillis);t.context.with(r.suppressTracing(t.context.active()),(()=&gt;{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),(t=&gt;{var o;clearTimeout(i),t.code===r.ExportResultCode.SUCCESS?e():n(null!==(o=t.error)&amp;&amp;void 0!==o?o:new Error(&quot;BatchSpanProcessor: span export failed&quot;))}))}))}))}_maybeStartTimer(){void 0===this._timer&amp;&amp;(this._timer=setTimeout((()=&gt;{this._flushOneBatch().then((()=&gt;{this._finishedSpans.length&gt;0&amp;&amp;(this._clearTimer(),this._maybeStartTimer())})).catch((e=&gt;{r.globalErrorHandler(e)}))}),this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&amp;&amp;(clearTimeout(this._timer),this._timer=void 0)}}})),St=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.BatchSpanProcessor=void 0;var t=bt(),r=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=r})),wt=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(St(),e)})),Tt=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(wt(),e)})),xt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t,r,n=_e(),i=tt(),o=mt(),s=Dt(),a=it(),c=gt(),l=yt(),p=Et(),u=Tt();(r=t=e.ForceFlushState||(e.ForceFlushState={}))[r.resolved=0]=&quot;resolved&quot;,r[r.timeout=1]=&quot;timeout&quot;,r[r.error=2]=&quot;error&quot;,r[r.unresolved=3]=&quot;unresolved&quot;;var d=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let r=p({},a.DEFAULT_CONFIG,e);this.resource=null!==(t=r.resource)&amp;&amp;void 0!==t?t:o.Resource.empty(),this.resource=o.Resource.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});let n=this._buildExporterFromEnv();if(void 0!==n){let e=new u.BatchSpanProcessor(n);this.activeSpanProcessor=e}else this.activeSpanProcessor=new l.NoopSpanProcessor}getTracer(e,t){let r=`${e}@${t||&quot;&quot;}`;return this._tracers.has(r)||this._tracers.set(r,new s.Tracer({name:e,version:t},this._config,this)),this._tracers.get(r)}addSpanProcessor(e){0===this._registeredSpanProcessors.length&amp;&amp;this.activeSpanProcessor.shutdown().catch((e=&gt;n.diag.error(&quot;Error while trying to shutdown current span processor&quot;,e))),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){n.trace.setGlobalTracerProvider(this),void 0===e.propagator&amp;&amp;(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&amp;&amp;n.context.setGlobalContextManager(e.contextManager),e.propagator&amp;&amp;n.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map((r=&gt;new Promise((n=&gt;{let i,o=setTimeout((()=&gt;{n(new Error(`Span processor did not completed within timeout period of ${e} ms`)),i=t.timeout}),e);r.forceFlush().then((()=&gt;{clearTimeout(o),i!==t.timeout&amp;&amp;(i=t.resolved,n(i))})).catch((e=&gt;{clearTimeout(o),i=t.error,n(e)}))}))));return new Promise(((e,n)=&gt;{Promise.all(r).then((r=&gt;{let i=r.filter((e=&gt;e!==t.resolved));i.length&gt;0?n(i):e()})).catch((e=&gt;n([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return null===(t=d._registeredPropagators.get(e))||void 0===t?void 0:t()}_getSpanExporter(e){var t;return null===(t=d._registeredExporters.get(e))||void 0===t?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(i.getEnv().OTEL_PROPAGATORS)),t=e.map((e=&gt;{let t=this._getPropagator(e);return t||n.diag.warn(`Propagator &quot;${e}&quot; requested through environment variable is unavailable.`),t})).reduce(((e,t)=&gt;(t&amp;&amp;e.push(t),e)),[]);if(0!==t.length)return 1===e.length?t[0]:new i.CompositePropagator({propagators:t})}_buildExporterFromEnv(){let e=i.getEnv().OTEL_TRACES_EXPORTER;if(&quot;none&quot;===e)return;let t=this._getSpanExporter(e);return t||n.diag.error(`Exporter &quot;${e}&quot; requested through environment variable is unavailable.`),t}};e.BasicTracerProvider=d,d._registeredPropagators=new Map([[&quot;tracecontext&quot;,()=&gt;new i.HttpTraceContextPropagator],[&quot;baggage&quot;,()=&gt;new i.HttpBaggagePropagator]]),d._registeredExporters=new Map})),Pt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.ConsoleSpanExporter=void 0;var t=tt();e.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:t.hrTimeToMicroseconds(e.startTime),duration:t.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}_sendSpans(e,r){for(let t of e)console.log(this._exportInfo(t));if(r)return r({code:t.ExportResultCode.SUCCESS})}}})),Ct=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.InMemorySpanExporter=void 0;var t=tt();e.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,r){if(this._stopped)return r({code:t.ExportResultCode.FAILED,error:new Error(&quot;Exporter has been stopped&quot;)});this._finishedSpans.push(...e),setTimeout((()=&gt;r({code:t.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}})),At=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),It=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.SimpleSpanProcessor=void 0;var t=_e(),r=tt();e.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(e){}onEnd(e){this._isShutdown||t.context.with(r.suppressTracing(t.context.active()),(()=&gt;{this._exporter.export([e],(e=&gt;{var t;e.code!==r.ExportResultCode.SUCCESS&amp;&amp;r.globalErrorHandler(null!==(t=e.error)&amp;&amp;void 0!==t?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))}))}))}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=&gt;{Promise.resolve().then((()=&gt;this._exporter.shutdown())).then(e).catch((e=&gt;{t(e)}))}))),this._shuttingDownPromise}}})),Ot=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Rt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),kt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Nt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Dt=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(st(),e),r(xt(),e),r(Tt(),e),r(Pt(),e),r(Ct(),e),r(At(),e),r(It(),e),r(Ot(),e),r(yt(),e),r(nt(),e),r(Rt(),e),r(kt(),e),r(Nt(),e)})),Mt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=b();e.AzureMonitorSymbol=&quot;Azure_Monitor_Tracer&quot;;var r=!1;e.azureCoreTracing={versionSpecifier:&quot;&gt;= 1.0.0 &lt; 2.0.0&quot;,patch:function(n){if(r)return n;try{var i=Dt(),o=_e(),s=(new i.BasicTracerProvider).getTracer(&quot;applicationinsights tracer&quot;),a=n.setTracer;n.setTracer=function(r){var n=r.startSpan;r.startSpan=function(e,r,i){var o=n.call(this,e,r,i),s=o.end;return o.end=function(){var e=s.apply(this,arguments);return t.channel.publish(&quot;azure-coretracing&quot;,o),e},o},r[e.AzureMonitorSymbol]=!0,a.call(this,r)},o.trace.getSpan(o.context.active()),n.setTracer(s),r=!0}catch(e){}return n}},e.enable=function(){t.channel.registerMonkeyPatch(&quot;@azure/core-tracing&quot;,e.azureCoreTracing)}})),Lt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.bunyan=void 0;var t=b();e.bunyan={versionSpecifier:&quot;&gt;= 1.0.0 &lt; 2.0.0&quot;,patch:function(e){var r=e.prototype._emit;return e.prototype._emit=function(e,n){var i=r.apply(this,arguments);if(!n){var o=i;o||(o=r.call(this,e,!0)),t.channel.publish(&quot;bunyan&quot;,{level:e.level,result:o})}return i},e}},e.enable=function(){t.channel.registerMonkeyPatch(&quot;bunyan&quot;,e.bunyan)}})),jt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.console=void 0;var t=b(),n=r(2781);e.console={versionSpecifier:&quot;&gt;= 4.0.0&quot;,patch:function(e){var r=new n.Writable,i=new n.Writable;r.write=function(e){if(!e)return!0;var r=e.toString();return t.channel.publish(&quot;console&quot;,{message:r}),!0},i.write=function(e){if(!e)return!0;var r=e.toString();return t.channel.publish(&quot;console&quot;,{message:r,stderr:!0}),!0};for(var o=new e.Console(r,i),s=function(t){var r=e[t];r&amp;&amp;(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch(e){}return r.apply(e,arguments)})},a=0,c=[&quot;log&quot;,&quot;info&quot;,&quot;warn&quot;,&quot;error&quot;,&quot;dir&quot;,&quot;time&quot;,&quot;timeEnd&quot;,&quot;trace&quot;,&quot;assert&quot;];a&lt;c.length;a++)s(c[a]);return e}},e.enable=function(){t.channel.registerMonkeyPatch(&quot;console&quot;,e.console),r(6206)}})),Ut=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.mongoCore=void 0;var t=b();e.mongoCore={versionSpecifier:&quot;&gt;= 2.0.0 &lt; 4.0.0&quot;,patch:function(e){var r=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=r.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e=&quot;function&quot;==typeof arguments[1]?1:2;return&quot;function&quot;==typeof arguments[e]&amp;&amp;(arguments[e]=t.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return&quot;function&quot;==typeof arguments[1]&amp;&amp;(arguments[1]=t.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},e.enable=function(){t.channel.registerMonkeyPatch(&quot;mongodb-core&quot;,e.mongoCore)}})),Ft=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r&lt;n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var r=b();e.mongo2={versionSpecifier:&quot;&gt;= 2.0.0 &lt;= 3.0.5&quot;,patch:function(e){var n=e.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext((function(e){return e()}))}}}),i={};return n.on(&quot;started&quot;,(function(e){i[e.requestId]||(i[e.requestId]=t(t({},e),{time:new Date}))})),n.on(&quot;succeeded&quot;,(function(e){var t=i[e.requestId];t&amp;&amp;delete i[e.requestId],&quot;function&quot;==typeof e.operationId?e.operationId((function(){return r.channel.publish(&quot;mongodb&quot;,{startedData:t,event:e,succeeded:!0})})):r.channel.publish(&quot;mongodb&quot;,{startedData:t,event:e,succeeded:!0})})),n.on(&quot;failed&quot;,(function(e){var t=i[e.requestId];t&amp;&amp;delete i[e.requestId],&quot;function&quot;==typeof e.operationId?e.operationId((function(){return r.channel.publish(&quot;mongodb&quot;,{startedData:t,event:e,succeeded:!1})})):r.channel.publish(&quot;mongodb&quot;,{startedData:t,event:e,succeeded:!1})})),e}},e.mongo3={versionSpecifier:&quot;&gt; 3.0.5 &lt; 3.3.0&quot;,patch:function(e){var n=e.instrument(),i={},o={};return n.on(&quot;started&quot;,(function(e){i[e.requestId]||(o[e.requestId]=r.channel.bindToContext((function(e){return e()})),i[e.requestId]=t(t({},e),{time:new Date}))})),n.on(&quot;succeeded&quot;,(function(e){var t=i[e.requestId];t&amp;&amp;delete i[e.requestId],&quot;object&quot;==typeof e&amp;&amp;&quot;function&quot;==typeof o[e.requestId]&amp;&amp;(o[e.requestId]((function(){return r.channel.publish(&quot;mongodb&quot;,{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),n.on(&quot;failed&quot;,(function(e){var t=i[e.requestId];t&amp;&amp;delete i[e.requestId],&quot;object&quot;==typeof e&amp;&amp;&quot;function&quot;==typeof o[e.requestId]&amp;&amp;(o[e.requestId]((function(){return r.channel.publish(&quot;mongodb&quot;,{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},e.mongo330={versionSpecifier:&quot;&gt;= 3.3.0 &lt; 4.0.0&quot;,patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e=&quot;function&quot;==typeof arguments[1]?1:2;return&quot;function&quot;==typeof arguments[e]&amp;&amp;(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return&quot;function&quot;==typeof arguments[1]&amp;&amp;(arguments[1]=r.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e}}(e);var t=e.instrument(),n={},i={};return t.on(&quot;started&quot;,(function(e){n[e.requestId]||(i[e.requestId]=r.channel.bindToContext((function(e){return e()})),n[e.requestId]=e)})),t.on(&quot;succeeded&quot;,(function(e){var t=n[e.requestId];t&amp;&amp;delete n[e.requestId],&quot;object&quot;==typeof e&amp;&amp;&quot;function&quot;==typeof i[e.requestId]&amp;&amp;(i[e.requestId]((function(){return r.channel.publish(&quot;mongodb&quot;,{startedData:t,event:e,succeeded:!0})})),delete i[e.requestId])})),t.on(&quot;failed&quot;,(function(e){var t=n[e.requestId];t&amp;&amp;delete n[e.requestId],&quot;object&quot;==typeof e&amp;&amp;&quot;function&quot;==typeof i[e.requestId]&amp;&amp;(i[e.requestId]((function(){return r.channel.publish(&quot;mongodb&quot;,{startedData:t,event:e,succeeded:!1})})),delete i[e.requestId])})),e}},e.enable=function(){r.channel.registerMonkeyPatch(&quot;mongodb&quot;,e.mongo2),r.channel.registerMonkeyPatch(&quot;mongodb&quot;,e.mongo3),r.channel.registerMonkeyPatch(&quot;mongodb&quot;,e.mongo330)}})),Bt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.mysql=void 0;var t=b(),n=r(1017);e.mysql={versionSpecifier:&quot;&gt;= 2.0.0 &lt; 3.0.0&quot;,patch:function(e,i){var o=function(e,r){return function(r,n){var i=e[r];i&amp;&amp;(e[r]=function(){for(var e=arguments.length-1,r=arguments.length-1;r&gt;=0;--r){if(&quot;function&quot;==typeof arguments[r]){e=r;break}if(void 0!==arguments[r])break}var o=arguments[e],s={result:null,startTime:null,startDate:null};&quot;function&quot;==typeof o&amp;&amp;(n?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=t.channel.bindToContext(n(s,o))):arguments[e]=t.channel.bindToContext(o));var a=i.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=r(3255)(n.dirname(i)+&quot;/lib/Connection&quot;);[&quot;connect&quot;,&quot;changeUser&quot;,&quot;ping&quot;,&quot;statistics&quot;,&quot;end&quot;].forEach((function(e){return s(a)(e)})),o(a)(&quot;createQuery&quot;,(function(e,r){return function(n){var i=process.hrtime(e.startTime),o=1e3*i[0]+i[1]/1e6|0;t.channel.publish(&quot;mysql&quot;,{query:e.result,callbackArgs:arguments,err:n,duration:o,time:e.startDate}),r.apply(this,arguments)}}));var c=r(9118)(n.dirname(i)+&quot;/lib/Pool&quot;);return[&quot;_enqueueCallback&quot;].forEach((function(e){return s(c)(e)})),e}},e.enable=function(){t.channel.registerMonkeyPatch(&quot;mysql&quot;,e.mysql)}})),Ht=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.postgresPool1=void 0;var t=b();e.postgresPool1={versionSpecifier:&quot;&gt;= 1.0.0 &lt; 3.0.0&quot;,patch:function(e){var r=e.prototype.connect;return e.prototype.connect=function(e){return e&amp;&amp;(arguments[0]=t.channel.bindToContext(e)),r.apply(this,arguments)},e}},e.enable=function(){t.channel.registerMonkeyPatch(&quot;pg-pool&quot;,e.postgresPool1)}})),Gt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=b(),n=r(2361);e.postgres6={versionSpecifier:&quot;6.*&quot;,patch:function(e,r){var i=e.Client.prototype.query,o=&quot;__diagnosticOriginalFunc&quot;;return e.Client.prototype.query=function(e,r,s){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},l=process.hrtime();function p(e){e&amp;&amp;e[o]&amp;&amp;(e=e[o]);var r=t.channel.bindToContext((function(r,i){var o=process.hrtime(l);if(c.result=i&amp;&amp;{rowCount:i.rowCount,command:i.command},c.error=r,c.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish(&quot;postgres&quot;,c),r){if(e)return e.apply(this,arguments);a&amp;&amp;a instanceof n.EventEmitter&amp;&amp;a.emit(&quot;error&quot;,r)}else e&amp;&amp;e.apply(this,arguments)}));try{return Object.defineProperty(r,o,{value:e}),r}catch(t){return e}}try{&quot;string&quot;==typeof e?r instanceof Array?(c.query.preparable={text:e,args:r},s=p(s)):(c.query.text=e,s?s=p(s):r=p(r)):(&quot;string&quot;==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,s?s=p(s):r?r=p(r):e.callback=p(e.callback))}catch(e){return i.apply(this,arguments)}return arguments[0]=e,arguments[1]=r,arguments[2]=s,arguments.length=arguments.length&gt;3?arguments.length:3,a=i.apply(this,arguments)},e}},e.postgres7={versionSpecifier:&quot;&gt;=7.* &lt;=8.*&quot;,patch:function(e,r){var i=e.Client.prototype.query,o=&quot;__diagnosticOriginalFunc&quot;;return e.Client.prototype.query=function(e,r,s){var a,c=this,l=!!s,p={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},u=process.hrtime();function d(e){e&amp;&amp;e[o]&amp;&amp;(e=e[o]);var r=t.channel.bindToContext((function(r,i){var o=process.hrtime(u);if(p.result=i&amp;&amp;{rowCount:i.rowCount,command:i.command},p.error=r,p.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish(&quot;postgres&quot;,p),r){if(e)return e.apply(this,arguments);a&amp;&amp;a instanceof n.EventEmitter&amp;&amp;a.emit(&quot;error&quot;,r)}else e&amp;&amp;e.apply(this,arguments)}));try{return Object.defineProperty(r,o,{value:e}),r}catch(t){return e}}try{&quot;string&quot;==typeof e?r instanceof Array?(p.query.preparable={text:e,args:r},s=(l=&quot;function&quot;==typeof s)?d(s):s):(p.query.text=e,s?s=(l=&quot;function&quot;==typeof s)?d(s):s:r=(l=&quot;function&quot;==typeof r)?d(r):r):(&quot;string&quot;==typeof e.name?p.query.plan=e.name:e.values instanceof Array?p.query.preparable={text:e.text,args:e.values}:p.query.text=e.text,s?(l=&quot;function&quot;==typeof s,s=d(s)):r?r=(l=&quot;function&quot;==typeof r)?d(r):r:(l=&quot;function&quot;==typeof e.callback,e.callback=l?d(e.callback):e.callback))}catch(e){return i.apply(this,arguments)}return arguments[0]=e,arguments[1]=r,arguments[2]=s,arguments.length=arguments.length&gt;3?arguments.length:3,a=i.apply(this,arguments),l?a:a.then((function(e){return d()(void 0,e),new c._Promise((function(t,r){t(e)}))})).catch((function(e){return d()(e,void 0),new c._Promise((function(t,r){r(e)}))}))},e}},e.enable=function(){t.channel.registerMonkeyPatch(&quot;pg&quot;,e.postgres6),t.channel.registerMonkeyPatch(&quot;pg&quot;,e.postgres7)}})),qt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.redis=void 0;var t=b();e.redis={versionSpecifier:&quot;&gt;= 2.0.0 &lt; 4.0.0&quot;,patch:function(e){var r=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;e.callback=t.channel.bindToContext((function(r,a){var c=process.hrtime(o),l=1e3*c[0]+c[1]/1e6|0;t.channel.publish(&quot;redis&quot;,{duration:l,address:i,commandObj:e,err:r,result:a,time:s}),&quot;function&quot;==typeof n&amp;&amp;n.apply(this,arguments)})),e.callback.pubsubBound=!0}}return r.call(this,e)},e}},e.enable=function(){t.channel.registerMonkeyPatch(&quot;redis&quot;,e.redis)}})),Vt=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r&lt;n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.tedious=void 0;var r=b();e.tedious={versionSpecifier:&quot;&gt;= 6.0.0 &lt; 9.0.0&quot;,patch:function(e){var n=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var n=process.hrtime(),i={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext((function(o,s,a){var c=process.hrtime(n);i=t(t({},i),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!o&amp;&amp;{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:o,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),r.channel.publish(&quot;tedious&quot;,i),e.call(this,o,s,a)}))}var i=arguments[0];arguments[0].callback=e(i.callback),n.apply(this,arguments)},e}},e.enable=function(){r.channel.registerMonkeyPatch(&quot;tedious&quot;,e.tedious)}})),$t=f((e=&gt;{&quot;use strict&quot;;var t,r=e&amp;&amp;e.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,r)},function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),n=e&amp;&amp;e.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&amp;&amp;t.indexOf(n)&lt;0&amp;&amp;(r[n]=e[n]);if(null!=e&amp;&amp;&quot;function&quot;==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i&lt;n.length;i++)t.indexOf(n[i])&lt;0&amp;&amp;Object.prototype.propertyIsEnumerable.call(e,n[i])&amp;&amp;(r[n[i]]=e[n[i]])}return r};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.winston2=e.winston3=void 0;var i=b();e.winston3={versionSpecifier:&quot;3.x&quot;,patch:function(e){var t=function(e){function t(t,r){var n=e.call(this,r)||this;return n.winston=t,n}return r(t,e),t.prototype.log=function(e,t){var r=e.message,o=e.level,s=e.meta,a=n(e,[&quot;message&quot;,&quot;level&quot;,&quot;meta&quot;]);o=&quot;function&quot;==typeof Symbol.for?e[Symbol.for(&quot;level&quot;)]:o,r=e instanceof Error?e:r;var c=function(e,t){return null!=e.config.npm.levels[t]?&quot;npm&quot;:null!=e.config.syslog.levels[t]?&quot;syslog&quot;:&quot;unknown&quot;}(this.winston,o);for(var l in s=s||{},a)a.hasOwnProperty(l)&amp;&amp;(s[l]=a[l]);i.channel.publish(&quot;winston&quot;,{message:r,level:o,levelKind:c,meta:s}),t()},t}(e.Transport);function o(){var r,n=arguments[0].levels||e.config.npm.levels;for(var i in n)n.hasOwnProperty(i)&amp;&amp;(r=void 0===r||n[i]&gt;n[r]?i:r);this.add(new t(e,{level:r}))}var s=e.createLogger;e.createLogger=function(){var r,n=arguments[0].levels||e.config.npm.levels;for(var i in n)n.hasOwnProperty(i)&amp;&amp;(r=void 0===r||n[i]&gt;n[r]?i:r);var a=s.apply(this,arguments);a.add(new t(e,{level:r}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),o.apply(this,arguments)},a};var a=e.configure;return e.configure=function(){a.apply(this,arguments),o.apply(this,arguments)},e.add(new t(e)),e}},e.winston2={versionSpecifier:&quot;2.x&quot;,patch:function(e){var t,r=e.Logger.prototype.log,n=function(r,n,o){var s;return s=t===e.config.npm.levels?&quot;npm&quot;:t===e.config.syslog.levels?&quot;syslog&quot;:&quot;unknown&quot;,i.channel.publish(&quot;winston&quot;,{level:r,message:n,meta:o,levelKind:s}),n};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&amp;&amp;0!==this.filters.length?this.filters[this.filters.length-1]!==n&amp;&amp;(this.filters=this.filters.filter((function(e){return e!==n})),this.filters.push(n)):this.filters=[n],r.apply(this,arguments)},e}},e.enable=function(){i.channel.registerMonkeyPatch(&quot;winston&quot;,e.winston2),i.channel.registerMonkeyPatch(&quot;winston&quot;,e.winston3)}})),Wt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=Mt();e.azuresdk=t;var r=Lt();e.bunyan=r;var n=jt();e.console=n;var i=Ut();e.mongodbCore=i;var o=Ft();e.mongodb=o;var s=Bt();e.mysql=s;var a=Ht();e.pgPool=a;var c=Gt();e.pg=c;var l=qt();e.redis=l;var p=Vt();e.tedious=p;var u=$t();e.winston=u,e.enable=function(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),l.enable(),u.enable(),t.enable(),p.enable()}})),zt=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=m(),r=_();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n,i,o,s,a=&quot;DiagnosticChannel&quot;;if(e.IsInitialized){for(s in n=Wt(),i=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||&quot;&quot;).split(&quot;,&quot;),o={bunyan:n.bunyan,console:n.console,mongodb:n.mongodb,mongodbCore:n.mongodbCore,mysql:n.mysql,redis:n.redis,pg:n.pg,pgPool:n.pgPool,winston:n.winston,azuresdk:n.azuresdk})-1===i.indexOf(s)&amp;&amp;(o[s].enable(),r.info(a,&quot;Subscribed to &quot;+s+&quot; events&quot;));i.length&gt;0&amp;&amp;r.info(a,&quot;Some modules will not be patched&quot;,i)}else r.info(a,&quot;Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set&quot;);e.registerContextPreservation=function(r){if(e.IsInitialized){var n=b();n.channel.addContextPreservation(r),n.channel.spanContextPropagator=t.AsyncScopeManager}}})),Kt=f(((e,t)=&gt;{&quot;use strict&quot;;t.exports={requestContextHeader:&quot;request-context&quot;,requestContextSourceKey:&quot;appId&quot;,requestContextTargetKey:&quot;appId&quot;,requestIdHeader:&quot;request-id&quot;,parentIdHeader:&quot;x-ms-request-id&quot;,rootIdHeader:&quot;x-ms-request-root-id&quot;,correlationContextHeader:&quot;correlation-context&quot;,traceparentHeader:&quot;traceparent&quot;,traceStateHeader:&quot;tracestate&quot;}})),Yt=f(((e,t)=&gt;{&quot;use strict&quot;;var n=e&amp;&amp;e.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r&lt;n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e},n.apply(this,arguments)},i=r(3685),o=r(5687),s=r(7310),a=r(2057),c=_(),l=Kt(),p=function(){function e(){}return e.getCookie=function(t,r){var n=&quot;&quot;;if(t&amp;&amp;t.length&amp;&amp;&quot;string&quot;==typeof r)for(var i=t+&quot;=&quot;,o=r.split(&quot;;&quot;),s=0;s&lt;o.length;s++)if(r=o[s],(r=e.trim(r))&amp;&amp;0===r.indexOf(i)){n=r.substring(i.length,o[s].length);break}return n},e.trim=function(e){return&quot;string&quot;==typeof e?e.replace(/^\s+|\s+$/g,&quot;&quot;):&quot;&quot;},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e&gt;&gt;t&amp;255)},r=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(&quot;&quot;),n=(Buffer.from?Buffer.from(r,&quot;binary&quot;):new Buffer(r,&quot;binary&quot;)).toString(&quot;base64&quot;);return n.substr(0,n.indexOf(&quot;=&quot;))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,r=[&quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;],n=&quot;&quot;,i=0;i&lt;4;i++)n+=r[15&amp;(t=e.random32())]+r[t&gt;&gt;4&amp;15]+r[t&gt;&gt;8&amp;15]+r[t&gt;&gt;12&amp;15]+r[t&gt;&gt;16&amp;15]+r[t&gt;&gt;20&amp;15]+r[t&gt;&gt;24&amp;15]+r[t&gt;&gt;28&amp;15];var o=r[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+&quot;4&quot;+n.substr(13,3)+o+n.substr(16,3)+n.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(e){return 32===e.length&amp;&amp;&quot;00000000000000000000000000000000&quot;!==e},e.isArray=function(e){return&quot;[object Array]&quot;===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return&quot;string&quot;===t||&quot;number&quot;===t||&quot;boolean&quot;===t},e.isDate=function(e){return&quot;[object Date]&quot;===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e&lt;0)&amp;&amp;(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,&quot;&quot;),r=&quot;&quot;+Math.floor(e/6e4)%60,n=&quot;&quot;+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(&quot;.&quot;)&lt;2?&quot;0&quot;+t:t,r=r.length&lt;2?&quot;0&quot;+r:r,(i&gt;0?i+&quot;.&quot;:&quot;&quot;)+(n=n.length&lt;2?&quot;0&quot;+n:n)+&quot;:&quot;+r+&quot;:&quot;+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||&quot;&quot;}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):&quot;function&quot;==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if(&quot;object&quot;==typeof t){var r={};for(var n in t){var i=&quot;&quot;,o=t[n],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(null===o||&quot;undefined&quot;===s)i=&quot;&quot;;else{if(&quot;function&quot;===s){c.info(&quot;key: &quot;+n+&quot; was function; will not serialize&quot;);continue}var a=e.isArray(o)?o:e.extractObject(o);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=o.constructor.name.toString()+&quot; (Error: &quot;+e.message+&quot;)&quot;,c.info(&quot;key: &quot;+n+&quot;, could not be serialized&quot;)}}r[n]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return r}c.info(&quot;Invalid properties dropped from payload&quot;)},e.canIncludeCorrelationHeader=function(e,t){var r=e&amp;&amp;e.config&amp;&amp;e.config.correlationHeaderExcludedDomains;if(!r||0==r.length||!t)return!0;for(var n=0;n&lt;r.length;n++)if(new RegExp(r[n].replace(/\./g,&quot;.&quot;).replace(/\*/g,&quot;.*&quot;)).test(s.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var r=e.headers&amp;&amp;e.headers[l.requestContextHeader];if(r)for(var n=r.split(&quot;,&quot;),i=0;i&lt;n.length;++i){var o=n[i].split(&quot;=&quot;);if(2==o.length&amp;&amp;o[0]==t)return o[1]}},e.makeRequest=function(t,r,a,l){r&amp;&amp;0===r.indexOf(&quot;//&quot;)&amp;&amp;(r=&quot;https:&quot;+r);var p=s.parse(r),u=n(n({},a),{host:p.hostname,port:p.port,path:p.pathname}),d=void 0;if(&quot;https:&quot;===p.protocol&amp;&amp;(d=t.proxyHttpsUrl||void 0),&quot;http:&quot;===p.protocol&amp;&amp;(d=t.proxyHttpUrl||void 0),d){0===d.indexOf(&quot;//&quot;)&amp;&amp;(d=&quot;http:&quot;+d);var h=s.parse(d);&quot;https:&quot;===h.protocol?(c.info(&quot;Proxies that use HTTPS are not supported&quot;),d=void 0):u=n(n({},u),{host:h.hostname,port:h.port||&quot;80&quot;,path:r,headers:n(n({},u.headers),{Host:p.hostname})})}var f=&quot;https:&quot;===p.protocol&amp;&amp;!d;return f&amp;&amp;void 0!==t.httpsAgent?u.agent=t.httpsAgent:f||void 0===t.httpAgent?f&amp;&amp;(u.agent=e.tlsRestrictedAgent):u.agent=t.httpAgent,f?o.request(u,l):i.request(u,l)},e.safeIncludeCorrelationHeader=function(t,r,n){var i;if(&quot;string&quot;==typeof n)i=n;else if(n instanceof Array)i=n.join(&quot;,&quot;);else if(n&amp;&amp;&quot;function&quot;==typeof n.toString)try{i=n.toString()}catch(e){c.warn(&quot;Outgoing request-context header could not be read. Correlation of requests may be lost.&quot;,e,n)}i?e.addCorrelationIdHeaderFromString(t,r,i):r.setHeader(l.requestContextHeader,l.requestContextSourceKey+&quot;=&quot;+t.config.correlationId)},e.dumpObj=function(e){var t=Object.prototype.toString.call(e);return t+(&quot;[object Error]&quot;===t?&quot;{ stack: '&quot;+e.stack+&quot;', message: '&quot;+e.message+&quot;', name: '&quot;+e.name+&quot;'&quot;:JSON.stringify(e))},e.addCorrelationIdHeaderFromString=function(e,t,r){var n=r.split(&quot;,&quot;),i=l.requestContextSourceKey+&quot;=&quot;;n.some((function(e){return e.substring(0,i.length)===i}))||t.setHeader(l.requestContextHeader,r+&quot;,&quot;+l.requestContextSourceKey+&quot;=&quot;+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new o.Agent({keepAlive:!0,maxSockets:25,secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();t.exports=p})),Xt=f(((e,t)=&gt;{&quot;use strict&quot;;var r=Yt(),n=_(),i=function(){function e(){}return e.queryCorrelationId=function(t,i){var o=t.profileQueryEndpoint+&quot;/api/profiles/&quot;+t.instrumentationKey+&quot;/appId&quot;;if(e.completedLookups.hasOwnProperty(o))i(e.completedLookups[o]);else if(e.pendingLookups[o])e.pendingLookups[o].push(i);else{e.pendingLookups[o]=[i];var s=function(){if(e.pendingLookups[o]){var i={method:&quot;GET&quot;,disableAppInsightsAutoCollection:!0};n.info(e.TAG,i);var a=r.makeRequest(t,o,i,(function(r){if(200===r.statusCode){var i=&quot;&quot;;r.setEncoding(&quot;utf-8&quot;),r.on(&quot;data&quot;,(function(e){i+=e})),r.on(&quot;end&quot;,(function(){n.info(e.TAG,i);var t=e.correlationIdPrefix+i;e.completedLookups[o]=t,e.pendingLookups[o]&amp;&amp;e.pendingLookups[o].forEach((function(e){return e(t)})),delete e.pendingLookups[o]}))}else r.statusCode&gt;=400&amp;&amp;r.statusCode&lt;500?(e.completedLookups[o]=void 0,delete e.pendingLookups[o]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&amp;&amp;(a.on(&quot;error&quot;,(function(t){n.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,r){var n=t.profileQueryEndpoint+&quot;/api/profiles/&quot;+t.instrumentationKey+&quot;/appId&quot;,i=e.pendingLookups[n];i&amp;&amp;(e.pendingLookups[n]=i.filter((function(e){return e!=r})),0==e.pendingLookups[n].length&amp;&amp;delete e.pendingLookups[n])},e.generateRequestId=function(t){if(t){&quot;.&quot;!==(t=&quot;|&quot;==t[0]?t:&quot;|&quot;+t)[t.length-1]&amp;&amp;(t+=&quot;.&quot;);var r=(e.currentRootId++).toString(16);return e.appendSuffix(t,r,&quot;_&quot;)}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(&quot;.&quot;);t&lt;0&amp;&amp;(t=e.length);var r=&quot;|&quot;===e[0]?1:0;return e.substring(r,t)},e.generateRootId=function(){return&quot;|&quot;+r.w3cTraceId()+&quot;.&quot;},e.appendSuffix=function(t,n,i){if(t.length+n.length&lt;e.requestIdMaxLength)return t+n+i;var o=e.requestIdMaxLength-9;if(t.length&gt;o)for(;o&gt;1;--o){var s=t[o-1];if(&quot;.&quot;===s||&quot;_&quot;===s)break}if(o&lt;=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length&lt;8;)n=&quot;0&quot;+n;return t.substring(0,o)+n+&quot;#&quot;},e.TAG=&quot;CorrelationIdManager&quot;,e.correlationIdPrefix=&quot;cid-v1:&quot;,e.w3cEnabled=!0,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();t.exports=i})),Qt=f(((e,t)=&gt;{&quot;use strict&quot;;var r=Yt(),n=Xt(),i=function(){function e(t,i){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&amp;&amp;&quot;string&quot;==typeof t)if(t.split(&quot;,&quot;).length&gt;1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var o=t.trim().split(&quot;-&quot;),s=o.length;s&gt;=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),&quot;00&quot;===this.version&amp;&amp;4!==s&amp;&amp;(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),&quot;ff&quot;===this.version&amp;&amp;(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(i){this.parentId=i.slice();var a=n.getRootId(i);e.isValidTraceId(a)||(this.legacyRootId=a,a=r.w3cTraceId()),-1!==i.indexOf(&quot;|&quot;)&amp;&amp;(i=i.substring(1+i.substring(0,i.length-1).lastIndexOf(&quot;.&quot;),i.length-1)),this.traceId=a,this.spanId=i}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&amp;&amp;&quot;00000000000000000000000000000000&quot;!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&amp;&amp;&quot;0000000000000000&quot;!==e},e.formatOpenTelemetryTraceFlags=function(e){var t=&quot;0&quot;+e.toString(16);return t.substring(t.length-2)},e.prototype.getBackCompatRequestId=function(){return&quot;|&quot;+this.traceId+&quot;.&quot;+this.spanId+&quot;.&quot;},e.prototype.toString=function(){return this.version+&quot;-&quot;+this.traceId+&quot;-&quot;+this.spanId+&quot;-&quot;+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG=&quot;01&quot;,e.DEFAULT_VERSION=&quot;00&quot;,e}();t.exports=i})),Jt=f(((e,t)=&gt;{&quot;use strict&quot;;var r=function(){function e(e){this.fieldmap=[],e&amp;&amp;(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&amp;&amp;0!=e.length?e.join(&quot;, &quot;):null},e.validateKeyChars=function(e){var t=e.split(&quot;@&quot;);if(2==t.length){var r=t[0].trim(),n=t[1].trim(),i=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return i&amp;&amp;o}return 1==t.length&amp;&amp;Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var r=[],n={},i=t.split(&quot;,&quot;);if(i.length&gt;32)return null;for(var o=0,s=i;o&lt;s.length;o++){var a=s[o].trim();if(0!==a.length){var c=a.split(&quot;=&quot;);if(2!==c.length||!e.validateKeyChars(c[0])||n[c[0]])return null;n[c[0]]=!0,r.push(a)}}return r},e.strict=!0,e}();t.exports=r})),Zt=f(((e,t)=&gt;{&quot;use strict&quot;;t.exports=function(){}})),er=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),tr=f(((e,t)=&gt;{&quot;use strict&quot;;t.exports=function(){}})),rr=f(((e,t)=&gt;{&quot;use strict&quot;;t.exports=function(){this.applicationVersion=&quot;ai.application.ver&quot;,this.deviceId=&quot;ai.device.id&quot;,this.deviceLocale=&quot;ai.device.locale&quot;,this.deviceModel=&quot;ai.device.model&quot;,this.deviceOEMName=&quot;ai.device.oemName&quot;,this.deviceOSVersion=&quot;ai.device.osVersion&quot;,this.deviceType=&quot;ai.device.type&quot;,this.locationIp=&quot;ai.location.ip&quot;,this.operationId=&quot;ai.operation.id&quot;,this.operationName=&quot;ai.operation.name&quot;,this.operationParentId=&quot;ai.operation.parentId&quot;,this.operationSyntheticSource=&quot;ai.operation.syntheticSource&quot;,this.operationCorrelationVector=&quot;ai.operation.correlationVector&quot;,this.sessionId=&quot;ai.session.id&quot;,this.sessionIsFirst=&quot;ai.session.isFirst&quot;,this.userAccountId=&quot;ai.user.accountId&quot;,this.userId=&quot;ai.user.id&quot;,this.userAuthUserId=&quot;ai.user.authUserId&quot;,this.cloudRole=&quot;ai.cloud.role&quot;,this.cloudRoleInstance=&quot;ai.cloud.roleInstance&quot;,this.internalSdkVersion=&quot;ai.internal.sdkVersion&quot;,this.internalAgentVersion=&quot;ai.internal.agentVersion&quot;,this.internalNodeName=&quot;ai.internal.nodeName&quot;}})),nr=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){return e.call(this)||this}return n(t,e),t}(tr());t.exports=i})),ir=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n;(n=r||(r={}))[n.Measurement=0]=&quot;Measurement&quot;,n[n.Aggregation=1]=&quot;Aggregation&quot;,t.exports=r})),or=f(((e,t)=&gt;{&quot;use strict&quot;;var r=ir();t.exports=function(){this.kind=r.Measurement}})),sr=f(((e,t)=&gt;{&quot;use strict&quot;;t.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),ar=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),cr=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),lr=f(((e,t)=&gt;{&quot;use strict&quot;;t.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}})),pr=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return n(t,e),t}(Zt());t.exports=i})),ur=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return n(t,e),t}(Zt());t.exports=i})),dr=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(ar());t.exports=i})),hr=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),fr=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),vr=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n;(n=r||(r={}))[n.Verbose=0]=&quot;Verbose&quot;,n[n.Information=1]=&quot;Information&quot;,n[n.Warning=2]=&quot;Warning&quot;,n[n.Error=3]=&quot;Error&quot;,n[n.Critical=4]=&quot;Critical&quot;,t.exports=r})),_r=f(((e,t)=&gt;{&quot;use strict&quot;;t.exports=function(){}})),mr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.AvailabilityData=er(),e.Base=tr(),e.ContextTagKeys=rr(),e.Data=nr(),e.DataPoint=or(),e.DataPointType=ir(),e.Domain=Zt(),e.Envelope=sr(),e.EventData=ar(),e.ExceptionData=cr(),e.ExceptionDetails=lr(),e.MessageData=pr(),e.MetricData=ur(),e.PageViewData=dr(),e.RemoteDependencyData=hr(),e.RequestData=fr(),e.SeverityLevel=vr(),e.StackFrame=_r()})),gr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=mr(),r=function(){function e(){}return e.TYPE_HTTP=&quot;Http&quot;,e.TYPE_AI=&quot;Http (tracked component)&quot;,e}();e.RemoteDependencyDataConstants=r,e.domainSupportsProperties=function(e){return&quot;properties&quot;in e||e instanceof t.EventData||e instanceof t.ExceptionData||e instanceof t.MessageData||e instanceof t.MetricData||e instanceof t.PageViewData||e instanceof t.RemoteDependencyData||e instanceof t.RequestData}})),yr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Er=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),br=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Sr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),wr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Tr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),xr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Pr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Cr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Ar=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Ir=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Or=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Rr=f((e=&gt;{&quot;use strict&quot;;var t,r;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0,e.telemetryTypeToBaseType=function(e){switch(e){case t.Event:return&quot;EventData&quot;;case t.Exception:return&quot;ExceptionData&quot;;case t.Trace:return&quot;MessageData&quot;;case t.Metric:return&quot;MetricData&quot;;case t.Request:return&quot;RequestData&quot;;case t.Dependency:return&quot;RemoteDependencyData&quot;;case t.Availability:return&quot;AvailabilityData&quot;;case t.PageView:return&quot;PageViewData&quot;}},e.baseTypeToTelemetryType=function(e){switch(e){case&quot;EventData&quot;:return t.Event;case&quot;ExceptionData&quot;:return t.Exception;case&quot;MessageData&quot;:return t.Trace;case&quot;MetricData&quot;:return t.Metric;case&quot;RequestData&quot;:return t.Request;case&quot;RemoteDependencyData&quot;:return t.Dependency;case&quot;AvailabilityData&quot;:return t.Availability;case&quot;PageViewData&quot;:return t.PageView}},e.TelemetryTypeString={Event:&quot;EventData&quot;,Exception:&quot;ExceptionData&quot;,Trace:&quot;MessageData&quot;,Metric:&quot;MetricData&quot;,Request:&quot;RequestData&quot;,Dependency:&quot;RemoteDependencyData&quot;,Availability:&quot;AvailabilityData&quot;,PageView:&quot;PageViewData&quot;},(r=t=e.TelemetryType||(e.TelemetryType={}))[r.Event=0]=&quot;Event&quot;,r[r.Exception=1]=&quot;Exception&quot;,r[r.Trace=2]=&quot;Trace&quot;,r[r.Metric=3]=&quot;Metric&quot;,r[r.Request=4]=&quot;Request&quot;,r[r.Dependency=5]=&quot;Dependency&quot;,r[r.Availability=6]=&quot;Availability&quot;,r[r.PageView=7]=&quot;PageView&quot;})),kr=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(yr(),e),r(Er(),e),r(br(),e),r(Sr(),e),r(wr(),e),r(Tr(),e),r(xr(),e),r(Pr(),e),r(Cr(),e),r(Ar(),e),r(Ir(),e),r(Or(),e),r(Rr(),e)})),Nr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Dr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Mr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Lr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),jr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Ur=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Fr=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Br=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Hr=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(Nr(),e),r(Dr(),e),r(Mr(),e),r(Lr(),e),r(jr(),e),r(Ur(),e),r(Fr(),e),r(Br(),e)})),Gr=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(gr(),e),r(mr(),e),r(kr(),e),r(Hr(),e)})),qr=f(((e,t)=&gt;{&quot;use strict&quot;;var r=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var r=+new Date;this.duration=r-this.startTime,this.statusCode=e;var n=this.properties||{};if(t)if(&quot;string&quot;==typeof t)n.error=t;else if(t instanceof Error)n.error=t.message;else if(&quot;object&quot;==typeof t)for(var i in t)n[i]=t[i]&amp;&amp;t[i].toString&amp;&amp;t[i].toString();this.properties=n},e.prototype._isSuccess=function(){return 0&lt;this.statusCode&amp;&amp;this.statusCode&lt;400},e}();t.exports=r})),Vr=f(((e,t)=&gt;{&quot;use strict&quot;;var n,i=e&amp;&amp;e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r(7310),s=Gr(),a=Yt(),c=Kt(),l=qr(),p=Xt(),u=Jt(),d=Qt(),h=function(e){function t(t,r){var n=e.call(this)||this;return t&amp;&amp;(n.method=t.method,n.url=n._getAbsoluteUrl(t),n.startTime=+new Date,n.socketRemoteAddress=t.socket&amp;&amp;t.socket.remoteAddress,n.parseHeaders(t,r),t.connection&amp;&amp;(n.connectionRemoteAddress=t.connection.remoteAddress,n.legacySocketRemoteAddress=t.connection.socket&amp;&amp;t.connection.socket.remoteAddress)),n}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&amp;&amp;(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&amp;&amp;(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+&quot; &quot;+o.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e&amp;&amp;e.time?t.time=e.time:this.startTime&amp;&amp;(t.time=new Date(this.startTime)),e){for(var r in e)t[r]||(t[r]=e[r]);if(e.properties)for(var r in e.properties)t.properties[r]=e.properties[r]}return t},t.prototype.getRequestTags=function(e){var r={};for(var n in e)r[n]=e[n];return r[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=e[t.keys.sessionId]||this._getId(&quot;ai_session&quot;),r[t.keys.userId]=e[t.keys.userId]||this._getId(&quot;ai_user&quot;),r[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId(&quot;ai_authUser&quot;),r[t.keys.operationName]=this.getOperationName(e),r[t.keys.operationParentId]=this.getOperationParentId(e),r[t.keys.operationId]=this.getOperationId(e),r},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+&quot; &quot;+o.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,r=o.parse(e.url),n=r.pathname,i=r.search,s=t||&quot;https&quot;==e.headers[&quot;x-forwarded-proto&quot;]?&quot;https&quot;:&quot;http&quot;;return o.format({protocol:s,host:e.headers.host,pathname:n,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var r=e.exec(t);if(r)return r[0]},r=t(this.rawHeaders[&quot;x-forwarded-for&quot;])||t(this.rawHeaders[&quot;x-client-ip&quot;])||t(this.rawHeaders[&quot;x-real-ip&quot;])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!r&amp;&amp;this.connectionRemoteAddress&amp;&amp;this.connectionRemoteAddress.substr&amp;&amp;&quot;::&quot;===this.connectionRemoteAddress.substr(0,2)&amp;&amp;(r=&quot;127.0.0.1&quot;),r},t.prototype._getId=function(e){var r=this.rawHeaders&amp;&amp;this.rawHeaders.cookie&amp;&amp;&quot;string&quot;==typeof this.rawHeaders.cookie&amp;&amp;this.rawHeaders.cookie||&quot;&quot;;return t.parseId(a.getCookie(e,r))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&amp;&amp;(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&amp;&amp;e.headers[&quot;user-agent&quot;],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var r=e.headers[c.traceStateHeader]?e.headers[c.traceStateHeader].toString():null,n=e.headers[c.traceparentHeader]?e.headers[c.traceparentHeader].toString():null,i=e.headers[c.requestIdHeader]?e.headers[c.requestIdHeader].toString():null,o=e.headers[c.parentIdHeader]?e.headers[c.parentIdHeader].toString():null,s=e.headers[c.rootIdHeader]?e.headers[c.rootIdHeader].toString():null;this.correlationContextHeader=e.headers[c.correlationContextHeader]?e.headers[c.correlationContextHeader].toString():null,p.w3cEnabled&amp;&amp;(n||r)?(this.traceparent=new d(n?n.toString():null),this.tracestate=n&amp;&amp;r&amp;&amp;new u(r?r.toString():null),this.setBackCompatFromThisTraceContext()):i?p.w3cEnabled?(this.traceparent=new d(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=p.generateRequestId(this.parentId),this.operationId=p.getRootId(this.requestId)):p.w3cEnabled?(this.traceparent=new d,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=p.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=p.getRootId(this.requestId)),t&amp;&amp;(this.requestId=t,this.operationId=p.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split(&quot;|&quot;);return t.length&gt;0?t[0]:&quot;&quot;},t.keys=new s.ContextTagKeys,t}(l);t.exports=h})),$r=f(((e,t)=&gt;{var r;e=t.exports=W,r=&quot;object&quot;==typeof process&amp;&amp;process.env&amp;&amp;process.env.NODE_DEBUG&amp;&amp;/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(&quot;SEMVER&quot;),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION=&quot;2.0.0&quot;;var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]=&quot;0|[1-9]\\d*&quot;;var c=s++;o[c]=&quot;[0-9]+&quot;;var l=s++;o[l]=&quot;\\d*[a-zA-Z-][a-zA-Z0-9-]*&quot;;var p=s++;o[p]=&quot;(&quot;+o[a]+&quot;)\\.(&quot;+o[a]+&quot;)\\.(&quot;+o[a]+&quot;)&quot;;var u=s++;o[u]=&quot;(&quot;+o[c]+&quot;)\\.(&quot;+o[c]+&quot;)\\.(&quot;+o[c]+&quot;)&quot;;var d=s++;o[d]=&quot;(?:&quot;+o[a]+&quot;|&quot;+o[l]+&quot;)&quot;;var h=s++;o[h]=&quot;(?:&quot;+o[c]+&quot;|&quot;+o[l]+&quot;)&quot;;var f=s++;o[f]=&quot;(?:-(&quot;+o[d]+&quot;(?:\\.&quot;+o[d]+&quot;)*))&quot;;var v=s++;o[v]=&quot;(?:-?(&quot;+o[h]+&quot;(?:\\.&quot;+o[h]+&quot;)*))&quot;;var _=s++;o[_]=&quot;[0-9A-Za-z-]+&quot;;var m=s++;o[m]=&quot;(?:\\+(&quot;+o[_]+&quot;(?:\\.&quot;+o[_]+&quot;)*))&quot;;var g=s++,y=&quot;v?&quot;+o[p]+o[f]+&quot;?&quot;+o[m]+&quot;?&quot;;o[g]=&quot;^&quot;+y+&quot;$&quot;;var E=&quot;[v=\\s]*&quot;+o[u]+o[v]+&quot;?&quot;+o[m]+&quot;?&quot;,b=s++;o[b]=&quot;^&quot;+E+&quot;$&quot;;var S=s++;o[S]=&quot;((?:&lt;|&gt;)?=?)&quot;;var w=s++;o[w]=o[c]+&quot;|x|X|\\*&quot;;var T=s++;o[T]=o[a]+&quot;|x|X|\\*&quot;;var x=s++;o[x]=&quot;[v=\\s]*(&quot;+o[T]+&quot;)(?:\\.(&quot;+o[T]+&quot;)(?:\\.(&quot;+o[T]+&quot;)(?:&quot;+o[f]+&quot;)?&quot;+o[m]+&quot;?)?)?&quot;;var P=s++;o[P]=&quot;[v=\\s]*(&quot;+o[w]+&quot;)(?:\\.(&quot;+o[w]+&quot;)(?:\\.(&quot;+o[w]+&quot;)(?:&quot;+o[v]+&quot;)?&quot;+o[m]+&quot;?)?)?&quot;;var C=s++;o[C]=&quot;^&quot;+o[S]+&quot;\\s*&quot;+o[x]+&quot;$&quot;;var A=s++;o[A]=&quot;^&quot;+o[S]+&quot;\\s*&quot;+o[P]+&quot;$&quot;;var I=s++;o[I]=&quot;(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])&quot;;var O=s++;o[O]=&quot;(?:~&gt;?)&quot;;var R=s++;o[R]=&quot;(\\s*)&quot;+o[O]+&quot;\\s+&quot;,i[R]=new RegExp(o[R],&quot;g&quot;);var k=s++;o[k]=&quot;^&quot;+o[O]+o[x]+&quot;$&quot;;var N=s++;o[N]=&quot;^&quot;+o[O]+o[P]+&quot;$&quot;;var D=s++;o[D]=&quot;(?:\\^)&quot;;var M=s++;o[M]=&quot;(\\s*)&quot;+o[D]+&quot;\\s+&quot;,i[M]=new RegExp(o[M],&quot;g&quot;);var L=s++;o[L]=&quot;^&quot;+o[D]+o[x]+&quot;$&quot;;var j=s++;o[j]=&quot;^&quot;+o[D]+o[P]+&quot;$&quot;;var U=s++;o[U]=&quot;^&quot;+o[S]+&quot;\\s*(&quot;+E+&quot;)$|^$&quot;;var F=s++;o[F]=&quot;^&quot;+o[S]+&quot;\\s*(&quot;+y+&quot;)$|^$&quot;;var B=s++;o[B]=&quot;(\\s*)&quot;+o[S]+&quot;\\s*(&quot;+E+&quot;|&quot;+o[x]+&quot;)&quot;,i[B]=new RegExp(o[B],&quot;g&quot;);var H=s++;o[H]=&quot;^\\s*(&quot;+o[x]+&quot;)\\s+-\\s+(&quot;+o[x]+&quot;)\\s*$&quot;;var G=s++;o[G]=&quot;^\\s*(&quot;+o[P]+&quot;)\\s+-\\s+(&quot;+o[P]+&quot;)\\s*$&quot;;var q,V=s++;for(o[V]=&quot;(&lt;|&gt;)?=?\\s*\\*&quot;,q=0;q&lt;35;q++)r(q,o[q]),i[q]||(i[q]=new RegExp(o[q]));function $(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if(&quot;string&quot;!=typeof e||e.length&gt;256)return null;if(!(t.loose?i[b]:i[g]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if(&quot;string&quot;!=typeof e)throw new TypeError(&quot;Invalid Version: &quot;+e);if(e.length&gt;256)throw new TypeError(&quot;version is longer than 256 characters&quot;);if(!(this instanceof W))return new W(e,t);r(&quot;SemVer&quot;,e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[b]:i[g]);if(!o)throw new TypeError(&quot;Invalid Version: &quot;+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major&gt;n||this.major&lt;0)throw new TypeError(&quot;Invalid major version&quot;);if(this.minor&gt;n||this.minor&lt;0)throw new TypeError(&quot;Invalid minor version&quot;);if(this.patch&gt;n||this.patch&lt;0)throw new TypeError(&quot;Invalid patch version&quot;);o[4]?this.prerelease=o[4].split(&quot;.&quot;).map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t&gt;=0&amp;&amp;t&lt;n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split(&quot;.&quot;):[],this.format()}e.parse=$,e.valid=function(e,t){var r=$(e,t);return r?r.version:null},e.clean=function(e,t){var r=$(e.trim().replace(/^[=v]+/,&quot;&quot;),t);return r?r.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+&quot;.&quot;+this.minor+&quot;.&quot;+this.patch,this.prerelease.length&amp;&amp;(this.version+=&quot;-&quot;+this.prerelease.join(&quot;.&quot;)),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return r(&quot;SemVer.compare&quot;,this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&amp;&amp;!e.prerelease.length)return-1;if(!this.prerelease.length&amp;&amp;e.prerelease.length)return 1;if(!this.prerelease.length&amp;&amp;!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r(&quot;prerelease compare&quot;,t,n,i),void 0===n&amp;&amp;void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return K(n,i)}while(++t)},W.prototype.inc=function(e,t){switch(e){case&quot;premajor&quot;:this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(&quot;pre&quot;,t);break;case&quot;preminor&quot;:this.prerelease.length=0,this.patch=0,this.minor++,this.inc(&quot;pre&quot;,t);break;case&quot;prepatch&quot;:this.prerelease.length=0,this.inc(&quot;patch&quot;,t),this.inc(&quot;pre&quot;,t);break;case&quot;prerelease&quot;:0===this.prerelease.length&amp;&amp;this.inc(&quot;patch&quot;,t),this.inc(&quot;pre&quot;,t);break;case&quot;major&quot;:(0!==this.minor||0!==this.patch||0===this.prerelease.length)&amp;&amp;this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case&quot;minor&quot;:(0!==this.patch||0===this.prerelease.length)&amp;&amp;this.minor++,this.patch=0,this.prerelease=[];break;case&quot;patch&quot;:0===this.prerelease.length&amp;&amp;this.patch++,this.prerelease=[];break;case&quot;pre&quot;:if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r&gt;=0;)&quot;number&quot;==typeof this.prerelease[r]&amp;&amp;(this.prerelease[r]++,r=-2);-1===r&amp;&amp;this.prerelease.push(0)}t&amp;&amp;(this.prerelease[0]===t?isNaN(this.prerelease[1])&amp;&amp;(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(&quot;invalid increment argument: &quot;+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){&quot;string&quot;==typeof r&amp;&amp;(n=r,r=void 0);try{return new W(e,r).inc(t,n).version}catch(e){return null}},e.diff=function(e,t){if(J(e,t))return null;var r=$(e),n=$(t),i=&quot;&quot;;if(r.prerelease.length||n.prerelease.length){i=&quot;pre&quot;;var o=&quot;prerelease&quot;}for(var s in r)if((&quot;major&quot;===s||&quot;minor&quot;===s||&quot;patch&quot;===s)&amp;&amp;r[s]!==n[s])return i+s;return o},e.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&amp;&amp;n&amp;&amp;(e=+e,t=+t),e===t?0:r&amp;&amp;!n?-1:n&amp;&amp;!r?1:e&lt;t?-1:1}function Y(e,t,r){return new W(e,r).compare(new W(t,r))}function X(e,t,r){return Y(e,t,r)&gt;0}function Q(e,t,r){return Y(e,t,r)&lt;0}function J(e,t,r){return 0===Y(e,t,r)}function Z(e,t,r){return 0!==Y(e,t,r)}function ee(e,t,r){return Y(e,t,r)&gt;=0}function te(e,t,r){return Y(e,t,r)&lt;=0}function re(e,t,r,n){switch(t){case&quot;===&quot;:return&quot;object&quot;==typeof e&amp;&amp;(e=e.version),&quot;object&quot;==typeof r&amp;&amp;(r=r.version),e===r;case&quot;!==&quot;:return&quot;object&quot;==typeof e&amp;&amp;(e=e.version),&quot;object&quot;==typeof r&amp;&amp;(r=r.version),e!==r;case&quot;&quot;:case&quot;=&quot;:case&quot;==&quot;:return J(e,r,n);case&quot;!=&quot;:return Z(e,r,n);case&quot;&gt;&quot;:return X(e,r,n);case&quot;&gt;=&quot;:return ee(e,r,n);case&quot;&lt;&quot;:return Q(e,r,n);case&quot;&lt;=&quot;:return te(e,r,n);default:throw new TypeError(&quot;Invalid operator: &quot;+t)}}function ne(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r(&quot;comparator&quot;,e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value=&quot;&quot;:this.value=this.operator+this.semver.version,r(&quot;comp&quot;,this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=Y,e.compareLoose=function(e,t){return Y(e,t,!0)},e.rcompare=function(e,t,r){return Y(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=X,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var ie={};function oe(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&amp;&amp;e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError(&quot;Invalid SemVer Range: &quot;+e);this.format()}function se(e){return!e||&quot;x&quot;===e.toLowerCase()||&quot;*&quot;===e}function ae(e,t,r,n,i,o,s,a,c,l,p,u,d){return((t=se(r)?&quot;&quot;:se(n)?&quot;&gt;=&quot;+r+&quot;.0.0&quot;:se(i)?&quot;&gt;=&quot;+r+&quot;.&quot;+n+&quot;.0&quot;:&quot;&gt;=&quot;+t)+&quot; &quot;+(a=se(c)?&quot;&quot;:se(l)?&quot;&lt;&quot;+(+c+1)+&quot;.0.0&quot;:se(p)?&quot;&lt;&quot;+c+&quot;.&quot;+(+l+1)+&quot;.0&quot;:u?&quot;&lt;=&quot;+c+&quot;.&quot;+l+&quot;.&quot;+p+&quot;-&quot;+u:&quot;&lt;=&quot;+a)).trim()}function ce(e,t,n){for(var i=0;i&lt;e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&amp;&amp;!n.includePrerelease){for(i=0;i&lt;e.length;i++)if(r(e[i].semver),e[i].semver!==ie&amp;&amp;e[i].semver.prerelease.length&gt;0){var o=e[i].semver;if(o.major===t.major&amp;&amp;o.minor===t.minor&amp;&amp;o.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function pe(e,t,r,n){var i,o,s,a,c;switch(e=new W(e,n),t=new oe(t,n),r){case&quot;&gt;&quot;:i=X,o=te,s=Q,a=&quot;&gt;&quot;,c=&quot;&gt;=&quot;;break;case&quot;&lt;&quot;:i=Q,o=ee,s=X,a=&quot;&lt;&quot;,c=&quot;&lt;=&quot;;break;default:throw new TypeError('Must provide a hilo val of &quot;&lt;&quot; or &quot;&gt;&quot;')}if(le(e,t,n))return!1;for(var l=0;l&lt;t.set.length;++l){var p=t.set[l],u=null,d=null;if(p.forEach((function(e){e.semver===ie&amp;&amp;(e=new ne(&quot;&gt;=0.0.0&quot;)),u=u||e,d=d||e,i(e.semver,u.semver,n)?u=e:s(e.semver,d.semver,n)&amp;&amp;(d=e)})),u.operator===a||u.operator===c||(!d.operator||d.operator===a)&amp;&amp;o(e,d.semver))return!1;if(d.operator===c&amp;&amp;s(e,d.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[U]:i[F],r=e.match(t);if(!r)throw new TypeError(&quot;Invalid comparator: &quot;+e);this.operator=r[1],&quot;=&quot;===this.operator&amp;&amp;(this.operator=&quot;&quot;),r[2]?this.semver=new W(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r(&quot;Comparator.test&quot;,e,this.options.loose),this.semver===ie||(&quot;string&quot;==typeof e&amp;&amp;(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError(&quot;a Comparator is required&quot;);var r;if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),&quot;&quot;===this.operator)return r=new oe(e.value,t),le(this.value,r,t);if(&quot;&quot;===e.operator)return r=new oe(this.value,t),le(e.semver,r,t);var n=!(&quot;&gt;=&quot;!==this.operator&amp;&amp;&quot;&gt;&quot;!==this.operator||&quot;&gt;=&quot;!==e.operator&amp;&amp;&quot;&gt;&quot;!==e.operator),i=!(&quot;&lt;=&quot;!==this.operator&amp;&amp;&quot;&lt;&quot;!==this.operator||&quot;&lt;=&quot;!==e.operator&amp;&amp;&quot;&lt;&quot;!==e.operator),o=this.semver.version===e.semver.version,s=!(&quot;&gt;=&quot;!==this.operator&amp;&amp;&quot;&lt;=&quot;!==this.operator||&quot;&gt;=&quot;!==e.operator&amp;&amp;&quot;&lt;=&quot;!==e.operator),a=re(this.semver,&quot;&lt;&quot;,e.semver,t)&amp;&amp;(&quot;&gt;=&quot;===this.operator||&quot;&gt;&quot;===this.operator)&amp;&amp;(&quot;&lt;=&quot;===e.operator||&quot;&lt;&quot;===e.operator),c=re(this.semver,&quot;&gt;&quot;,e.semver,t)&amp;&amp;(&quot;&lt;=&quot;===this.operator||&quot;&lt;&quot;===this.operator)&amp;&amp;(&quot;&gt;=&quot;===e.operator||&quot;&gt;&quot;===e.operator);return n||i||o&amp;&amp;s||a||c},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(&quot; &quot;).trim()})).join(&quot;||&quot;).trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[G]:i[H];e=e.replace(n,ae),r(&quot;hyphen replace&quot;,e),e=e.replace(i[B],&quot;$1$2$3&quot;),r(&quot;comparator trim&quot;,e,i[B]),e=(e=(e=e.replace(i[R],&quot;$1~&quot;)).replace(i[M],&quot;$1^&quot;)).split(/\s+/).join(&quot; &quot;);var o=t?i[U]:i[F],s=e.split(&quot; &quot;).map((function(e){return function(e,t){return r(&quot;comp&quot;,e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r(&quot;caret&quot;,e,t);var n=t.loose?i[j]:i[L];return e.replace(n,(function(t,n,i,o,s){var a;return r(&quot;caret&quot;,e,t,n,i,o,s),se(n)?a=&quot;&quot;:se(i)?a=&quot;&gt;=&quot;+n+&quot;.0.0 &lt;&quot;+(+n+1)+&quot;.0.0&quot;:se(o)?a=&quot;0&quot;===n?&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.0 &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.0 &lt;&quot;+(+n+1)+&quot;.0.0&quot;:s?(r(&quot;replaceCaret pr&quot;,s),a=&quot;0&quot;===n?&quot;0&quot;===i?&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+n+&quot;.&quot;+i+&quot;.&quot;+(+o+1):&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+(+n+1)+&quot;.0.0&quot;):(r(&quot;no pr&quot;),a=&quot;0&quot;===n?&quot;0&quot;===i?&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+n+&quot;.&quot;+i+&quot;.&quot;+(+o+1):&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+(+n+1)+&quot;.0.0&quot;),r(&quot;caret return&quot;,a),a}))}(e,t)})).join(&quot; &quot;)}(e,t),r(&quot;caret&quot;,e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[N]:i[k];return e.replace(n,(function(t,n,i,o,s){var a;return r(&quot;tilde&quot;,e,t,n,i,o,s),se(n)?a=&quot;&quot;:se(i)?a=&quot;&gt;=&quot;+n+&quot;.0.0 &lt;&quot;+(+n+1)+&quot;.0.0&quot;:se(o)?a=&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.0 &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:s?(r(&quot;replaceTilde pr&quot;,s),a=&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;):a=&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;,r(&quot;tilde return&quot;,a),a}))}(e,t)})).join(&quot; &quot;)}(e,t),r(&quot;tildes&quot;,e),e=function(e,t){return r(&quot;replaceXRanges&quot;,e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[A]:i[C];return e.replace(n,(function(t,n,i,o,s,a){r(&quot;xRange&quot;,e,t,n,i,o,s,a);var c=se(i),l=c||se(o),p=l||se(s);return&quot;=&quot;===n&amp;&amp;p&amp;&amp;(n=&quot;&quot;),c?t=&quot;&gt;&quot;===n||&quot;&lt;&quot;===n?&quot;&lt;0.0.0&quot;:&quot;*&quot;:n&amp;&amp;p?(l&amp;&amp;(o=0),s=0,&quot;&gt;&quot;===n?(n=&quot;&gt;=&quot;,l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):&quot;&lt;=&quot;===n&amp;&amp;(n=&quot;&lt;&quot;,l?i=+i+1:o=+o+1),t=n+i+&quot;.&quot;+o+&quot;.&quot;+s):l?t=&quot;&gt;=&quot;+i+&quot;.0.0 &lt;&quot;+(+i+1)+&quot;.0.0&quot;:p&amp;&amp;(t=&quot;&gt;=&quot;+i+&quot;.&quot;+o+&quot;.0 &lt;&quot;+i+&quot;.&quot;+(+o+1)+&quot;.0&quot;),r(&quot;xRange return&quot;,t),t}))}(e,t)})).join(&quot; &quot;)}(e,t),r(&quot;xrange&quot;,e),e=function(e,t){return r(&quot;replaceStars&quot;,e,t),e.trim().replace(i[V],&quot;&quot;)}(e,t),r(&quot;stars&quot;,e),e}(e,this.options)}),this).join(&quot; &quot;).split(/\s+/);return this.options.loose&amp;&amp;(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError(&quot;a Range is required&quot;);return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(&quot; &quot;).trim().split(&quot; &quot;)}))},oe.prototype.test=function(e){if(!e)return!1;&quot;string&quot;==typeof e&amp;&amp;(e=new W(e,this.options));for(var t=0;t&lt;this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&amp;&amp;(!n||-1===i.compare(e))&amp;&amp;(i=new W(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&amp;&amp;(!n||1===i.compare(e))&amp;&amp;(i=new W(n=e,r))})),n},e.minVersion=function(e,t){e=new oe(e,t);var r=new W(&quot;0.0.0&quot;);if(e.test(r)||(r=new W(&quot;0.0.0-0&quot;),e.test(r)))return r;r=null;for(var n=0;n&lt;e.set.length;++n)e.set[n].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case&quot;&gt;&quot;:0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case&quot;&quot;:case&quot;&gt;=&quot;:(!r||X(r,t))&amp;&amp;(r=t);break;case&quot;&lt;&quot;:case&quot;&lt;=&quot;:break;default:throw new Error(&quot;Unexpected operation: &quot;+e.operator)}}));return r&amp;&amp;e.test(r)?r:null},e.validRange=function(e,t){try{return new oe(e,t).range||&quot;*&quot;}catch(e){return null}},e.ltr=function(e,t,r){return pe(e,t,&quot;&lt;&quot;,r)},e.gtr=function(e,t,r){return pe(e,t,&quot;&gt;&quot;,r)},e.outside=pe,e.prerelease=function(e,t){var r=$(e,t);return r&amp;&amp;r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if(&quot;string&quot;!=typeof e)return null;var t=e.match(i[I]);return null==t?null:$(t[1]+&quot;.&quot;+(t[2]||&quot;0&quot;)+&quot;.&quot;+(t[3]||&quot;0&quot;))}})),Wr=f(((e,t)=&gt;{&quot;use strict&quot;;function r(e){return&quot;function&quot;==typeof e}var n=console.error.bind(console);function i(e,t,r){var n=!!e[t]&amp;&amp;e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function o(e){e&amp;&amp;e.logger&amp;&amp;(r(e.logger)?n=e.logger:n(&quot;new logger isn't a function, not replacing&quot;))}function s(e,t,o){if(e&amp;&amp;e[t]){if(!o)return n(&quot;no wrapper function&quot;),void n((new Error).stack);if(r(e[t])&amp;&amp;r(o)){var s=e[t],a=o(s,t);return i(a,&quot;__original&quot;,s),i(a,&quot;__unwrap&quot;,(function(){e[t]===a&amp;&amp;i(e,t,s)})),i(a,&quot;__wrapped&quot;,!0),i(e,t,a),a}n(&quot;original object and wrapper must be functions&quot;)}else n(&quot;no original function &quot;+t+&quot; to wrap&quot;)}function a(e,t){return e&amp;&amp;e[t]?e[t].__unwrap?e[t].__unwrap():void n(&quot;no original to unwrap to -- has &quot;+t+&quot; already been unwrapped?&quot;):(n(&quot;no function to unwrap.&quot;),void n((new Error).stack))}o.wrap=s,o.massWrap=function(e,t,r){if(!e)return n(&quot;must provide one or more modules to patch&quot;),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&amp;&amp;Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,r)}))})):n(&quot;must provide one or more functions to wrap on modules&quot;)},o.unwrap=a,o.massUnwrap=function(e,t){if(!e)return n(&quot;must provide one or more modules to patch&quot;),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&amp;&amp;Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t)}))})):n(&quot;must provide one or more functions to unwrap on modules&quot;)},t.exports=o})),zr=f(((e,t)=&gt;{&quot;use strict&quot;;var r=Wr(),n=r.wrap,i=r.unwrap,o=&quot;wrap@before&quot;;function s(e,t,r){var n=!!e[t]&amp;&amp;e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function a(e,t){var r;return r=e._events&amp;&amp;e._events[t],Array.isArray(r)||(r=r?[r]:[]),r}function c(e,t){if(e){var r=e;if(&quot;function&quot;==typeof e)r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n&lt;e.length;n++)r[n]=t(e[n])}return r}}t.exports=function(e,t,r){if(!(e&amp;&amp;e.on&amp;&amp;e.addListener&amp;&amp;e.removeListener&amp;&amp;e.emit))throw new Error(&quot;can only wrap real EEs&quot;);if(!t)throw new Error(&quot;must have function to run on listener addition&quot;);if(!r)throw new Error(&quot;must have function to wrap listeners when emitting&quot;);function l(e){return function(t,r){var i=a(this,t).slice();try{var s=e.call(this,t,r);return function(e,t,r){var n=a(e,t).filter((function(e){return-1===r.indexOf(e)}));n.length&gt;0&amp;&amp;function(e,t){for(var r=t.length,n=0;n&lt;r;n++){var i=t[n],s=e[o];if(&quot;function&quot;==typeof s)s(i);else if(Array.isArray(s))for(var a=s.length,c=0;c&lt;a;c++)s[c](i)}}(e,n)}(this,t,i),s}finally{this.on.__wrapped||n(this,&quot;on&quot;,l),this.addListener.__wrapped||n(this,&quot;addListener&quot;,l)}}}e[o]?&quot;function&quot;==typeof e[o]?s(e,o,[e[o],t]):Array.isArray(e[o])&amp;&amp;e[o].push(t):s(e,o,t),e.__wrapped||(n(e,&quot;addListener&quot;,l),n(e,&quot;on&quot;,l),n(e,&quot;emit&quot;,(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var o=this._events[t];function s(e){return function(){this._events[t]=o;try{return e.apply(this,arguments)}finally{o=this._events[t],this._events[t]=c(o,r)}}}n(this,&quot;removeListener&quot;,s);try{return this._events[t]=c(o,r),e.apply(this,arguments)}finally{i(this,&quot;removeListener&quot;),this._events[t]=o}}})),s(e,&quot;__unwrap&quot;,(function(){i(e,&quot;addListener&quot;),i(e,&quot;on&quot;),i(e,&quot;emit&quot;),delete e[o],delete e.__wrapped})),s(e,&quot;__wrapped&quot;,!0))}})),Kr=f(((e,t)=&gt;{&quot;use strict&quot;;var n=r(3837),i=r(9491),o=zr(),s=r(852),a=&quot;cls@contexts&quot;,c=&quot;error@context&quot;,l=process.env.DEBUG_CLS_HOOKED,p=-1;function u(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function d(e){return process.namespaces[e]}function h(e){let t=d(e);i.ok(t,&quot;can't delete nonexistent namespace! \&quot;&quot;+e+'&quot;'),i.ok(t.id,&quot;don't assign to process.namespaces directly! &quot;+n.inspect(t)),process.namespaces[e]=null}function f(...e){l&amp;&amp;process._rawDebug(`${n.format(...e)}`)}t.exports={getNamespace:d,createNamespace:function(e){i.ok(e,&quot;namespace must be given a name.&quot;),l&amp;&amp;f(`NS-CREATING NAMESPACE (${e})`);let t=new u(e);return t.id=p,s.createHook({init(r,i,o,a){if(p=s.executionAsyncId(),t.active)t._contexts.set(r,t.active),l&amp;&amp;f(`${&quot; &quot;.repeat(t._indent&lt;0?0:t._indent)}INIT [${i}] (${e}) asyncId:${r} currentUid:${p} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`);else if(0===p){let o=s.triggerAsyncId(),c=t._contexts.get(o);c?(t._contexts.set(r,c),l&amp;&amp;f(`${&quot; &quot;.repeat(t._indent&lt;0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${r} currentUid:${p} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)):l&amp;&amp;f(`${&quot; &quot;.repeat(t._indent&lt;0?0:t._indent)}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${r} currentUid:${p} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}if(l&amp;&amp;&quot;PROMISE&quot;===i){f(n.inspect(a,{showHidden:!0}));let s=a.parentId;f(`${&quot; &quot;.repeat(t._indent&lt;0?0:t._indent)}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${s} asyncId:${r} currentUid:${p} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(r){let i;if(p=s.executionAsyncId(),i=t._contexts.get(r)||t._contexts.get(p),i){if(l){let o=s.triggerAsyncId();f(`${&quot; &quot;.repeat(t._indent&lt;0?0:t._indent)}BEFORE (${e}) asyncId:${r} currentUid:${p} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(i)}`),t._indent+=2}t.enter(i)}else if(l){let i=s.triggerAsyncId();f(`${&quot; &quot;.repeat(t._indent&lt;0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${p} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${n.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(r){let i;if(p=s.executionAsyncId(),i=t._contexts.get(r)||t._contexts.get(p),i){if(l){let o=s.triggerAsyncId();t._indent-=2,f(`${&quot; &quot;.repeat(t._indent&lt;0?0:t._indent)}AFTER (${e}) asyncId:${r} currentUid:${p} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(i)}`)}t.exit(i)}else if(l){let o=s.triggerAsyncId();t._indent-=2,f(`${&quot; &quot;.repeat(t._indent&lt;0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${p} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(i)}`)}},destroy(r){if(p=s.executionAsyncId(),l){let i=s.triggerAsyncId();f(`${&quot; &quot;.repeat(t._indent&lt;0?0:t._indent)}DESTROY (${e}) currentUid:${p} asyncId:${r} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(t._contexts.get(p))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:h,reset:function(){process.namespaces&amp;&amp;Object.keys(process.namespaces).forEach((function(e){h(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},u.prototype.set=function(e,t){if(!this.active)throw new Error(&quot;No context available. ns.run() or ns.bind() must be called first.&quot;);return this.active[e]=t,l&amp;&amp;f(&quot; &quot;.repeat(this._indent&lt;0?0:this._indent)+&quot;CONTEXT-SET KEY:&quot;+e+&quot;=&quot;+t+&quot; in ns:&quot;+this.name+&quot; currentUid:&quot;+p+&quot; active:&quot;+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},u.prototype.get=function(e){if(this.active){if(l){let t=s.executionAsyncId(),r=s.triggerAsyncId(),i=&quot; &quot;.repeat(this._indent&lt;0?0:this._indent);f(i+&quot;CONTEXT-GETTING KEY:&quot;+e+&quot;=&quot;+this.active[e]+&quot; (&quot;+this.name+&quot;) currentUid:&quot;+p+&quot; active:&quot;+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),f(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${p} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} active:${n.inspect(this.active)}`)}return this.active[e]}if(l){let t=s.currentId(),r=s.triggerAsyncId();f(`${&quot; &quot;.repeat(this._indent&lt;0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${p} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length}`)}},u.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=p,l){let t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${&quot; &quot;.repeat(this._indent&lt;0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${p} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} context:${n.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},u.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(l){let e=s.triggerAsyncId(),r=s.executionAsyncId();f(`${&quot; &quot;.repeat(this._indent&lt;0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${p} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} context:${n.inspect(t)}`)}return e(t),t}catch(e){throw e&amp;&amp;(e[c]=t),e}finally{if(l){let e=s.triggerAsyncId(),r=s.executionAsyncId();f(`${&quot; &quot;.repeat(this._indent&lt;0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${p} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} ${n.inspect(t)}`)}this.exit(t)}},u.prototype.runAndReturn=function(e){let t;return this.run((function(r){t=e(r)})),t},u.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error(&quot;fn must return a promise.&quot;);return l&amp;&amp;f(&quot;CONTEXT-runPromise BEFORE: (&quot;+this.name+&quot;) currentUid:&quot;+p+&quot; len:&quot;+this._set.length+&quot; &quot;+n.inspect(t)),r.then((e=&gt;(l&amp;&amp;f(&quot;CONTEXT-runPromise AFTER then: (&quot;+this.name+&quot;) currentUid:&quot;+p+&quot; len:&quot;+this._set.length+&quot; &quot;+n.inspect(t)),this.exit(t),e))).catch((e=&gt;{throw e[c]=t,l&amp;&amp;f(&quot;CONTEXT-runPromise AFTER catch: (&quot;+this.name+&quot;) currentUid:&quot;+p+&quot; len:&quot;+this._set.length+&quot; &quot;+n.inspect(t)),this.exit(t),e}))},u.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&amp;&amp;(e[c]=t),e}finally{r.exit(t)}}},u.prototype.enter=function(e){if(i.ok(e,&quot;context must be provided for entering&quot;),l){let t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${&quot; &quot;.repeat(this._indent&lt;0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${p} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}this._set.push(this.active),this.active=e},u.prototype.exit=function(e){if(i.ok(e,&quot;context must be provided for exiting&quot;),l){let t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${&quot; &quot;.repeat(this._indent&lt;0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${p} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,&quot;can't remove top context&quot;),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t&lt;0?(l&amp;&amp;f(&quot;??ERROR?? context exiting but not entered - ignoring: &quot;+n.inspect(e)),i.ok(t&gt;=0,&quot;context not currently entered; can't exit. \n&quot;+n.inspect(this)+&quot;\n&quot;+n.inspect(e))):(i.ok(t,&quot;can't remove top context&quot;),this._set.splice(t,1))},u.prototype.bindEmitter=function(e){i.ok(e.on&amp;&amp;e.addListener&amp;&amp;e.emit,&quot;can only bind real EEs&quot;);let t=this,r=&quot;context@&quot;+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,r=e[a];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},u.prototype.fromException=function(e){return e[c]},process.namespaces={}})),Yr=f(((e,t)=&gt;{&quot;use strict&quot;;function r(){}t.exports=function(){let e=this._hooks,t=this._state,n=process.nextTick;process.nextTick=function(){if(!t.enabled)return n.apply(process,arguments);let i=new Array(arguments.length);for(let e=0;e&lt;arguments.length;e++)i[e]=arguments[e];let o=i[0];if(&quot;function&quot;!=typeof o)throw new TypeError(&quot;callback is not a function&quot;);let s=new r,a=--t.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&amp;&amp;process.listenerCount(&quot;uncaughtException&quot;)&gt;0&amp;&amp;process.once(&quot;uncaughtException&quot;,(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},n.apply(process,i)}}})),Xr=f(((e,t)=&gt;{&quot;use strict&quot;;function r(){}t.exports=function(){let e=this._hooks,t=this._state,n=global.Promise,i=n.prototype.then;function o(t,r,n,i){return&quot;function&quot;!=typeof t?i?function(t){return function(r){return e.destroy.call(null,t),r}}(n):function(t){return function(r){throw e.destroy.call(null,t),r}}(n):function(){e.pre.call(r,n);try{return t.apply(this,arguments)}finally{e.post.call(r,n,!1),e.destroy.call(null,n)}}}n.prototype.then=function(n,s){if(!t.enabled)return i.call(this,n,s);let a=new r,c=--t.counter;return e.init.call(a,c,0,null,null),i.call(this,o(n,a,c,!0),o(s,a,c,!1))}}})),Qr=f(((e,t)=&gt;{&quot;use strict&quot;;var n=r(9512);function i(){}function o(){}function s(){}var a=new Map,c=new Map,l=new Map,p=null,u=!1;function d(e,t,r,i,o,s,a){let c=n[r],l=n[i];n[r]=function(){if(!t.enabled)return c.apply(n,arguments);let r=new Array(arguments.length);for(let e=0;e&lt;arguments.length;e++)r[e]=arguments[e];let i=r[0];if(&quot;function&quot;!=typeof i)throw new TypeError('&quot;callback&quot; argument must be a function');let l,d=new o,h=--t.counter;return e.init.call(d,h,0,null,null),r[0]=function(){p=l,e.pre.call(d,h);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&amp;&amp;process.listenerCount(&quot;uncaughtException&quot;)&gt;0&amp;&amp;process.once(&quot;uncaughtException&quot;,(function(){e.post.call(d,h,!0),s.delete(l),e.destroy.call(null,h)}))}e.post.call(d,h,!1),p=null,(a||u)&amp;&amp;(u=!1,s.delete(l),e.destroy.call(null,h))},l=c.apply(n,r),s.set(l,h),l},n[i]=function(t){if(p===t&amp;&amp;null!==t)u=!0;else if(s.has(t)){let r=s.get(t);s.delete(t),e.destroy.call(null,r)}l.apply(n,arguments)}}t.exports=function(){d(this._hooks,this._state,&quot;setTimeout&quot;,&quot;clearTimeout&quot;,i,a,!0),d(this._hooks,this._state,&quot;setInterval&quot;,&quot;clearInterval&quot;,o,c,!1),d(this._hooks,this._state,&quot;setImmediate&quot;,&quot;clearImmediate&quot;,s,l,!0),global.setTimeout=n.setTimeout,global.setInterval=n.setInterval,global.setImmediate=n.setImmediate,global.clearTimeout=n.clearTimeout,global.clearInterval=n.clearInterval,global.clearImmediate=n.clearImmediate}})),Jr=f(((e,t)=&gt;{t.exports={name:&quot;async-hook-jl&quot;,description:&quot;Inspect the life of handle objects in node&quot;,version:&quot;1.7.6&quot;,author:&quot;Andreas Madsen &lt;amwebdk@gmail.com&gt;&quot;,main:&quot;./index.js&quot;,scripts:{test:&quot;node ./test/runner.js &amp;&amp; eslint .&quot;},repository:{type:&quot;git&quot;,url:&quot;git://github.com/jeff-lewis/async-hook-jl.git&quot;},keywords:[&quot;async&quot;,&quot;async hooks&quot;,&quot;inspect&quot;,&quot;async wrap&quot;],license:&quot;MIT&quot;,dependencies:{&quot;stack-chain&quot;:&quot;^1.3.7&quot;},devDependencies:{async:&quot;1.5.x&quot;,&quot;cli-color&quot;:&quot;1.1.x&quot;,eslint:&quot;^3.4.0&quot;,endpoint:&quot;0.4.x&quot;},engines:{node:&quot;^4.7 || &gt;=6.9 || &gt;=7.3&quot;}}})),Zr=f(((e,t)=&gt;{&quot;use strict&quot;;var r=process.binding(&quot;async_wrap&quot;),n=r.Providers.TIMERWRAP,i={nextTick:Yr(),promise:Xr(),timers:Qr()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let e=this.initFns=[],t=this.preFns=[],r=this.postFns=[],i=this.destroyFns=[];this.init=function(t,r,i,s){if(r!==n)for(let n of e)n(t,this,r,i,s);else o.add(t)},this.pre=function(e){if(!o.has(e))for(let r of t)r(e,this)},this.post=function(e,t){if(!o.has(e))for(let n of r)n(e,this,t)},this.destroy=function(e){if(o.has(e))o.delete(e);else for(let t of i)t(e)}}function c(e,t){let r=e.indexOf(t);-1!==r&amp;&amp;e.splice(r,1)}function l(){this._state=new s,this._hooks=new a,this.version=Jr().version,this.providers=r.Providers;for(let e of Object.keys(i))i[e].call(this);process.env.hasOwnProperty(&quot;NODE_ASYNC_HOOK_WARNING&quot;)&amp;&amp;console.warn(&quot;warning: you are using async-hook-jl which is unstable.&quot;),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}a.prototype.add=function(e){e.init&amp;&amp;this.initFns.push(e.init),e.pre&amp;&amp;this.preFns.push(e.pre),e.post&amp;&amp;this.postFns.push(e.post),e.destroy&amp;&amp;this.destroyFns.push(e.destroy)},a.prototype.remove=function(e){e.init&amp;&amp;c(this.initFns,e.init),e.pre&amp;&amp;c(this.preFns,e.pre),e.post&amp;&amp;c(this.postFns,e.post),e.destroy&amp;&amp;c(this.destroyFns,e.destroy)},t.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}})),en=f(((e,t)=&gt;{t.exports={name:&quot;stack-chain&quot;,description:&quot;API for combining call site modifiers&quot;,version:&quot;1.3.7&quot;,author:&quot;Andreas Madsen &lt;amwebdk@gmail.com&gt;&quot;,scripts:{test:&quot;tap ./test/simple&quot;},repository:{type:&quot;git&quot;,url:&quot;git://github.com/AndreasMadsen/stack-chain.git&quot;},keywords:[&quot;stack&quot;,&quot;chain&quot;,&quot;trace&quot;,&quot;call site&quot;,&quot;concat&quot;,&quot;format&quot;],devDependencies:{tap:&quot;2.x.x&quot;,&quot;uglify-js&quot;:&quot;2.5.x&quot;},license:&quot;MIT&quot;}})),tn=f(((e,t)=&gt;{t.exports=function(e,t){var r=[];r.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return&quot;&lt;error: &quot;+e+&quot;&gt;&quot;}catch(e){return&quot;&lt;error&gt;&quot;}}}(e));for(var n=0;n&lt;t.length;n++){var i,o=t[n];try{i=o.toString()}catch(e){try{i=&quot;&lt;error: &quot;+e+&quot;&gt;&quot;}catch(e){i=&quot;&lt;error&gt;&quot;}}r.push(&quot;    at &quot;+i)}return r.join(&quot;\n&quot;)}})),rn=f(((e,t)=&gt;{var r=tn();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=en().version}var i=!1;n.prototype.callSite=function e(t){t||(t={}),i=!0;var r={};Error.captureStackTrace(r,e);var n=r.stack;return i=!1,n=n.slice(t.slice||0),t.extend&amp;&amp;(n=this.extend._modify(r,n)),t.filter&amp;&amp;(n=this.filter._modify(r,n)),n};var o=new n;function s(){this._modifiers=[]}function a(){this._formater=r,this._previous=void 0}s.prototype._modify=function(e,t){for(var r=0,n=this._modifiers.length;r&lt;n;r++)t=this._modifiers[r](e,t);return t},s.prototype.attach=function(e){this._modifiers.push(e)},s.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&amp;&amp;(this._modifiers.splice(t,1),!0)},a.prototype.replace=function(e){e?this._formater=e:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&amp;&amp;o.format.replace(Error.prepareStackTrace);var c=!1;function l(e,t){if(i)return t;if(c)return r(e,t);var n=t.concat();n=o.extend._modify(e,n),n=(n=o.filter._modify(e,n)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&amp;&amp;void 0===Object.getOwnPropertyDescriptor(e,&quot;callSite&quot;)&amp;&amp;(e.callSite={original:t,mutated:n}),c=!0;var s=o.format._formater(e,n);return c=!1,s}Object.defineProperty(Error,&quot;prepareStackTrace&quot;,{get:function(){return l},set:function(e){e===l?o.format._roolback():(o.format._backup(),o.format.replace(e))}}),Object.defineProperty(Error.prototype,&quot;callSite&quot;,{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,&quot;callSite&quot;,{value:e,writable:!0,configurable:!0})},configurable:!0}),t.exports=o})),nn=f(((e,t)=&gt;{if(global._stackChain){if(global._stackChain.version!==en().version)throw new Error(&quot;Conflicting version of stack-chain found&quot;);t.exports=global._stackChain}else t.exports=global._stackChain=rn()})),on=f(((e,t)=&gt;{&quot;use strict&quot;;var r=Zr();if(global._asyncHook){if(global._asyncHook.version!==Jr().version)throw new Error(&quot;Conflicting version of async-hook-jl found&quot;);t.exports=global._asyncHook}else nn().filter.attach((function(e,t){return t.filter((function(e){let t=e.getFileName();return!(t&amp;&amp;t.slice(0,__dirname.length)===__dirname)}))})),t.exports=global._asyncHook=new r})),sn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=r(3837),i=r(9491),o=zr(),s=on(),a=&quot;cls@contexts&quot;,c=&quot;error@context&quot;,l=[];for(let e in s.providers)l[s.providers[e]]=e;var p,u,d=process.env.DEBUG_CLS_HOOKED,h=-1;function f(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function v(e){return process.namespaces[e]}function _(e){let t=v(e);i.ok(t,&quot;can't delete nonexistent namespace! \&quot;&quot;+e+'&quot;'),i.ok(t.id,&quot;don't assign to process.namespaces directly! &quot;+n.inspect(t)),process.namespaces[e]=null}function m(e){process.env.DEBUG&amp;&amp;process._rawDebug(e)}function g(e){return e?&quot;function&quot;==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&amp;&amp;e.constructor.name?e.constructor.name:void 0:e}if(t.exports={getNamespace:v,createNamespace:function(e){i.ok(e,&quot;namespace must be given a name.&quot;),d&amp;&amp;m(&quot;CREATING NAMESPACE &quot;+e);let t=new f(e);return t.id=h,s.addHooks({init(r,i,o,s,a){h=r,s?(t._contexts.set(r,t._contexts.get(s)),d&amp;&amp;m(&quot;PARENTID: &quot;+e+&quot; uid:&quot;+r+&quot; parent:&quot;+s+&quot; provider:&quot;+o)):t._contexts.set(h,t.active),d&amp;&amp;m(&quot;INIT &quot;+e+&quot; uid:&quot;+r+&quot; parent:&quot;+s+&quot; provider:&quot;+l[o]+&quot; active:&quot;+n.inspect(t.active,!0))},pre(r,i){h=r;let o=t._contexts.get(r);o?(d&amp;&amp;m(&quot; PRE &quot;+e+&quot; uid:&quot;+r+&quot; handle:&quot;+g(i)+&quot; context:&quot;+n.inspect(o)),t.enter(o)):d&amp;&amp;m(&quot; PRE MISSING CONTEXT &quot;+e+&quot; uid:&quot;+r+&quot; handle:&quot;+g(i))},post(r,i){h=r;let o=t._contexts.get(r);o?(d&amp;&amp;m(&quot; POST &quot;+e+&quot; uid:&quot;+r+&quot; handle:&quot;+g(i)+&quot; context:&quot;+n.inspect(o)),t.exit(o)):d&amp;&amp;m(&quot; POST MISSING CONTEXT &quot;+e+&quot; uid:&quot;+r+&quot; handle:&quot;+g(i))},destroy(r){h=r,d&amp;&amp;m(&quot;DESTROY &quot;+e+&quot; uid:&quot;+r+&quot; context:&quot;+n.inspect(t._contexts.get(h))+&quot; active:&quot;+n.inspect(t.active,!0)),t._contexts.delete(r)}}),process.namespaces[e]=t,t},destroyNamespace:_,reset:function(){process.namespaces&amp;&amp;Object.keys(process.namespaces).forEach((function(e){_(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},f.prototype.set=function(e,t){if(!this.active)throw new Error(&quot;No context available. ns.run() or ns.bind() must be called first.&quot;);return d&amp;&amp;m(&quot;    SETTING KEY:&quot;+e+&quot;=&quot;+t+&quot; in ns:&quot;+this.name+&quot; uid:&quot;+h+&quot; active:&quot;+n.inspect(this.active,!0)),this.active[e]=t,t},f.prototype.get=function(e){if(this.active)return d&amp;&amp;m(&quot;    GETTING KEY:&quot;+e+&quot;=&quot;+this.active[e]+&quot; &quot;+this.name+&quot; uid:&quot;+h+&quot; active:&quot;+n.inspect(this.active,!0)),this.active[e];d&amp;&amp;m(&quot;    GETTING KEY:&quot;+e+&quot;=undefined &quot;+this.name+&quot; uid:&quot;+h+&quot; active:&quot;+n.inspect(this.active,!0))},f.prototype.createContext=function(){d&amp;&amp;m(&quot;   CREATING Context: &quot;+this.name+&quot; uid:&quot;+h+&quot; len:&quot;+this._set.length+&quot;  active:&quot;+n.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=h,d&amp;&amp;m(&quot;   CREATED Context: &quot;+this.name+&quot; uid:&quot;+h+&quot; len:&quot;+this._set.length+&quot;  context:&quot;+n.inspect(e,!0,2,!0)),e},f.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return d&amp;&amp;m(&quot; BEFORE RUN: &quot;+this.name+&quot; uid:&quot;+h+&quot; len:&quot;+this._set.length+&quot; &quot;+n.inspect(t)),e(t),t}catch(e){throw e&amp;&amp;(e[c]=t),e}finally{d&amp;&amp;m(&quot; AFTER RUN: &quot;+this.name+&quot; uid:&quot;+h+&quot; len:&quot;+this._set.length+&quot; &quot;+n.inspect(t)),this.exit(t)}},f.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},f.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error(&quot;fn must return a promise.&quot;);return d&amp;&amp;m(&quot; BEFORE runPromise: &quot;+this.name+&quot; uid:&quot;+h+&quot; len:&quot;+this._set.length+&quot; &quot;+n.inspect(t)),r.then((e=&gt;(d&amp;&amp;m(&quot; AFTER runPromise: &quot;+this.name+&quot; uid:&quot;+h+&quot; len:&quot;+this._set.length+&quot; &quot;+n.inspect(t)),this.exit(t),e))).catch((e=&gt;{throw e[c]=t,d&amp;&amp;m(&quot; AFTER runPromise: &quot;+this.name+&quot; uid:&quot;+h+&quot; len:&quot;+this._set.length+&quot; &quot;+n.inspect(t)),this.exit(t),e}))},f.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&amp;&amp;(e[c]=t),e}finally{r.exit(t)}}},f.prototype.enter=function(e){i.ok(e,&quot;context must be provided for entering&quot;),d&amp;&amp;m(&quot;  ENTER &quot;+this.name+&quot; uid:&quot;+h+&quot; len:&quot;+this._set.length+&quot; context: &quot;+n.inspect(e)),this._set.push(this.active),this.active=e},f.prototype.exit=function(e){if(i.ok(e,&quot;context must be provided for exiting&quot;),d&amp;&amp;m(&quot;  EXIT &quot;+this.name+&quot; uid:&quot;+h+&quot; len:&quot;+this._set.length+&quot; context: &quot;+n.inspect(e)),this.active===e)return i.ok(this._set.length,&quot;can't remove top context&quot;),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t&lt;0?(d&amp;&amp;m(&quot;??ERROR?? context exiting but not entered - ignoring: &quot;+n.inspect(e)),i.ok(t&gt;=0,&quot;context not currently entered; can't exit. \n&quot;+n.inspect(this)+&quot;\n&quot;+n.inspect(e))):(i.ok(t,&quot;can't remove top context&quot;),this._set.splice(t,1))},f.prototype.bindEmitter=function(e){i.ok(e.on&amp;&amp;e.addListener&amp;&amp;e.emit,&quot;can only bind real EEs&quot;);let t=this,r=&quot;context@&quot;+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,r=e[a];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},f.prototype.fromException=function(e){return e[c]},process.namespaces={},s._state&amp;&amp;!s._state.enabled&amp;&amp;s.enable(),d)for(u in(p=nn()).filter._modifiers)p.filter.deattach(u)})),an=f(((e,t)=&gt;{&quot;use strict&quot;;var r=$r();process&amp;&amp;r.gte(process.versions.node,&quot;8.0.0&quot;)?t.exports=Kr():t.exports=sn()})),cn=f(((e,t)=&gt;{var r;e=t.exports=W,r=&quot;object&quot;==typeof process&amp;&amp;process.env&amp;&amp;process.env.NODE_DEBUG&amp;&amp;/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(&quot;SEMVER&quot;),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION=&quot;2.0.0&quot;;var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]=&quot;0|[1-9]\\d*&quot;;var c=s++;o[c]=&quot;[0-9]+&quot;;var l=s++;o[l]=&quot;\\d*[a-zA-Z-][a-zA-Z0-9-]*&quot;;var p=s++;o[p]=&quot;(&quot;+o[a]+&quot;)\\.(&quot;+o[a]+&quot;)\\.(&quot;+o[a]+&quot;)&quot;;var u=s++;o[u]=&quot;(&quot;+o[c]+&quot;)\\.(&quot;+o[c]+&quot;)\\.(&quot;+o[c]+&quot;)&quot;;var d=s++;o[d]=&quot;(?:&quot;+o[a]+&quot;|&quot;+o[l]+&quot;)&quot;;var h=s++;o[h]=&quot;(?:&quot;+o[c]+&quot;|&quot;+o[l]+&quot;)&quot;;var f=s++;o[f]=&quot;(?:-(&quot;+o[d]+&quot;(?:\\.&quot;+o[d]+&quot;)*))&quot;;var v=s++;o[v]=&quot;(?:-?(&quot;+o[h]+&quot;(?:\\.&quot;+o[h]+&quot;)*))&quot;;var _=s++;o[_]=&quot;[0-9A-Za-z-]+&quot;;var m=s++;o[m]=&quot;(?:\\+(&quot;+o[_]+&quot;(?:\\.&quot;+o[_]+&quot;)*))&quot;;var g=s++,y=&quot;v?&quot;+o[p]+o[f]+&quot;?&quot;+o[m]+&quot;?&quot;;o[g]=&quot;^&quot;+y+&quot;$&quot;;var E=&quot;[v=\\s]*&quot;+o[u]+o[v]+&quot;?&quot;+o[m]+&quot;?&quot;,b=s++;o[b]=&quot;^&quot;+E+&quot;$&quot;;var S=s++;o[S]=&quot;((?:&lt;|&gt;)?=?)&quot;;var w=s++;o[w]=o[c]+&quot;|x|X|\\*&quot;;var T=s++;o[T]=o[a]+&quot;|x|X|\\*&quot;;var x=s++;o[x]=&quot;[v=\\s]*(&quot;+o[T]+&quot;)(?:\\.(&quot;+o[T]+&quot;)(?:\\.(&quot;+o[T]+&quot;)(?:&quot;+o[f]+&quot;)?&quot;+o[m]+&quot;?)?)?&quot;;var P=s++;o[P]=&quot;[v=\\s]*(&quot;+o[w]+&quot;)(?:\\.(&quot;+o[w]+&quot;)(?:\\.(&quot;+o[w]+&quot;)(?:&quot;+o[v]+&quot;)?&quot;+o[m]+&quot;?)?)?&quot;;var C=s++;o[C]=&quot;^&quot;+o[S]+&quot;\\s*&quot;+o[x]+&quot;$&quot;;var A=s++;o[A]=&quot;^&quot;+o[S]+&quot;\\s*&quot;+o[P]+&quot;$&quot;;var I=s++;o[I]=&quot;(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])&quot;;var O=s++;o[O]=&quot;(?:~&gt;?)&quot;;var R=s++;o[R]=&quot;(\\s*)&quot;+o[O]+&quot;\\s+&quot;,i[R]=new RegExp(o[R],&quot;g&quot;);var k=s++;o[k]=&quot;^&quot;+o[O]+o[x]+&quot;$&quot;;var N=s++;o[N]=&quot;^&quot;+o[O]+o[P]+&quot;$&quot;;var D=s++;o[D]=&quot;(?:\\^)&quot;;var M=s++;o[M]=&quot;(\\s*)&quot;+o[D]+&quot;\\s+&quot;,i[M]=new RegExp(o[M],&quot;g&quot;);var L=s++;o[L]=&quot;^&quot;+o[D]+o[x]+&quot;$&quot;;var j=s++;o[j]=&quot;^&quot;+o[D]+o[P]+&quot;$&quot;;var U=s++;o[U]=&quot;^&quot;+o[S]+&quot;\\s*(&quot;+E+&quot;)$|^$&quot;;var F=s++;o[F]=&quot;^&quot;+o[S]+&quot;\\s*(&quot;+y+&quot;)$|^$&quot;;var B=s++;o[B]=&quot;(\\s*)&quot;+o[S]+&quot;\\s*(&quot;+E+&quot;|&quot;+o[x]+&quot;)&quot;,i[B]=new RegExp(o[B],&quot;g&quot;);var H=s++;o[H]=&quot;^\\s*(&quot;+o[x]+&quot;)\\s+-\\s+(&quot;+o[x]+&quot;)\\s*$&quot;;var G=s++;o[G]=&quot;^\\s*(&quot;+o[P]+&quot;)\\s+-\\s+(&quot;+o[P]+&quot;)\\s*$&quot;;var q,V=s++;for(o[V]=&quot;(&lt;|&gt;)?=?\\s*\\*&quot;,q=0;q&lt;35;q++)r(q,o[q]),i[q]||(i[q]=new RegExp(o[q]));function $(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if(&quot;string&quot;!=typeof e||e.length&gt;256)return null;if(!(t.loose?i[b]:i[g]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if(&quot;string&quot;!=typeof e)throw new TypeError(&quot;Invalid Version: &quot;+e);if(e.length&gt;256)throw new TypeError(&quot;version is longer than 256 characters&quot;);if(!(this instanceof W))return new W(e,t);r(&quot;SemVer&quot;,e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[b]:i[g]);if(!o)throw new TypeError(&quot;Invalid Version: &quot;+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major&gt;n||this.major&lt;0)throw new TypeError(&quot;Invalid major version&quot;);if(this.minor&gt;n||this.minor&lt;0)throw new TypeError(&quot;Invalid minor version&quot;);if(this.patch&gt;n||this.patch&lt;0)throw new TypeError(&quot;Invalid patch version&quot;);o[4]?this.prerelease=o[4].split(&quot;.&quot;).map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t&gt;=0&amp;&amp;t&lt;n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split(&quot;.&quot;):[],this.format()}e.parse=$,e.valid=function(e,t){var r=$(e,t);return r?r.version:null},e.clean=function(e,t){var r=$(e.trim().replace(/^[=v]+/,&quot;&quot;),t);return r?r.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+&quot;.&quot;+this.minor+&quot;.&quot;+this.patch,this.prerelease.length&amp;&amp;(this.version+=&quot;-&quot;+this.prerelease.join(&quot;.&quot;)),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return r(&quot;SemVer.compare&quot;,this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&amp;&amp;!e.prerelease.length)return-1;if(!this.prerelease.length&amp;&amp;e.prerelease.length)return 1;if(!this.prerelease.length&amp;&amp;!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r(&quot;prerelease compare&quot;,t,n,i),void 0===n&amp;&amp;void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return K(n,i)}while(++t)},W.prototype.inc=function(e,t){switch(e){case&quot;premajor&quot;:this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(&quot;pre&quot;,t);break;case&quot;preminor&quot;:this.prerelease.length=0,this.patch=0,this.minor++,this.inc(&quot;pre&quot;,t);break;case&quot;prepatch&quot;:this.prerelease.length=0,this.inc(&quot;patch&quot;,t),this.inc(&quot;pre&quot;,t);break;case&quot;prerelease&quot;:0===this.prerelease.length&amp;&amp;this.inc(&quot;patch&quot;,t),this.inc(&quot;pre&quot;,t);break;case&quot;major&quot;:(0!==this.minor||0!==this.patch||0===this.prerelease.length)&amp;&amp;this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case&quot;minor&quot;:(0!==this.patch||0===this.prerelease.length)&amp;&amp;this.minor++,this.patch=0,this.prerelease=[];break;case&quot;patch&quot;:0===this.prerelease.length&amp;&amp;this.patch++,this.prerelease=[];break;case&quot;pre&quot;:if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r&gt;=0;)&quot;number&quot;==typeof this.prerelease[r]&amp;&amp;(this.prerelease[r]++,r=-2);-1===r&amp;&amp;this.prerelease.push(0)}t&amp;&amp;(this.prerelease[0]===t?isNaN(this.prerelease[1])&amp;&amp;(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(&quot;invalid increment argument: &quot;+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){&quot;string&quot;==typeof r&amp;&amp;(n=r,r=void 0);try{return new W(e,r).inc(t,n).version}catch(e){return null}},e.diff=function(e,t){if(J(e,t))return null;var r=$(e),n=$(t),i=&quot;&quot;;if(r.prerelease.length||n.prerelease.length){i=&quot;pre&quot;;var o=&quot;prerelease&quot;}for(var s in r)if((&quot;major&quot;===s||&quot;minor&quot;===s||&quot;patch&quot;===s)&amp;&amp;r[s]!==n[s])return i+s;return o},e.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&amp;&amp;n&amp;&amp;(e=+e,t=+t),e===t?0:r&amp;&amp;!n?-1:n&amp;&amp;!r?1:e&lt;t?-1:1}function Y(e,t,r){return new W(e,r).compare(new W(t,r))}function X(e,t,r){return Y(e,t,r)&gt;0}function Q(e,t,r){return Y(e,t,r)&lt;0}function J(e,t,r){return 0===Y(e,t,r)}function Z(e,t,r){return 0!==Y(e,t,r)}function ee(e,t,r){return Y(e,t,r)&gt;=0}function te(e,t,r){return Y(e,t,r)&lt;=0}function re(e,t,r,n){switch(t){case&quot;===&quot;:return&quot;object&quot;==typeof e&amp;&amp;(e=e.version),&quot;object&quot;==typeof r&amp;&amp;(r=r.version),e===r;case&quot;!==&quot;:return&quot;object&quot;==typeof e&amp;&amp;(e=e.version),&quot;object&quot;==typeof r&amp;&amp;(r=r.version),e!==r;case&quot;&quot;:case&quot;=&quot;:case&quot;==&quot;:return J(e,r,n);case&quot;!=&quot;:return Z(e,r,n);case&quot;&gt;&quot;:return X(e,r,n);case&quot;&gt;=&quot;:return ee(e,r,n);case&quot;&lt;&quot;:return Q(e,r,n);case&quot;&lt;=&quot;:return te(e,r,n);default:throw new TypeError(&quot;Invalid operator: &quot;+t)}}function ne(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r(&quot;comparator&quot;,e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value=&quot;&quot;:this.value=this.operator+this.semver.version,r(&quot;comp&quot;,this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=Y,e.compareLoose=function(e,t){return Y(e,t,!0)},e.rcompare=function(e,t,r){return Y(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=X,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var ie={};function oe(e,t){if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&amp;&amp;e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError(&quot;Invalid SemVer Range: &quot;+e);this.format()}function se(e){return!e||&quot;x&quot;===e.toLowerCase()||&quot;*&quot;===e}function ae(e,t,r,n,i,o,s,a,c,l,p,u,d){return((t=se(r)?&quot;&quot;:se(n)?&quot;&gt;=&quot;+r+&quot;.0.0&quot;:se(i)?&quot;&gt;=&quot;+r+&quot;.&quot;+n+&quot;.0&quot;:&quot;&gt;=&quot;+t)+&quot; &quot;+(a=se(c)?&quot;&quot;:se(l)?&quot;&lt;&quot;+(+c+1)+&quot;.0.0&quot;:se(p)?&quot;&lt;&quot;+c+&quot;.&quot;+(+l+1)+&quot;.0&quot;:u?&quot;&lt;=&quot;+c+&quot;.&quot;+l+&quot;.&quot;+p+&quot;-&quot;+u:&quot;&lt;=&quot;+a)).trim()}function ce(e,t,n){for(var i=0;i&lt;e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&amp;&amp;!n.includePrerelease){for(i=0;i&lt;e.length;i++)if(r(e[i].semver),e[i].semver!==ie&amp;&amp;e[i].semver.prerelease.length&gt;0){var o=e[i].semver;if(o.major===t.major&amp;&amp;o.minor===t.minor&amp;&amp;o.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function pe(e,t,r,n){var i,o,s,a,c;switch(e=new W(e,n),t=new oe(t,n),r){case&quot;&gt;&quot;:i=X,o=te,s=Q,a=&quot;&gt;&quot;,c=&quot;&gt;=&quot;;break;case&quot;&lt;&quot;:i=Q,o=ee,s=X,a=&quot;&lt;&quot;,c=&quot;&lt;=&quot;;break;default:throw new TypeError('Must provide a hilo val of &quot;&lt;&quot; or &quot;&gt;&quot;')}if(le(e,t,n))return!1;for(var l=0;l&lt;t.set.length;++l){var p=t.set[l],u=null,d=null;if(p.forEach((function(e){e.semver===ie&amp;&amp;(e=new ne(&quot;&gt;=0.0.0&quot;)),u=u||e,d=d||e,i(e.semver,u.semver,n)?u=e:s(e.semver,d.semver,n)&amp;&amp;(d=e)})),u.operator===a||u.operator===c||(!d.operator||d.operator===a)&amp;&amp;o(e,d.semver))return!1;if(d.operator===c&amp;&amp;s(e,d.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[U]:i[F],r=e.match(t);if(!r)throw new TypeError(&quot;Invalid comparator: &quot;+e);this.operator=r[1],&quot;=&quot;===this.operator&amp;&amp;(this.operator=&quot;&quot;),r[2]?this.semver=new W(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r(&quot;Comparator.test&quot;,e,this.options.loose),this.semver===ie||(&quot;string&quot;==typeof e&amp;&amp;(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError(&quot;a Comparator is required&quot;);var r;if((!t||&quot;object&quot;!=typeof t)&amp;&amp;(t={loose:!!t,includePrerelease:!1}),&quot;&quot;===this.operator)return r=new oe(e.value,t),le(this.value,r,t);if(&quot;&quot;===e.operator)return r=new oe(this.value,t),le(e.semver,r,t);var n=!(&quot;&gt;=&quot;!==this.operator&amp;&amp;&quot;&gt;&quot;!==this.operator||&quot;&gt;=&quot;!==e.operator&amp;&amp;&quot;&gt;&quot;!==e.operator),i=!(&quot;&lt;=&quot;!==this.operator&amp;&amp;&quot;&lt;&quot;!==this.operator||&quot;&lt;=&quot;!==e.operator&amp;&amp;&quot;&lt;&quot;!==e.operator),o=this.semver.version===e.semver.version,s=!(&quot;&gt;=&quot;!==this.operator&amp;&amp;&quot;&lt;=&quot;!==this.operator||&quot;&gt;=&quot;!==e.operator&amp;&amp;&quot;&lt;=&quot;!==e.operator),a=re(this.semver,&quot;&lt;&quot;,e.semver,t)&amp;&amp;(&quot;&gt;=&quot;===this.operator||&quot;&gt;&quot;===this.operator)&amp;&amp;(&quot;&lt;=&quot;===e.operator||&quot;&lt;&quot;===e.operator),c=re(this.semver,&quot;&gt;&quot;,e.semver,t)&amp;&amp;(&quot;&lt;=&quot;===this.operator||&quot;&lt;&quot;===this.operator)&amp;&amp;(&quot;&gt;=&quot;===e.operator||&quot;&gt;&quot;===e.operator);return n||i||o&amp;&amp;s||a||c},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(&quot; &quot;).trim()})).join(&quot;||&quot;).trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[G]:i[H];e=e.replace(n,ae),r(&quot;hyphen replace&quot;,e),e=e.replace(i[B],&quot;$1$2$3&quot;),r(&quot;comparator trim&quot;,e,i[B]),e=(e=(e=e.replace(i[R],&quot;$1~&quot;)).replace(i[M],&quot;$1^&quot;)).split(/\s+/).join(&quot; &quot;);var o=t?i[U]:i[F],s=e.split(&quot; &quot;).map((function(e){return function(e,t){return r(&quot;comp&quot;,e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r(&quot;caret&quot;,e,t);var n=t.loose?i[j]:i[L];return e.replace(n,(function(t,n,i,o,s){var a;return r(&quot;caret&quot;,e,t,n,i,o,s),se(n)?a=&quot;&quot;:se(i)?a=&quot;&gt;=&quot;+n+&quot;.0.0 &lt;&quot;+(+n+1)+&quot;.0.0&quot;:se(o)?a=&quot;0&quot;===n?&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.0 &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.0 &lt;&quot;+(+n+1)+&quot;.0.0&quot;:s?(r(&quot;replaceCaret pr&quot;,s),a=&quot;0&quot;===n?&quot;0&quot;===i?&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+n+&quot;.&quot;+i+&quot;.&quot;+(+o+1):&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+(+n+1)+&quot;.0.0&quot;):(r(&quot;no pr&quot;),a=&quot;0&quot;===n?&quot;0&quot;===i?&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+n+&quot;.&quot;+i+&quot;.&quot;+(+o+1):&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+(+n+1)+&quot;.0.0&quot;),r(&quot;caret return&quot;,a),a}))}(e,t)})).join(&quot; &quot;)}(e,t),r(&quot;caret&quot;,e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[N]:i[k];return e.replace(n,(function(t,n,i,o,s){var a;return r(&quot;tilde&quot;,e,t,n,i,o,s),se(n)?a=&quot;&quot;:se(i)?a=&quot;&gt;=&quot;+n+&quot;.0.0 &lt;&quot;+(+n+1)+&quot;.0.0&quot;:se(o)?a=&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.0 &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;:s?(r(&quot;replaceTilde pr&quot;,s),a=&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot;-&quot;+s+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;):a=&quot;&gt;=&quot;+n+&quot;.&quot;+i+&quot;.&quot;+o+&quot; &lt;&quot;+n+&quot;.&quot;+(+i+1)+&quot;.0&quot;,r(&quot;tilde return&quot;,a),a}))}(e,t)})).join(&quot; &quot;)}(e,t),r(&quot;tildes&quot;,e),e=function(e,t){return r(&quot;replaceXRanges&quot;,e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[A]:i[C];return e.replace(n,(function(t,n,i,o,s,a){r(&quot;xRange&quot;,e,t,n,i,o,s,a);var c=se(i),l=c||se(o),p=l||se(s);return&quot;=&quot;===n&amp;&amp;p&amp;&amp;(n=&quot;&quot;),c?t=&quot;&gt;&quot;===n||&quot;&lt;&quot;===n?&quot;&lt;0.0.0&quot;:&quot;*&quot;:n&amp;&amp;p?(l&amp;&amp;(o=0),s=0,&quot;&gt;&quot;===n?(n=&quot;&gt;=&quot;,l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):&quot;&lt;=&quot;===n&amp;&amp;(n=&quot;&lt;&quot;,l?i=+i+1:o=+o+1),t=n+i+&quot;.&quot;+o+&quot;.&quot;+s):l?t=&quot;&gt;=&quot;+i+&quot;.0.0 &lt;&quot;+(+i+1)+&quot;.0.0&quot;:p&amp;&amp;(t=&quot;&gt;=&quot;+i+&quot;.&quot;+o+&quot;.0 &lt;&quot;+i+&quot;.&quot;+(+o+1)+&quot;.0&quot;),r(&quot;xRange return&quot;,t),t}))}(e,t)})).join(&quot; &quot;)}(e,t),r(&quot;xrange&quot;,e),e=function(e,t){return r(&quot;replaceStars&quot;,e,t),e.trim().replace(i[V],&quot;&quot;)}(e,t),r(&quot;stars&quot;,e),e}(e,this.options)}),this).join(&quot; &quot;).split(/\s+/);return this.options.loose&amp;&amp;(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError(&quot;a Range is required&quot;);return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(&quot; &quot;).trim().split(&quot; &quot;)}))},oe.prototype.test=function(e){if(!e)return!1;&quot;string&quot;==typeof e&amp;&amp;(e=new W(e,this.options));for(var t=0;t&lt;this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=le,e.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&amp;&amp;(!n||-1===i.compare(e))&amp;&amp;(i=new W(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&amp;&amp;(!n||1===i.compare(e))&amp;&amp;(i=new W(n=e,r))})),n},e.minVersion=function(e,t){e=new oe(e,t);var r=new W(&quot;0.0.0&quot;);if(e.test(r)||(r=new W(&quot;0.0.0-0&quot;),e.test(r)))return r;r=null;for(var n=0;n&lt;e.set.length;++n)e.set[n].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case&quot;&gt;&quot;:0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case&quot;&quot;:case&quot;&gt;=&quot;:(!r||X(r,t))&amp;&amp;(r=t);break;case&quot;&lt;&quot;:case&quot;&lt;=&quot;:break;default:throw new Error(&quot;Unexpected operation: &quot;+e.operator)}}));return r&amp;&amp;e.test(r)?r:null},e.validRange=function(e,t){try{return new oe(e,t).range||&quot;*&quot;}catch(e){return null}},e.ltr=function(e,t,r){return pe(e,t,&quot;&lt;&quot;,r)},e.gtr=function(e,t,r){return pe(e,t,&quot;&gt;&quot;,r)},e.outside=pe,e.prerelease=function(e,t){var r=$(e,t);return r&amp;&amp;r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if(&quot;string&quot;!=typeof e)return null;var t=e.match(i[I]);return null==t?null:$(t[1]+&quot;.&quot;+(t[2]||&quot;0&quot;)+&quot;.&quot;+(t[3]||&quot;0&quot;))}})),ln=f(((e,t)=&gt;{var r,n,i,o,s,a=Wr().wrap,c=[],l=0,p=!1,u=[];function d(e,t){var r=e.length,n=t.length,i=[];if(0===r&amp;&amp;0===n)return i;for(var o=0;o&lt;r;o++)i[o]=e[o];if(0===n)return i;for(var s=0;s&lt;n;s++){var a=!0;for(o=0;o&lt;r;o++)if(e[o].uid===t[s].uid){a=!1;break}a&amp;&amp;i.push(t[s])}return i}function h(e,t){&quot;function&quot;==typeof e.create&amp;&amp;(this.create=e.create,this.flags|=1),&quot;function&quot;==typeof e.before&amp;&amp;(this.before=e.before,this.flags|=2),&quot;function&quot;==typeof e.after&amp;&amp;(this.after=e.after,this.flags|=4),&quot;function&quot;==typeof e.error&amp;&amp;(this.error=e.error,this.flags|=8),this.uid=++l,this.data=void 0===t?null:t}function f(e,t){if(&quot;object&quot;!=typeof e||!e)throw new TypeError(&quot;callbacks argument must be an object&quot;);return e instanceof h?e:new h(e,t)}process._fatalException?(i=!1,r=function(e){var t=c.length;if(i||0===t)return!1;var r=!1;i=!0;for(var n=0;n&lt;t;++n){var s=c[n];if(0!=(8&amp;s.flags)){var a=o&amp;&amp;o[s.uid];r=s.error(a,e)||r}}return i=!1,u.length&gt;0&amp;&amp;(c=u.pop()),o=void 0,r&amp;&amp;!p},n=function(e,t,r){var n=[];p=!0;for(var i=0;i&lt;r;++i){var s=t[i];if(n[s.uid]=s.data,0!=(1&amp;s.flags)){var a=s.create(s.data);void 0!==a&amp;&amp;(n[s.uid]=a)}}return p=!1,function(){o=n,u.push(c),c=d(t,c),p=!0;for(var i=0;i&lt;r;++i)(2&amp;t[i].flags)&gt;0&amp;&amp;t[i].before(this,n[t[i].uid]);p=!1;var s=e.apply(this,arguments);for(p=!0,i=0;i&lt;r;++i)(4&amp;t[i].flags)&gt;0&amp;&amp;t[i].after(this,n[t[i].uid]);return p=!1,c=u.pop(),o=void 0,s}},a(process,&quot;_fatalException&quot;,(function(e){return function(t){return r(t)||e(t)}}))):(s=!1,r=function(e){if(s)throw e;for(var t=!1,r=c.length,n=0;n&lt;r;++n){var i=c[n];0!=(8&amp;i.flags)&amp;&amp;(t=i.error(null,e)||t)}if(!t&amp;&amp;p)throw e},n=function(e,t,n){var i=[];p=!0;for(var o=0;o&lt;n;++o){var a=t[o];if(i[a.uid]=a.data,0!=(1&amp;a.flags)){var l=a.create(a.data);void 0!==l&amp;&amp;(i[a.uid]=l)}}return p=!1,function(){var o,a=!1,l=!1;u.push(c),c=d(t,c),p=!0;for(var h=0;h&lt;n;++h)(2&amp;t[h].flags)&gt;0&amp;&amp;t[h].before(this,i[t[h].uid]);p=!1;try{o=e.apply(this,arguments)}catch(e){for(a=!0,h=0;h&lt;n;++h)if(0!=(8&amp;c[h].flags))try{l=c[h].error(i[t[h].uid],e)||l}catch(e){throw s=!0,e}if(!l)throw process.removeListener(&quot;uncaughtException&quot;,r),process._originalNextTick((function(){process.addListener(&quot;uncaughtException&quot;,r)})),e}finally{if(!a||l){for(p=!0,h=0;h&lt;n;++h)(4&amp;t[h].flags)&gt;0&amp;&amp;t[h].after(this,i[t[h].uid]);p=!1}c=u.pop()}return o}},process.addListener(&quot;uncaughtException&quot;,r)),h.prototype.create=void 0,h.prototype.before=void 0,h.prototype.after=void 0,h.prototype.error=void 0,h.prototype.data=void 0,h.prototype.uid=0,h.prototype.flags=0,process.createAsyncListener=f,process.addAsyncListener=function(e,t){var r;r=e instanceof h?e:f(e,t);for(var n=!1,i=0;i&lt;c.length;i++)if(r===c[i]){n=!0;break}return n||c.push(r),r},process.removeAsyncListener=function(e){for(var t=0;t&lt;c.length;t++)if(e===c[t]){c.splice(t,1);break}},t.exports=function(e){var t=c.length;if(0===t)return e;for(var r=c.slice(),i=0;i&lt;t;++i)if(r[i].flags&gt;0)return n(e,r,t);return function(e,t,r){p=!0;for(var n=0;n&lt;r;++n){var i=t[n];i.create&amp;&amp;i.create(i.data)}return p=!1,function(){u.push(c),c=d(t,c);var r=e.apply(this,arguments);return c=u.pop(),r}}(e,r,t)}})),pn=f(((e,t)=&gt;{&quot;use strict&quot;;t.exports=(e,t)=&gt;class extends e{constructor(e){var r,n;super((function(e,o){r=this,n=[function(r){return t(i,!1),e(r)},function(e){return t(i,!1),o(e)}]}));var i=this;try{e.apply(r,n)}catch(e){n[1](e)}return i}}})),un=f((()=&gt;{&quot;use strict&quot;;if(process.addAsyncListener)throw new Error(&quot;Don't require polyfill unless needed&quot;);var e=Wr(),t=cn(),n=e.wrap,i=e.massWrap,o=ln(),s=r(3837),a=t.gte(process.version,&quot;6.0.0&quot;),c=t.gte(process.version,&quot;7.0.0&quot;),l=t.gte(process.version,&quot;8.0.0&quot;),p=t.gte(process.version,&quot;11.0.0&quot;),u=r(1808);function d(e){return function(){this.on(&quot;connection&quot;,(function(e){e._handle&amp;&amp;(e._handle.onread=o(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&amp;&amp;this._handle.onconnection&amp;&amp;(this._handle.onconnection=o(this._handle.onconnection))}}}function h(e){if(e&amp;&amp;e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=o(t._originalOnread)}}c&amp;&amp;!u._normalizeArgs?u._normalizeArgs=function(e){if(0===e.length)return[{},null];var t=e[0],r={};&quot;object&quot;==typeof t&amp;&amp;null!==t?r=t:function(e){return&quot;string&quot;==typeof e&amp;&amp;!1===function(e){return(e=Number(e))&gt;=0&amp;&amp;e}(e)}(t)?r.path=t:(r.port=t,e.length&gt;1&amp;&amp;&quot;string&quot;==typeof e[1]&amp;&amp;(r.host=e[1]));var n=e[e.length-1];return&quot;function&quot;!=typeof n?[r,null]:[r,n]}:!c&amp;&amp;!u._normalizeConnectArgs&amp;&amp;(u._normalizeConnectArgs=function(e){var t,r={};&quot;object&quot;==typeof e[0]&amp;&amp;null!==e[0]?r=e[0]:&quot;string&quot;==typeof e[0]&amp;&amp;!1===(t=e[0],(t=Number(t))&gt;=0&amp;&amp;t)?r.path=e[0]:(r.port=e[0],&quot;string&quot;==typeof e[1]&amp;&amp;(r.host=e[1]));var n=e[e.length-1];return&quot;function&quot;==typeof n?[r,n]:[r]}),&quot;_setUpListenHandle&quot;in u.Server.prototype?n(u.Server.prototype,&quot;_setUpListenHandle&quot;,d):n(u.Server.prototype,&quot;_listen2&quot;,d),n(u.Socket.prototype,&quot;connect&quot;,(function(e){return function(){var t;(t=l&amp;&amp;Array.isArray(arguments[0])&amp;&amp;Object.getOwnPropertySymbols(arguments[0]).length&gt;0?arguments[0]:c?u._normalizeArgs(arguments):u._normalizeConnectArgs(arguments))[1]&amp;&amp;(t[1]=o(t[1]));var r=e.apply(this,t);return h(this),r}}));var f=r(3685);n(f.Agent.prototype,&quot;addRequest&quot;,(function(e){return function(t){var r=t.onSocket;return t.onSocket=o((function(e){return h(e),r.apply(this,arguments)})),e.apply(this,arguments)}}));var v=r(2081);function _(e){Array.isArray(e.stdio)&amp;&amp;e.stdio.forEach((function(e){e&amp;&amp;e._handle&amp;&amp;(e._handle.onread=o(e._handle.onread),n(e._handle,&quot;close&quot;,O))})),e._handle&amp;&amp;(e._handle.onexit=o(e._handle.onexit))}v.ChildProcess?n(v.ChildProcess.prototype,&quot;spawn&quot;,(function(e){return function(){var t=e.apply(this,arguments);return _(this),t}})):i(v,[&quot;execFile&quot;,&quot;fork&quot;,&quot;spawn&quot;],(function(e){return function(){var t=e.apply(this,arguments);return _(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var m=[];process._nextDomainTick&amp;&amp;m.push(&quot;_nextDomainTick&quot;),process._tickDomainCallback&amp;&amp;m.push(&quot;_tickDomainCallback&quot;),i(process,m,I),n(process,&quot;nextTick&quot;,O);var g=[&quot;setTimeout&quot;,&quot;setInterval&quot;];global.setImmediate&amp;&amp;g.push(&quot;setImmediate&quot;);var y=r(9512),E=global.setTimeout===y.setTimeout;i(y,g,O),E&amp;&amp;i(global,g,O);var b=r(9523);i(b,[&quot;lookup&quot;,&quot;resolve&quot;,&quot;resolve4&quot;,&quot;resolve6&quot;,&quot;resolveCname&quot;,&quot;resolveMx&quot;,&quot;resolveNs&quot;,&quot;resolveTxt&quot;,&quot;resolveSrv&quot;,&quot;reverse&quot;],I),b.resolveNaptr&amp;&amp;n(b,&quot;resolveNaptr&quot;,I);var S,w,T,x=r(7147);i(x,[&quot;watch&quot;,&quot;rename&quot;,&quot;truncate&quot;,&quot;chown&quot;,&quot;fchown&quot;,&quot;chmod&quot;,&quot;fchmod&quot;,&quot;stat&quot;,&quot;lstat&quot;,&quot;fstat&quot;,&quot;link&quot;,&quot;symlink&quot;,&quot;readlink&quot;,&quot;realpath&quot;,&quot;unlink&quot;,&quot;rmdir&quot;,&quot;mkdir&quot;,&quot;readdir&quot;,&quot;close&quot;,&quot;open&quot;,&quot;utimes&quot;,&quot;futimes&quot;,&quot;fsync&quot;,&quot;write&quot;,&quot;read&quot;,&quot;readFile&quot;,&quot;writeFile&quot;,&quot;appendFile&quot;,&quot;watchFile&quot;,&quot;unwatchFile&quot;,&quot;exists&quot;],I),x.lchown&amp;&amp;n(x,&quot;lchown&quot;,I),x.lchmod&amp;&amp;n(x,&quot;lchmod&quot;,I),x.ftruncate&amp;&amp;n(x,&quot;ftruncate&quot;,I);try{S=r(9796)}catch(e){}S&amp;&amp;S.Deflate&amp;&amp;S.Deflate.prototype&amp;&amp;((w=Object.getPrototypeOf(S.Deflate.prototype))._transform?n(w,&quot;_transform&quot;,I):w.write&amp;&amp;w.flush&amp;&amp;w.end&amp;&amp;i(w,[&quot;write&quot;,&quot;flush&quot;,&quot;end&quot;],I));try{T=r(6113)}catch(e){}T&amp;&amp;(P=[&quot;pbkdf2&quot;,&quot;randomBytes&quot;],p||P.push(&quot;pseudoRandomBytes&quot;),i(T,P,I));var P,C,A=!!global.Promise&amp;&amp;&quot;function Promise() { [native code] }&quot;===Promise.toString()&amp;&amp;&quot;function toString() { [native code] }&quot;===Promise.toString.toString();function I(e){var t=function(){var t,r=arguments.length-1;if(&quot;function&quot;==typeof arguments[r]){t=Array(arguments.length);for(var n=0;n&lt;arguments.length-1;n++)t[n]=arguments[n];t[r]=o(arguments[r])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof r&amp;&amp;(r=o(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof n&amp;&amp;(n=o(n)),e.call(this,r,n))};case 3:return function(r,n,i){return 3!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof i&amp;&amp;(i=o(i)),e.call(this,r,n,i))};case 4:return function(r,n,i,s){return 4!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof s&amp;&amp;(s=o(s)),e.call(this,r,n,i,s))};case 5:return function(r,n,i,s,a){return 5!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof a&amp;&amp;(a=o(a)),e.call(this,r,n,i,s,a))};case 6:return function(r,n,i,s,a,c){return 6!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof c&amp;&amp;(c=o(c)),e.call(this,r,n,i,s,a,c))};default:return t}}function O(e){var t=function(){var t;if(&quot;function&quot;==typeof arguments[0]){(t=Array(arguments.length))[0]=o(arguments[0]);for(var r=1;r&lt;arguments.length;r++)t[r]=arguments[r]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof r&amp;&amp;(r=o(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof r&amp;&amp;(r=o(r)),e.call(this,r,n))};case 3:return function(r,n,i){return 3!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof r&amp;&amp;(r=o(r)),e.call(this,r,n,i))};case 4:return function(r,n,i,s){return 4!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof r&amp;&amp;(r=o(r)),e.call(this,r,n,i,s))};case 5:return function(r,n,i,s,a){return 5!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof r&amp;&amp;(r=o(r)),e.call(this,r,n,i,s,a))};case 6:return function(r,n,i,s,a,c){return 6!==arguments.length?t.apply(this,arguments):(&quot;function&quot;==typeof r&amp;&amp;(r=o(r)),e.call(this,r,n,i,s,a,c))};default:return t}}A&amp;&amp;(C=process.addAsyncListener({create:function(){A=!1}}),global.Promise.resolve(!0).then((function(){A=!1})),process.removeAsyncListener(C)),A&amp;&amp;function(){var e=global.Promise;function t(n){if(!(this instanceof t))return e(n);if(&quot;function&quot;!=typeof n)return new e(n);var i,o,s=new e((function(e,t){i=this,o=[function(t){return r(s,!1),e(t)},function(e){return r(s,!1),t(e)}]}));s.__proto__=t.prototype;try{n.apply(i,o)}catch(e){o[1](e)}return s}function r(e,t){(!e.__asl_wrapper||t)&amp;&amp;(e.__asl_wrapper=o(i))}function i(t,n,o,s){var a;try{return{returnVal:a=n.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){var e=a.__asl_wrapper||i;return e.apply(this,arguments)}:r(s,!0)}}function c(e){return function(){var t=this,r=e.apply(t,Array.prototype.map.call(arguments,n));return r.__asl_wrapper=function(e,n,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,r),r.__asl_wrapper(e,n,o,s)):i(e,n,o,s)},r;function n(e){return&quot;function&quot;!=typeof e?e:o((function(n){var o=(t.__asl_wrapper||i)(this,e,n,r);if(o.error)throw o.errorVal;return o.returnVal}))}}}s.inherits(t,e),n(e.prototype,&quot;then&quot;,c),e.prototype.chain&amp;&amp;n(e.prototype,&quot;chain&quot;,c),a?global.Promise=pn()(e,r):([&quot;all&quot;,&quot;race&quot;,&quot;reject&quot;,&quot;resolve&quot;,&quot;accept&quot;,&quot;defer&quot;].forEach((function(r){&quot;function&quot;==typeof e[r]&amp;&amp;(t[r]=e[r])})),global.Promise=t)}()})),dn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=r(9491),i=zr(),o=&quot;cls@contexts&quot;,s=&quot;error@context&quot;;function a(e){this.name=e,this.active=null,this._set=[],this.id=null}function c(e){return process.namespaces[e]}function l(e){var t=c(e);n.ok(t,&quot;can't delete nonexistent namespace!&quot;),n.ok(t.id,&quot;don't assign to process.namespaces directly!&quot;),process.removeAsyncListener(t.id),process.namespaces[e]=null}function p(){process.namespaces&amp;&amp;Object.keys(process.namespaces).forEach((function(e){l(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||un(),a.prototype.set=function(e,t){if(!this.active)throw new Error(&quot;No context available. ns.run() or ns.bind() must be called first.&quot;);return this.active[e]=t,t},a.prototype.get=function(e){if(this.active)return this.active[e]},a.prototype.createContext=function(){return Object.create(this.active)},a.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&amp;&amp;(e[s]=t),e}finally{this.exit(t)}},a.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},a.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&amp;&amp;(e[s]=t),e}finally{r.exit(t)}}},a.prototype.enter=function(e){n.ok(e,&quot;context must be provided for entering&quot;),this._set.push(this.active),this.active=e},a.prototype.exit=function(e){if(n.ok(e,&quot;context must be provided for exiting&quot;),this.active===e)return n.ok(this._set.length,&quot;can't remove top context&quot;),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);n.ok(t&gt;=0,&quot;context not currently entered; can't exit&quot;),n.ok(t,&quot;can't remove top context&quot;),this._set.splice(t,1)},a.prototype.bindEmitter=function(e){n.ok(e.on&amp;&amp;e.addListener&amp;&amp;e.emit,&quot;can only bind real EEs&quot;);var t=this,r=&quot;context@&quot;+this.name;i(e,(function(e){!e||(e[o]||(e[o]=Object.create(null)),e[o][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[o])return e;var t=e,r=e[o];return Object.keys(r).forEach((function(e){var n=r[e];t=n.namespace.bind(t,n.context)})),t}))},a.prototype.fromException=function(e){return e[s]},process.namespaces||p(),t.exports={getNamespace:c,createNamespace:function(e){n.ok(e,&quot;namespace must be given a name!&quot;);var t=new a(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,r){r&amp;&amp;t.enter(r)},after:function(e,r){r&amp;&amp;t.exit(r)},error:function(e){e&amp;&amp;t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:l,reset:p}})),hn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.CorrelationContextManager=void 0;var t=_(),r=zt(),n=Qt(),i=Jt(),o=Vr(),s=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,r,n,i,o){return t=t||e,this.enabled?{operation:{name:r,id:e,parentId:t,traceparent:i,tracestate:o},customProperties:new a(n)}:null},e.spanToContextObject=function(t,r,i){var o=new n;return o.traceId=t.traceId,o.spanId=t.spanId,o.traceFlag=n.formatOpenTelemetryTraceFlags(t.traceFlags)||n.DEFAULT_TRACE_FLAG,o.parentId=r,e.generateContextObject(o.traceId,o.parentId,i,null,o)},e.runWithContext=function(t,r){var n;return e.enabled?e.session.bind(r,((n={})[e.CONTEXT_NAME]=t,n))():r()},e.wrapEmitter=function(t){e.enabled&amp;&amp;e.session.bindEmitter(t)},e.wrapCallback=function(t,r){var n;return e.enabled?e.session.bind(t,r?((n={})[e.CONTEXT_NAME]=r,n):void 0):t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible())return void(this.enabled=!1);e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&amp;&amp;(!0===e.forceClsHooked||void 0===e.forceClsHooked&amp;&amp;e.shouldUseClsHooked()?this.cls=an():this.cls=dn()),e.session=this.cls.createNamespace(&quot;AI-CLS-Session&quot;),r.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0}},e.startOperation=function(r,s){var a=r&amp;&amp;r.traceContext||null,c=r&amp;&amp;r.traceId?r:null,l=r&amp;&amp;r.headers;if(c){var p=new n(&quot;00-&quot;+c.traceId+&quot;-&quot;+c.spanId+&quot;-01&quot;),u=new i(c.traceState?c.traceState.serialize():null);return e.generateContextObject(c.traceId,&quot;|&quot;+c.traceId+&quot;.&quot;+c.spanId+&quot;.&quot;,&quot;string&quot;==typeof s?s:&quot;&quot;,void 0,p,u)}if(a){p=new n(a.traceparent),u=new i(a.tracestate);var d=&quot;object&quot;==typeof s?new o(s):null;return e.generateContextObject(p.traceId,p.parentId,&quot;string&quot;==typeof s?s:d.getOperationName({}),d&amp;&amp;d.getCorrelationContextHeader()||void 0,p,u)}return l?(p=new n(l.traceparent?l.traceparent.toString():null),u=new i(l.tracestate?l.tracestate.toString():null),d=new o(r),e.generateContextObject(p.traceId,p.parentId,d.getOperationName({}),d.getCorrelationContextHeader(),p,u)):(t.warn(&quot;startOperation was called with invalid arguments&quot;,arguments),null)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&amp;&amp;(e.session=null,e.session=this.cls.createNamespace(&quot;AI-CLS-Session&quot;))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(&quot;.&quot;);return parseInt(e[0])&gt;3||parseInt(e[0])&gt;2&amp;&amp;parseInt(e[1])&gt;2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(&quot;.&quot;);return parseInt(e[0])&gt;8||parseInt(e[0])&gt;=8&amp;&amp;parseInt(e[1])&gt;=2},e.canUseClsHooked=function(){var e=process.versions.node.split(&quot;.&quot;),t=parseInt(e[0])&gt;8||parseInt(e[0])&gt;=8&amp;&amp;parseInt(e[1])&gt;=0,r=parseInt(e[0])&lt;8||parseInt(e[0])&lt;=8&amp;&amp;parseInt(e[1])&lt;2,n=parseInt(e[0])&gt;4||parseInt(e[0])&gt;=4&amp;&amp;parseInt(e[1])&gt;=7;return!(t&amp;&amp;r)&amp;&amp;n},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME=&quot;ApplicationInsights-Context&quot;,e}();e.CorrelationContextManager=s;var a=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(&quot;, &quot;):[];this.props=t.map((function(e){var t=e.split(&quot;=&quot;);return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+&quot;=&quot;+e.value})).join(&quot;, &quot;)},e.prototype.getProperty=function(e){for(var t=0;t&lt;this.props.length;++t){var r=this.props[t];if(r.key===e)return r.value}},e.prototype.setProperty=function(r,n){if(e.bannedCharacters.test(r)||e.bannedCharacters.test(n))t.warn(&quot;Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: &quot;+r+&quot; and value: &quot;+n);else{for(var i=0;i&lt;this.props.length;++i){var o=this.props[i];if(o.key===r)return void(o.value=n)}this.props.push({key:r,value:n})}},e.bannedCharacters=/[,=]/,e}()})),fn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.dispose=e.enable=void 0;var t=Gr(),r=b(),n=[],i=function(e){var r=e.data.message;n.forEach((function(n){r instanceof Error?n.trackException({exception:r}):(r.lastIndexOf(&quot;\n&quot;)==r.length-1&amp;&amp;(r=r.substring(0,r.length-1)),n.trackTrace({message:r,severity:e.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))}))};e.enable=function(e,t){e?(0===n.length&amp;&amp;r.channel.subscribe(&quot;console&quot;,i),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&amp;&amp;r.channel.unsubscribe(&quot;console&quot;,i)},e.dispose=function(){r.channel.unsubscribe(&quot;console&quot;,i),n=[]}})),vn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.dispose=e.enable=void 0;var t=Gr(),r=b(),n=[],i={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},o=function(e){var t=e.data.result;n.forEach((function(r){var n=i[e.data.level];t instanceof Error?r.trackException({exception:t}):r.trackTrace({message:t,severity:n})}))};e.enable=function(e,t){e?(0===n.length&amp;&amp;r.channel.subscribe(&quot;bunyan&quot;,o),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&amp;&amp;r.channel.unsubscribe(&quot;bunyan&quot;,o)},e.dispose=function(){r.channel.unsubscribe(&quot;bunyan&quot;,o),n=[]}})),_n=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.dispose=e.enable=void 0;var t=Gr(),r=b(),n=[],i={syslog:function(e){var r={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return void 0===r[e]?t.SeverityLevel.Information:r[e]},npm:function(e){var r={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return void 0===r[e]?t.SeverityLevel.Information:r[e]},unknown:function(e){return t.SeverityLevel.Information}},o=function(e){var t=e.data.message;n.forEach((function(r){if(t instanceof Error)r.trackException({exception:t,properties:e.data.meta});else{var n=i[e.data.levelKind](e.data.level);r.trackTrace({message:t,severity:n,properties:e.data.meta})}}))};e.enable=function(e,t){e?(0===n.length&amp;&amp;r.channel.subscribe(&quot;winston&quot;,o),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&amp;&amp;r.channel.unsubscribe(&quot;winston&quot;,o)},e.dispose=function(){r.channel.unsubscribe(&quot;winston&quot;,o),n=[]}})),mn=f(((e,t)=&gt;{&quot;use strict&quot;;var r=zt(),n=function(){function e(t){if(e.INSTANCE)throw new Error(&quot;Console logging adapter tracking should be configured from the applicationInsights object&quot;);this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&amp;&amp;(fn().enable(e&amp;&amp;t,this._client),vn().enable(e,this._client),_n().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=[&quot;debug&quot;,&quot;info&quot;,&quot;log&quot;,&quot;warn&quot;,&quot;error&quot;],e}();t.exports=n})),gn=f(((e,t)=&gt;{&quot;use strict&quot;;var r=function(){function e(t){if(e.INSTANCE)throw new Error(&quot;Exception tracking should be configured from the applicationInsights object&quot;);e.INSTANCE=this,this._client=t;var r=process.versions.node.split(&quot;.&quot;);e._canUseUncaughtExceptionMonitor=parseInt(r[0])&gt;13||13===parseInt(r[0])&amp;&amp;parseInt(r[1])&gt;=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var n=function(t,n,i){void 0===i&amp;&amp;(i=new Error(e._FALLBACK_ERROR_MESSAGE)),r._client.trackException({exception:i}),r._client.flush({isAppCrashing:!0}),t&amp;&amp;n&amp;&amp;1===process.listeners(n).length&amp;&amp;(console.error(i),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&amp;&amp;(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME=&quot;uncaughtExceptionMonitor&quot;,e.UNCAUGHT_EXCEPTION_HANDLER_NAME=&quot;uncaughtException&quot;,e.UNHANDLED_REJECTION_HANDLER_NAME=&quot;unhandledRejection&quot;,e._RETHROW_EXIT_MESSAGE=&quot;Application Insights Rethrow Exception Handler&quot;,e._FALLBACK_ERROR_MESSAGE=&quot;A promise was rejected without providing an error. Application Insights generated this error stack for you.&quot;,e._canUseUncaughtExceptionMonitor=!1,e}();t.exports=r})),yn=f((e=&gt;{&quot;use strict&quot;;var t,r,n,i;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT=&quot;https://dc.services.visualstudio.com&quot;,e.DEFAULT_LIVEMETRICS_ENDPOINT=&quot;https://rt.services.visualstudio.com&quot;,e.DEFAULT_LIVEMETRICS_HOST=&quot;rt.services.visualstudio.com&quot;,(n=r=e.QuickPulseCounter||(e.QuickPulseCounter={})).COMMITTED_BYTES=&quot;\\Memory\\Committed Bytes&quot;,n.PROCESSOR_TIME=&quot;\\Processor(_Total)\\% Processor Time&quot;,n.REQUEST_RATE=&quot;\\ApplicationInsights\\Requests/Sec&quot;,n.REQUEST_FAILURE_RATE=&quot;\\ApplicationInsights\\Requests Failed/Sec&quot;,n.REQUEST_DURATION=&quot;\\ApplicationInsights\\Request Duration&quot;,n.DEPENDENCY_RATE=&quot;\\ApplicationInsights\\Dependency Calls/Sec&quot;,n.DEPENDENCY_FAILURE_RATE=&quot;\\ApplicationInsights\\Dependency Calls Failed/Sec&quot;,n.DEPENDENCY_DURATION=&quot;\\ApplicationInsights\\Dependency Call Duration&quot;,n.EXCEPTION_RATE=&quot;\\ApplicationInsights\\Exceptions/Sec&quot;,function(e){e.PRIVATE_BYTES=&quot;\\Process(??APP_WIN32_PROC??)\\Private Bytes&quot;,e.AVAILABLE_BYTES=&quot;\\Memory\\Available Bytes&quot;,e.PROCESSOR_TIME=&quot;\\Processor(_Total)\\% Processor Time&quot;,e.PROCESS_TIME=&quot;\\Process(??APP_WIN32_PROC??)\\% Processor Time&quot;,e.REQUEST_RATE=&quot;\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec&quot;,e.REQUEST_DURATION=&quot;\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time&quot;}(i=e.PerformanceCounter||(e.PerformanceCounter={})),function(e){e.REQUESTS_DURATION=&quot;requests/duration&quot;,e.DEPENDENCIES_DURATION=&quot;dependencies/duration&quot;,e.EXCEPTIONS_COUNT=&quot;exceptions/count&quot;,e.TRACES_COUNT=&quot;traces/count&quot;}(e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=((t={})[i.PROCESSOR_TIME]=r.PROCESSOR_TIME,t[i.REQUEST_RATE]=r.REQUEST_RATE,t[i.REQUEST_DURATION]=r.REQUEST_DURATION,t[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,t[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,t[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,t[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,t[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,t[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:&quot;Event&quot;,Exception:&quot;Exception&quot;,Trace:&quot;Trace&quot;,Metric:&quot;Metric&quot;,Request:&quot;Request&quot;,Dependency:&quot;RemoteDependency&quot;,Availability:&quot;Availability&quot;,PageView:&quot;PageView&quot;},e.QuickPulseType={Event:&quot;EventTelemetryDocument&quot;,Exception:&quot;ExceptionTelemetryDocument&quot;,Trace:&quot;TraceTelemetryDocument&quot;,Metric:&quot;MetricTelemetryDocument&quot;,Request:&quot;RequestTelemetryDocument&quot;,Dependency:&quot;DependencyTelemetryDocument&quot;,Availability:&quot;AvailabilityTelemetryDocument&quot;,PageView:&quot;PageViewTelemetryDocument&quot;},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:&quot;http.host&quot;,HttpMethod:&quot;http.method&quot;,HttpPort:&quot;http.port&quot;,HttpStatusCode:&quot;http.status_code&quot;,HttpUrl:&quot;http.url&quot;,HttpUserAgent:&quot;http.user_agent&quot;,GrpcMethod:&quot;grpc.method&quot;,GrpcService:&quot;rpc.service&quot;},e.DependencyTypeName={Grpc:&quot;GRPC&quot;,Http:&quot;HTTP&quot;,InProc:&quot;InProc&quot;},e.HeartBeatMetricName=&quot;HeartBeat&quot;})),En=f(((e,t)=&gt;{&quot;use strict&quot;;var n=r(2037),i=yn(),o=function(){function e(t,r,n){void 0===r&amp;&amp;(r=6e4),void 0===n&amp;&amp;(n=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return e.prototype.enable=function(t,r){var i=this;this._isEnabled=t,this._isEnabled&amp;&amp;!this._isInitialized&amp;&amp;(this._isInitialized=!0),t?this._handle||(this._lastCpus=n.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},&quot;function&quot;==typeof process.cpuUsage&amp;&amp;(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval((function(){return i.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&amp;&amp;(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,r){var n;if(e.isEnabled()){if(&quot;string&quot;==typeof t)n=+new Date(&quot;1970-01-01T&quot;+t+&quot;Z&quot;);else{if(&quot;number&quot;!=typeof t)return;n=t}e._intervalRequestExecutionTime+=n,!1===r&amp;&amp;e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,r){var n;if(e.isEnabled()){if(&quot;string&quot;==typeof t)n=+new Date(&quot;1970-01-01T&quot;+t+&quot;Z&quot;);else{if(&quot;number&quot;!=typeof t)return;n=t}e._intervalDependencyExecutionTime+=n,!1===r&amp;&amp;e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&amp;&amp;e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=n.cpus();if(e&amp;&amp;e.length&amp;&amp;this._lastCpus&amp;&amp;e.length===this._lastCpus.length){for(var t=0,r=0,o=0,s=0,a=0,c=0;e&amp;&amp;c&lt;e.length;c++){var l=e[c],p=this._lastCpus[c],u=(l.model,l.speed,l.times),d=p.times;t+=u.user-d.user||0,r+=u.sys-d.sys||0,o+=u.nice-d.nice||0,s+=u.idle-d.idle||0,a+=u.irq-d.irq||0}var h=void 0;if(&quot;function&quot;==typeof process.cpuUsage){var f=process.cpuUsage(),v=process.hrtime(),_=f.user-this._lastAppCpuUsage.user+(f.system-this._lastAppCpuUsage.system)||0;void 0!==this._lastHrtime&amp;&amp;2===this._lastHrtime.length&amp;&amp;(h=100*_/((1e6*(v[0]-this._lastHrtime[0])+(v[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=f,this._lastHrtime=v}var m=t+r+o+s+a||1;this._client.trackMetric({name:i.PerformanceCounter.PROCESSOR_TIME,value:(m-s)/m*100}),this._client.trackMetric({name:i.PerformanceCounter.PROCESS_TIME,value:h||t/m*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=n.freemem(),t=process.memoryUsage().rss,r=n.totalmem()-e;this._client.trackMetric({name:i.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:i.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&amp;&amp;this._client.trackMetric({name:i.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-t.totalRequestCount||0,o=r.totalFailedRequestCount-t.totalFailedRequestCount||0,s=r.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/n||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s&gt;0){var l=n/a,p=o/a;this._client.trackMetric({name:i.PerformanceCounter.REQUEST_RATE,value:l}),(!this._enableLiveMetricsCounters||n&gt;0)&amp;&amp;this._client.trackMetric({name:i.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&amp;&amp;this._client.trackMetric({name:i.QuickPulseCounter.REQUEST_FAILURE_RATE,value:p})}this._lastRequests=r},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,r={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-t.totalDependencyCount||0,o=r.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=r.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/n||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s&gt;0){var l=n/a,p=o/a;this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_RATE,value:l}),this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:p}),(!this._enableLiveMetricsCounters||n&gt;0)&amp;&amp;this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=r}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,r={totalExceptionCount:e._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-t.totalExceptionCount||0,o=r.time-t.time;if(o&gt;0){var s=n/(o/1e3);this._client.trackMetric({name:i.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=r}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();t.exports=o})),bn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.AggregatedMetricCounter=void 0;e.AggregatedMetricCounter=function(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}})),Sn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:&quot;cloud/roleInstance&quot;,cloudRoleName:&quot;cloud/roleName&quot;,operationSynthetic:&quot;operation/synthetic&quot;,requestSuccess:&quot;Request.Success&quot;,requestResultCode:&quot;request/resultCode&quot;,dependencyType:&quot;Dependency.Type&quot;,dependencyTarget:&quot;dependency/target&quot;,dependencySuccess:&quot;Dependency.Success&quot;,dependencyResultCode:&quot;dependency/resultCode&quot;,traceSeverityLevel:&quot;trace/severityLevel&quot;}})),wn=f(((e,t)=&gt;{&quot;use strict&quot;;var r=e&amp;&amp;e.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r&lt;n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e},r.apply(this,arguments)},n=yn(),i=bn(),o=Sn(),s=function(){function e(t,r){void 0===r&amp;&amp;(r=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=r}return e.prototype.enable=function(e,t){var r=this;this._isEnabled=e,this._isEnabled&amp;&amp;!this._isInitialized&amp;&amp;(this._isInitialized=!0),e?this._handle||(this._collectionInterval=t||this._collectionInterval,this._handle=setInterval((function(){return r.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&amp;&amp;(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){e.isEnabled()&amp;&amp;e._getAggregatedCounter(t,this._exceptionCountersCollection).totalCount++},e.countTrace=function(t){e.isEnabled()&amp;&amp;e._getAggregatedCounter(t,this._traceCountersCollection).totalCount++},e.countRequest=function(t,r){if(e.isEnabled()){var n,i=e._getAggregatedCounter(r,this._requestCountersCollection);if(&quot;string&quot;==typeof t)n=+new Date(&quot;1970-01-01T&quot;+t+&quot;Z&quot;);else{if(&quot;number&quot;!=typeof t)return;n=t}i.intervalExecutionTime+=n,i.totalCount++}},e.countDependency=function(t,r){if(e.isEnabled()){var n,i=e._getAggregatedCounter(r,this._dependencyCountersCollection);if(&quot;string&quot;==typeof t)n=+new Date(&quot;1970-01-01T&quot;+t+&quot;Z&quot;);else{if(&quot;number&quot;!=typeof t)return;n=t}i.intervalExecutionTime+=n,i.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&amp;&amp;e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(e,t){for(var r=!1,n=0;n&lt;t.length;n++){if(e===t[n].dimensions)return t[n];if(Object.keys(e).length===Object.keys(t[n].dimensions).length){for(var o in e)if(e[o]!=t[n].dimensions[o]){r=!0;break}if(!r)return t[n];r=!1}}var s=new i.AggregatedMetricCounter(e);return t.push(s),s},e.prototype._trackRequestMetrics=function(){for(var t=0;t&lt;e._requestCountersCollection.length;t++){var r=e._requestCountersCollection[t];r.time=+new Date;var i=r.totalCount-r.lastTotalCount||0,o=r.time-r.lastTime,s=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/i||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,o&gt;0&amp;&amp;i&gt;0&amp;&amp;this._trackPreAggregatedMetric({name:&quot;Server response time&quot;,dimensions:r.dimensions,value:s,count:i,aggregationInterval:o,metricType:n.MetricId.REQUESTS_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t&lt;e._dependencyCountersCollection.length;t++){var r=e._dependencyCountersCollection[t];r.time=+new Date;var i=r.totalCount-r.lastTotalCount||0,o=r.time-r.lastTime,s=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/i||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,o&gt;0&amp;&amp;i&gt;0&amp;&amp;this._trackPreAggregatedMetric({name:&quot;Dependency duration&quot;,dimensions:r.dimensions,value:s,count:i,aggregationInterval:o,metricType:n.MetricId.DEPENDENCIES_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t&lt;e._exceptionCountersCollection.length;t++){var r=e._exceptionCountersCollection[t],i=r.totalCount-r.lastTotalCount||0,o=r.time-r.lastTime;this._trackPreAggregatedMetric({name:&quot;Exceptions&quot;,dimensions:r.dimensions,value:i,count:i,aggregationInterval:o,metricType:n.MetricId.EXCEPTIONS_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t&lt;e._traceCountersCollection.length;t++){var r=e._traceCountersCollection[t],i=r.totalCount-r.lastTotalCount||0,o=r.time-r.lastTime;this._trackPreAggregatedMetric({name:&quot;Traces&quot;,dimensions:r.dimensions,value:i,count:i,aggregationInterval:o,metricType:n.MetricId.TRACES_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackPreAggregatedMetric=function(e){var t={};for(var n in e.dimensions)t[o.PreaggregatedMetricPropertyNames[n]]=e.dimensions[n];t=r(r({},t),{&quot;_MS.MetricId&quot;:e.metricType,&quot;_MS.AggregationIntervalMs&quot;:String(e.aggregationInterval),&quot;_MS.IsAutocollected&quot;:&quot;True&quot;});var i={name:e.name,value:e.value,count:e.count,properties:t,kind:&quot;Aggregation&quot;};this._client.trackMetric(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();t.exports=s})),Tn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=r(2037),i=r(7147),o=r(1017),s=Gr(),a=_(),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||o.resolve(__dirname,&quot;../../../../package.json&quot;),!e.appVersion[t]){e.appVersion[t]=&quot;unknown&quot;;try{var r=JSON.parse(i.readFileSync(t,&quot;utf8&quot;));r&amp;&amp;&quot;string&quot;==typeof r.version&amp;&amp;(e.appVersion[t]=r.version)}catch(e){a.info(&quot;unable to read app version: &quot;,e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]=&quot;&quot;,this.tags[this.keys.cloudRoleInstance]=n&amp;&amp;n.hostname(),this.tags[this.keys.deviceOSVersion]=n&amp;&amp;n.type()+&quot; &quot;+n.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags[&quot;ai.device.osArchitecture&quot;]=n&amp;&amp;n.arch(),this.tags[&quot;ai.device.osPlatform&quot;]=n&amp;&amp;n.platform()},e.prototype._loadInternalContext=function(){var t=o.resolve(__dirname,&quot;../../package.json&quot;);if(!e.sdkVersion){e.sdkVersion=&quot;unknown&quot;;try{var r=JSON.parse(i.readFileSync(t,&quot;utf8&quot;));r&amp;&amp;&quot;string&quot;==typeof r.version&amp;&amp;(e.sdkVersion=r.version)}catch(e){a.info(&quot;unable to read app version: &quot;,e)}}this.tags[this.keys.internalSdkVersion]=&quot;node:&quot;+e.sdkVersion},e.DefaultRoleName=&quot;Web&quot;,e.appVersion={},e.sdkVersion=null,e}();t.exports=c})),xn=f(((e,t)=&gt;{&quot;use strict&quot;;var n,i=e&amp;&amp;e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r(7310),s=Gr(),a=Yt(),c=Kt(),l=qr(),p=Xt(),u=function(e){function t(r,n){var i=e.call(this)||this;return n&amp;&amp;n.method&amp;&amp;r&amp;&amp;(i.method=n.method,i.url=t._getUrlFromRequestOptions(r,n),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var r=o.parse(this.url);r.search=void 0,r.hash=void 0;var n=this.method.toUpperCase()+&quot; &quot;+r.pathname,i=s.RemoteDependencyDataConstants.TYPE_HTTP,a=r.hostname;r.port&amp;&amp;(a+=&quot;:&quot;+r.port),this.correlationId?(i=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==p.correlationIdPrefix&amp;&amp;(a+=&quot; | &quot;+this.correlationId)):i=s.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:n,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e&amp;&amp;e.time?c.time=e.time:this.startTime&amp;&amp;(c.time=new Date(this.startTime)),e){for(var l in e)c[l]||(c[l]=e[l]);if(e.properties)for(var l in e.properties)c.properties[l]=e.properties[l]}return c},t._getUrlFromRequestOptions=function(e,t){if(&quot;string&quot;==typeof e)if(0===e.indexOf(&quot;http://&quot;)||0===e.indexOf(&quot;https://&quot;))e=o.parse(e);else{var r=o.parse(e);e=&quot;443&quot;===r.host?o.parse(&quot;https://&quot;+e):o.parse(&quot;http://&quot;+e)}else{if(e&amp;&amp;&quot;function&quot;==typeof o.URL&amp;&amp;e instanceof o.URL)return o.format(e);var n=e;e={},n&amp;&amp;Object.keys(n).forEach((function(t){e[t]=n[t]}))}if(e.path){var i=o.parse(e.path);e.pathname=i.pathname,e.search=i.search}return e.host&amp;&amp;e.port&amp;&amp;!o.parse(&quot;http://&quot;+e.host).port&amp;&amp;e.port&amp;&amp;(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&amp;&amp;t.agent.protocol||t.protocol||void 0,e.hostname=e.hostname||&quot;localhost&quot;,o.format(e)},t}(l);t.exports=u})),Pn=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r&lt;n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.spanToTelemetryContract=void 0;var r=_e(),n=yn();function i(e){var r=t({},e);return Object.keys(n.SpanAttribute).forEach((function(e){delete r[e]})),r}e.spanToTelemetryContract=function(e){var o=&quot;|&quot;+e.spanContext().traceId+&quot;.&quot;+e.spanContext().spanId+&quot;.&quot;,s=Math.round(1e3*e._duration[0]+e._duration[1]/1e6),a=e.attributes[&quot;peer.address&quot;]?e.attributes[&quot;peer.address&quot;].toString():&quot;&quot;,c=e.attributes.component?e.attributes.component.toString():&quot;&quot;,l=c.toUpperCase()===n.DependencyTypeName.Http||!!e.attributes[n.SpanAttribute.HttpUrl],p=c.toLowerCase()===n.DependencyTypeName.Grpc;if(l){var u=e.attributes[n.SpanAttribute.HttpMethod]||&quot;GET&quot;,d=new URL(e.attributes[n.SpanAttribute.HttpUrl].toString()),h=e.attributes[n.SpanAttribute.HttpHost]||d.host,f=e.attributes[n.SpanAttribute.HttpPort]||d.port||null,v=u+&quot; &quot;+(d.pathname||&quot;/&quot;),_=n.DependencyTypeName.Http,m=f?(h+&quot;:&quot;+f).toString():h.toString(),g=d.toString(),y=e.attributes[n.SpanAttribute.HttpStatusCode]||e.status.code||0;return{id:o,name:v,dependencyTypeName:_,target:m,data:g,success:y&lt;400,duration:s,url:g,resultCode:String(y),properties:i(e.attributes)}}if(p){u=e.attributes[n.SpanAttribute.GrpcMethod]||&quot;rpc&quot;;var E=e.attributes[n.SpanAttribute.GrpcService],b=E?u+&quot; &quot;+E:e.name;return{id:o,duration:s,name:b,target:E.toString(),data:E.toString()||b,url:E.toString()||b,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(e.status.code||0),success:0===e.status.code,properties:i(e.attributes)}}var S=e.name,w=e.links&amp;&amp;e.links.map((function(e){return{operation_Id:e.context.traceId,id:e.context.spanId}}));return{id:o,duration:s,name:S,target:a,data:a||S,url:a||S,dependencyTypeName:e.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:c||e.name,resultCode:String(e.status.code||0),success:0===e.status.code,properties:t(t({},i(e.attributes)),{&quot;_MS.links&quot;:w||void 0})}}})),Cn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.subscriber=void 0;var t=_e(),r=b(),n=Qt(),i=Pn(),o=m(),s=[];e.subscriber=function(e){var r=e.data,a=i.spanToTelemetryContract(r),c=r.spanContext(),l=new n;l.traceId=c.traceId,l.spanId=c.spanId,l.traceFlag=n.formatOpenTelemetryTraceFlags(c.traceFlags),l.parentId=r.parentSpanId?&quot;|&quot;+c.traceId+&quot;.&quot;+r.parentSpanId+&quot;.&quot;:null,o.AsyncScopeManager.with(r,(function(){s.forEach((function(e){r.kind===t.SpanKind.SERVER?e.trackRequest(a):(r.kind===t.SpanKind.CLIENT||r.kind===t.SpanKind.INTERNAL)&amp;&amp;e.trackDependency(a)}))}))},e.enable=function(t,n){t?(0===s.length&amp;&amp;r.channel.subscribe(&quot;azure-coretracing&quot;,e.subscriber),s.push(n)):0===(s=s.filter((function(e){return e!=n}))).length&amp;&amp;r.channel.unsubscribe(&quot;azure-coretracing&quot;,e.subscriber)}})),An=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.subscriber=void 0;var t=b(),r=[];e.subscriber=function(e){&quot;ismaster&quot;!==e.data.event.commandName&amp;&amp;r.forEach((function(t){var r=e.data.startedData&amp;&amp;e.data.startedData.databaseName||&quot;Unknown database&quot;;t.trackDependency({target:r,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?&quot;0&quot;:&quot;1&quot;,time:e.data.startedData.time,dependencyTypeName:&quot;mongodb&quot;})}))},e.enable=function(n,i){n?(0===r.length&amp;&amp;t.channel.subscribe(&quot;mongodb&quot;,e.subscriber),r.push(i)):0===(r=r.filter((function(e){return e!=i}))).length&amp;&amp;t.channel.unsubscribe(&quot;mongodb&quot;,e.subscriber)}})),In=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.subscriber=void 0;var t=b(),r=[];e.subscriber=function(e){r.forEach((function(t){var r=e.data.query||{},n=r.sql||&quot;Unknown query&quot;,i=!e.data.err,o=(r._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||&quot;localhost&quot;)+&quot;:&quot;+o.port;t.trackDependency({target:s,data:n,name:n,duration:e.data.duration,success:i,resultCode:i?&quot;0&quot;:&quot;1&quot;,time:e.data.time,dependencyTypeName:&quot;mysql&quot;})}))},e.enable=function(n,i){n?(0===r.length&amp;&amp;t.channel.subscribe(&quot;mysql&quot;,e.subscriber),r.push(i)):0===(r=r.filter((function(e){return e!=i}))).length&amp;&amp;t.channel.unsubscribe(&quot;mysql&quot;,e.subscriber)}})),On=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.subscriber=void 0;var t=b(),r=[];e.subscriber=function(e){r.forEach((function(t){&quot;info&quot;!==e.data.commandObj.command&amp;&amp;t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?&quot;1&quot;:&quot;0&quot;,time:e.data.time,dependencyTypeName:&quot;redis&quot;})}))},e.enable=function(n,i){n?(0===r.length&amp;&amp;t.channel.subscribe(&quot;redis&quot;,e.subscriber),r.push(i)):0===(r=r.filter((function(e){return e!=i}))).length&amp;&amp;t.channel.unsubscribe(&quot;redis&quot;,e.subscriber)}})),Rn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.enable=e.subscriber=void 0;var t=b(),r=[];e.subscriber=function(e){r.forEach((function(t){var r=e.data.query,n=r.preparable&amp;&amp;r.preparable.text||r.plan||r.text||&quot;unknown query&quot;,i=!e.data.error,o=e.data.database.host+&quot;:&quot;+e.data.database.port;t.trackDependency({target:o,data:n,name:n,duration:e.data.duration,success:i,resultCode:i?&quot;0&quot;:&quot;1&quot;,time:e.data.time,dependencyTypeName:&quot;postgres&quot;})}))},e.enable=function(n,i){n?(0===r.length&amp;&amp;t.channel.subscribe(&quot;postgres&quot;,e.subscriber),r.push(i)):0===(r=r.filter((function(e){return e!=i}))).length&amp;&amp;t.channel.unsubscribe(&quot;postgres&quot;,e.subscriber)}})),kn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=e&amp;&amp;e.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t&lt;r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t&lt;r;t++)for(var o=arguments[t],s=0,a=o.length;s&lt;a;s++,i++)n[i]=o[s];return n},i=r(3685),o=r(5687),s=_(),a=Yt(),c=Kt(),l=xn(),p=hn(),u=Xt(),d=Qt(),h=zt(),f=function(){function e(t){if(e.INSTANCE)throw new Error(&quot;Client request tracking should be configured from the applicationInsights object&quot;);e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&amp;&amp;!this._isInitialized&amp;&amp;this._initialize(),h.IsInitialized&amp;&amp;(Cn().enable(!0,this._client),An().enable(e,this._client),In().enable(e,this._client),On().enable(e,this._client),Rn().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=i.request,s=o.request,a=function(r,n){var i=!n[e.disableCollectionRequestOption]&amp;&amp;!r[e.alreadyAutoCollectedFlag];n.headers&amp;&amp;n.headers[&quot;user-agent&quot;]&amp;&amp;-1!==n.headers[&quot;user-agent&quot;].toString().indexOf(&quot;azsdk-js&quot;)&amp;&amp;(i=!1),r[e.alreadyAutoCollectedFlag]=!0,r&amp;&amp;n&amp;&amp;i&amp;&amp;(p.CorrelationContextManager.wrapEmitter(r),e.trackRequest(t._client,{options:n,request:r}))};i.request=function(e){for(var t=[],o=1;o&lt;arguments.length;o++)t[o-1]=arguments[o];var s=r.call.apply(r,n([i,e],t));return a(s,e),s},o.request=function(e){for(var t=[],r=1;r&lt;arguments.length;r++)t[r-1]=arguments[r];var i=s.call.apply(s,n([o,e],t));return a(i,e),i},i.get=function(e){for(var t,r=[],o=1;o&lt;arguments.length;o++)r[o-1]=arguments[o];var s=(t=i.request).call.apply(t,n([i,e],r));return s.end(),s},o.get=function(e){for(var t,r=[],i=1;i&lt;arguments.length;i++)r[i-1]=arguments[i];var s=(t=o.request).call.apply(t,n([o,e],r));return s.end(),s}},e.trackRequest=function(t,r){if(r.options&amp;&amp;r.request&amp;&amp;t){var n,i,o=new l(r.options,r.request),h=p.CorrelationContextManager.getCurrentContext();if(h&amp;&amp;h.operation&amp;&amp;h.operation.traceparent&amp;&amp;d.isValidTraceId(h.operation.traceparent.traceId)?(h.operation.traceparent.updateSpanId(),n=h.operation.traceparent.getBackCompatRequestId()):u.w3cEnabled?(i=(v=new d).toString(),n=v.getBackCompatRequestId()):n=h&amp;&amp;h.operation&amp;&amp;h.operation.parentId+e.requestNumber+++&quot;.&quot;,a.canIncludeCorrelationHeader(t,o.getUrl())&amp;&amp;r.request.getHeader&amp;&amp;r.request.setHeader&amp;&amp;t.config&amp;&amp;t.config.correlationId){var f=r.request.getHeader(c.requestContextHeader);try{a.safeIncludeCorrelationHeader(t,r.request,f)}catch(e){s.warn(&quot;Request-Context header could not be set. Correlation of requests may be lost&quot;,e)}if(h&amp;&amp;h.operation)try{if(r.request.setHeader(c.requestIdHeader,n),t.config.ignoreLegacyHeaders||(r.request.setHeader(c.parentIdHeader,h.operation.id),r.request.setHeader(c.rootIdHeader,n)),i||h.operation.traceparent)r.request.setHeader(c.traceparentHeader,i||h.operation.traceparent.toString());else if(u.w3cEnabled){var v=(new d).toString();r.request.setHeader(c.traceparentHeader,v)}if(h.operation.tracestate){var _=h.operation.tracestate.toString();_&amp;&amp;r.request.setHeader(c.traceStateHeader,_)}var m=h.customProperties.serializeToHeader();m&amp;&amp;r.request.setHeader(c.correlationContextHeader,m)}catch(e){s.warn(&quot;Correlation headers could not be set. Correlation of requests may be lost.&quot;,e)}}r.request.on&amp;&amp;(r.request.on(&quot;response&quot;,(function(e){o.onResponse(e);var i=o.getDependencyTelemetry(r,n);i.contextObjects=i.contextObjects||{},i.contextObjects[&quot;http.RequestOptions&quot;]=r.options,i.contextObjects[&quot;http.ClientRequest&quot;]=r.request,i.contextObjects[&quot;http.ClientResponse&quot;]=e,t.trackDependency(i)})),r.request.on(&quot;error&quot;,(function(e){o.onError(e);var i=o.getDependencyTelemetry(r,n);i.contextObjects=i.contextObjects||{},i.contextObjects[&quot;http.RequestOptions&quot;]=r.options,i.contextObjects[&quot;http.ClientRequest&quot;]=r.request,i.contextObjects.Error=e,t.trackDependency(i)})),r.request.on(&quot;abort&quot;,(function(){o.onError(new Error);var e=o.getDependencyTelemetry(r,n);e.contextObjects=e.contextObjects||{},e.contextObjects[&quot;http.RequestOptions&quot;]=r.options,e.contextObjects[&quot;http.ClientRequest&quot;]=r.request,t.trackDependency(e)})))}else s.info(&quot;AutoCollectHttpDependencies.trackRequest was called with invalid parameters: &quot;,!r.options,!r.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption=&quot;disableAppInsightsAutoCollection&quot;,e.requestNumber=1,e.alreadyAutoCollectedFlag=&quot;_appInsightsAutoCollected&quot;,e}();t.exports=f})),Nn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=r(2037),i=yn(),o=Yt(),s=Tn(),a=kn(),c=function(){function e(t){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId=&quot;&quot;,this._azInst_subscriptionId=&quot;&quot;,this._azInst_osType=&quot;&quot;,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(e,t){var r=this;this._isEnabled=e,this._isEnabled&amp;&amp;!this._isInitialized&amp;&amp;(this._isInitialized=!0),e?this._handle||(this._handle=setInterval((function(){return r.trackHeartBeat(t,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&amp;&amp;(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&amp;&amp;e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(e,t){var r=this,o=!1,a={},c=s.sdkVersion;a.sdk=c,a.osType=n.type(),process.env.WEBSITE_SITE_NAME?(a.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||&quot;&quot;,a.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||&quot;&quot;,a.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||&quot;&quot;):process.env.FUNCTIONS_WORKER_RUNTIME?a.azfunction_appId=process.env.WEBSITE_HOSTNAME:e&amp;&amp;(void 0===this._isVM?(o=!0,this._getAzureComputeMetadata(e,(function(){r._isVM&amp;&amp;Object.keys(r._vmData).length&gt;0&amp;&amp;(a.azInst_vmId=r._vmData.vmId||&quot;&quot;,a.azInst_subscriptionId=r._vmData.subscriptionId||&quot;&quot;,a.azInst_osType=r._vmData.osType||&quot;&quot;,r._azInst_vmId=r._vmData.vmId||&quot;&quot;,r._azInst_subscriptionId=r._vmData.subscriptionId||&quot;&quot;,r._azInst_osType=r._vmData.osType||&quot;&quot;),r._client.trackMetric({name:i.HeartBeatMetricName,value:0,properties:a}),t()}))):this._isVM&amp;&amp;(a.azInst_vmId=this._azInst_vmId,a.azInst_subscriptionId=this._azInst_subscriptionId,a.azInst_osType=this._azInst_osType)),o||(this._client.trackMetric({name:i.HeartBeatMetricName,value:0,properties:a}),t())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.prototype._getAzureComputeMetadata=function(e,t){var r,n=this,i=((r={method:&quot;GET&quot;})[a.disableCollectionRequestOption]=!0,r.headers={Metadata:&quot;True&quot;},r),s=o.makeRequest(e,&quot;http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&amp;format=json&quot;,i,(function(e){if(200===e.statusCode){n._isVM=!0;var r=&quot;&quot;;e.on(&quot;data&quot;,(function(e){r+=e})),e.on(&quot;end&quot;,(function(){n._vmData=n._isJSON(r)?JSON.parse(r):{},t()}))}else t()}));s&amp;&amp;(s.on(&quot;error&quot;,(function(e){e&amp;&amp;e.message&amp;&amp;e.message.indexOf(&quot;ENETUNREACH&quot;)&gt;-1&amp;&amp;(n._isVM=!1),t()})),s.end())},e.prototype._isJSON=function(e){try{return JSON.parse(e)&amp;&amp;!!e}catch(e){return!1}},e}();t.exports=c})),Dn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=r(3685),i=r(5687),o=_(),s=Yt(),a=Kt(),c=Vr(),l=hn(),p=En(),u=function(){function e(t){if(e.INSTANCE)throw new Error(&quot;Server request tracking should be configured from the applicationInsights object&quot;);e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||p.isEnabled())&amp;&amp;!this._isInitialized&amp;&amp;(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&amp;&amp;!this._isAutoCorrelating?l.CorrelationContextManager.enable(t):!e&amp;&amp;this._isAutoCorrelating&amp;&amp;l.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return l.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=function(r){if(r){if(&quot;function&quot;!=typeof r)throw new Error(&quot;onRequest handler must be a function&quot;);return function(n,i){l.CorrelationContextManager.wrapEmitter(n),l.CorrelationContextManager.wrapEmitter(i);var o=n&amp;&amp;!n[e.alreadyAutoCollectedFlag];if(n&amp;&amp;o){var s=new c(n),a=t._generateCorrelationContext(s);l.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&amp;&amp;(n[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:n,response:i},s)),&quot;function&quot;==typeof r&amp;&amp;r(n,i)}))}else&quot;function&quot;==typeof r&amp;&amp;r(n,i)}}},o=function(e){var t=e.addListener.bind(e);e.addListener=function(e,n){switch(e){case&quot;request&quot;:case&quot;checkContinue&quot;:return t(e,r(n));default:return t(e,n)}},e.on=e.addListener},s=n.createServer;n.createServer=function(e,t){if(t&amp;&amp;&quot;function&quot;==typeof t){var n=s(e,r(t));return o(n),n}return n=s(r(e)),o(n),n};var a=i.createServer;i.createServer=function(e,t){var n=a(e,r(t));return o(n),n}},e.trackRequestSync=function(t,r){if(r.request&amp;&amp;r.response&amp;&amp;t){e.addResponseCorrelationIdHeader(t,r.response);var n=l.CorrelationContextManager.getCurrentContext(),i=new c(r.request,n&amp;&amp;n.operation.parentId);n&amp;&amp;(n.operation.id=i.getOperationId(t.context.tags)||n.operation.id,n.operation.name=i.getOperationName(t.context.tags)||n.operation.name,n.operation.parentId=i.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,r,r.duration,r.error)}else o.info(&quot;AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: &quot;,!r.request,!r.response,!t)},e.trackRequest=function(t,r,n){if(r.request&amp;&amp;r.response&amp;&amp;t){var i=l.CorrelationContextManager.getCurrentContext(),a=n||new c(r.request,i&amp;&amp;i.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&amp;&amp;e.addResponseCorrelationIdHeader(t,r.response),i&amp;&amp;!n&amp;&amp;(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),r.response.once&amp;&amp;r.response.once(&quot;finish&quot;,(function(){e.endRequest(t,a,r,null,null)})),r.request.on&amp;&amp;r.request.on(&quot;error&quot;,(function(n){e.endRequest(t,a,r,null,n)})),r.request.on&amp;&amp;r.request.on(&quot;aborted&quot;,(function(){e.endRequest(t,a,r,null,&quot;The request has been aborted and the network socket has closed.&quot;)}))}else o.info(&quot;AutoCollectHttpRequests.trackRequest was called with invalid parameters: &quot;,!r.request,!r.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&amp;&amp;e.config.correlationId&amp;&amp;t.getHeader&amp;&amp;t.setHeader&amp;&amp;!t.headersSent){var r=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,r)}},e.endRequest=function(e,t,r,n,i){i?t.onError(i,n):t.onResponse(r.response,n);var o=t.getRequestTelemetry(r);if(o.tagOverrides=t.getRequestTags(e.context.tags),r.tagOverrides)for(var s in r.tagOverrides)o.tagOverrides[s]=r.tagOverrides[s];var a=t.getLegacyRootId();a&amp;&amp;(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects[&quot;http.ServerRequest&quot;]=r.request,o.contextObjects[&quot;http.ServerResponse&quot;]=r.response,e.trackRequest(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,l.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag=&quot;_appInsightsAutoCollected&quot;,e}();t.exports=u})),Mn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=e&amp;&amp;e.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r&lt;n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e},n.apply(this,arguments)},i=r(2037),o=Gr(),s=yn(),a=Yt(),c=_(),l=a.w3cTraceId(),p=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,r,n){var o=i&amp;&amp;&quot;function&quot;==typeof i.hostname&amp;&amp;i.hostname()||&quot;Unknown&quot;,s=n.tags&amp;&amp;n.keys&amp;&amp;n.keys.cloudRoleInstance&amp;&amp;n.tags[n.keys.cloudRoleInstance]||o,a=n.tags&amp;&amp;n.keys&amp;&amp;n.keys.cloudRole&amp;&amp;n.tags[n.keys.cloudRole]||null;return{Documents:t.length&gt;0?t:null,InstrumentationKey:r.instrumentationKey||&quot;&quot;,Metrics:e.length&gt;0?e:null,InvariantVersion:1,Timestamp:&quot;/Date(&quot;+Date.now()+&quot;)/&quot;,Version:n.tags[n.keys.internalSdkVersion],StreamId:l,MachineName:o,Instance:s,RoleName:a}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData.name;return n(n({},r),{Name:i})},e.createQuickPulseTraceDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return n(n({},r),{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,o=&quot;&quot;,s=&quot;&quot;,a=&quot;&quot;;return i&amp;&amp;i.length&gt;0&amp;&amp;(i[0].parsedStack&amp;&amp;i[0].parsedStack.length&gt;0?i[0].parsedStack.forEach((function(e){o+=e.assembly+&quot;\n&quot;})):i[0].stack&amp;&amp;i[0].stack.length&gt;0&amp;&amp;(o=i[0].stack),s=i[0].message,a=i[0].typeName),n(n({},r),{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData;return n(n({},r),{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData;return n(n({},r),{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:r.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var r,n;return t.data.baseType?(n=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],r=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn(&quot;Document type invalid; not sending live metric document&quot;,t.data.baseType),{DocumentType:r,__type:n,OperationId:t.tags[e.keys.operationId],Version:&quot;1.0&quot;,Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],r=e.data.baseData.measurements||{};for(var n in r)if(r.hasOwnProperty(n)){var i={key:n,value:r[n]};t.push(i)}var o=e.data.baseData.properties||{};for(var n in o)o.hasOwnProperty(n)&amp;&amp;(i={key:n,value:o[n]},t.push(i));return t},e.keys=new o.ContextTagKeys,e}();t.exports=p})),Ln=f(((e,t)=&gt;{&quot;use strict&quot;;t.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}})),jn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=e&amp;&amp;e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=e&amp;&amp;e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&amp;i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},&quot;function&quot;==typeof Symbol&amp;&amp;(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(&quot;Generator is already executing.&quot;);for(;s;)try{if(r=1,n&amp;&amp;(i=2&amp;o[0]?n.return:o[0]?n.throw||((i=n.return)&amp;&amp;i.call(n),0):n.next)&amp;&amp;!(i=i.call(n,o[1])).done)return i;switch(n=0,i&amp;&amp;(o=[2&amp;o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length&gt;0&amp;&amp;i[i.length-1])&amp;&amp;(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&amp;&amp;(!i||o[1]&gt;i[0]&amp;&amp;o[1]&lt;i[3])){s.label=o[1];break}if(6===o[0]&amp;&amp;s.label&lt;i[1]){s.label=i[1],i=o;break}if(i&amp;&amp;s.label&lt;i[2]){s.label=i[2],s.ops.push(o);break}i[2]&amp;&amp;s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&amp;o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=r(5687),s=kn(),a=_(),c=Ln(),l=Yt(),p=&quot;x-ms-qps-service-polling-interval-hint&quot;,u=&quot;x-ms-qps-service-endpoint-redirect&quot;,d=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t,r){var n=[{name:&quot;x-ms-qps-stream-id&quot;,value:e.StreamId},{name:&quot;x-ms-qps-machine-name&quot;,value:e.MachineName},{name:&quot;x-ms-qps-role-name&quot;,value:e.RoleName},{name:&quot;x-ms-qps-instance-name&quot;,value:e.Instance},{name:&quot;x-ms-qps-invariant-version&quot;,value:e.InvariantVersion.toString()}];this._submitData(e,t,r,&quot;ping&quot;,n)},e.prototype.post=function(e,t,r){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this._submitData([e],t,r,&quot;post&quot;)];case 1:return n.sent(),[2]}}))}))},e.prototype._submitData=function(e,t,r,a,d){return n(this,void 0,void 0,(function(){var n,h,f,v,_,m=this;return i(this,(function(i){return n=JSON.stringify(e),(v={})[s.disableCollectionRequestOption]=!0,v.host=t&amp;&amp;t.length&gt;0?t:this._config.quickPulseHost,v.method=&quot;POST&quot;,v.path=&quot;/QuickPulseService.svc/&quot;+a+&quot;?ikey=&quot;+this._config.instrumentationKey,v.headers=((_={Expect:&quot;100-continue&quot;})[&quot;x-ms-qps-transmission-time&quot;]=c.getTransmissionTime(),_[&quot;Content-Type&quot;]=&quot;application/json&quot;,_[&quot;Content-Length&quot;]=Buffer.byteLength(n),_),h=v,d&amp;&amp;d.length&gt;0&amp;&amp;d.forEach((function(e){return h.headers[e.name]=e.value})),this._config.httpsAgent?h.agent=this._config.httpsAgent:h.agent=l.tlsRestrictedAgent,(f=o.request(h,(function(e){if(200==e.statusCode){var t=&quot;true&quot;===e.headers[&quot;x-ms-qps-subscribed&quot;],n=e.headers[u]?e.headers[u].toString():null,i=e.headers[p]?parseInt(e.headers[p].toString()):null;m._consecutiveErrors=0,r(t,e,n,i)}else m._onError(&quot;StatusCode:&quot;+e.statusCode+&quot; StatusMessage:&quot;+e.statusMessage),r()}))).on(&quot;error&quot;,(function(e){m._onError(e),r()})),f.write(n),f.end(),[2]}))}))},e.prototype._onError=function(t){this._consecutiveErrors++;var r=&quot;Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:&quot;;this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(r=&quot;Live Metrics endpoint could not be reached &quot;+this._consecutiveErrors+&quot; consecutive times. Most recent error:&quot;,a.warn(e.TAG,r,t)):a.info(e.TAG,r,t)},e.TAG=&quot;QuickPulseSender&quot;,e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();t.exports=d})),Un=f(((e,t)=&gt;{&quot;use strict&quot;;var r=e&amp;&amp;e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},n=e&amp;&amp;e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&amp;i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},&quot;function&quot;==typeof Symbol&amp;&amp;(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(&quot;Generator is already executing.&quot;);for(;s;)try{if(r=1,n&amp;&amp;(i=2&amp;o[0]?n.return:o[0]?n.throw||((i=n.return)&amp;&amp;i.call(n),0):n.next)&amp;&amp;!(i=i.call(n,o[1])).done)return i;switch(n=0,i&amp;&amp;(o=[2&amp;o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length&gt;0&amp;&amp;i[i.length-1])&amp;&amp;(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&amp;&amp;(!i||o[1]&gt;i[0]&amp;&amp;o[1]&lt;i[3])){s.label=o[1];break}if(6===o[0]&amp;&amp;s.label&lt;i[1]){s.label=i[1],i=o;break}if(i&amp;&amp;s.label&lt;i[2]){s.label=i[2],s.ops.push(o);break}i[2]&amp;&amp;s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&amp;o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=_(),o=Mn(),s=jn(),a=yn(),c=Tn(),l=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=o.telemetryEnvelopeToQuickPulseDocument(e);t&amp;&amp;this._documents.push(t)},e.prototype.enable=function(e){e&amp;&amp;!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&amp;&amp;this._isEnabled&amp;&amp;(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,r=e.count||1,n=a.PerformanceToQuickPulseCounter[e.name];n&amp;&amp;(this._metrics[n]?(this._metrics[n].Value=(this._metrics[n].Value*this._metrics[n].Weight+t*r)/(this._metrics[n].Weight+r),this._metrics[n].Weight+=r):(this._metrics[n]=o.createQuickPulseMetric(e),this._metrics[n].Name=n,this._metrics[n].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return r(this,void 0,void 0,(function(){var t,r,i,s,a=this;return n(this,(function(n){switch(n.label){case 0:return t=Object.keys(this._metrics).map((function(e){return a._metrics[e]})),r=o.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(r)]:[3,2];case 1:return n.sent(),[3,3];case 2:this._ping(r),n.label=3;case 3:return i=this._pollingIntervalHint&gt;0?this._pollingIntervalHint:e.PING_INTERVAL,s=this._isCollectingData?e.POST_INTERVAL:i,this._isCollectingData&amp;&amp;Date.now()-this._lastSuccessTime&gt;=e.MAX_POST_WAIT_TIME&amp;&amp;!this._lastSendSucceeded?(this._isCollectingData=!1,s=e.FALLBACK_INTERVAL):!this._isCollectingData&amp;&amp;Date.now()-this._lastSuccessTime&gt;=e.MAX_PING_WAIT_TIME&amp;&amp;!this._lastSendSucceeded&amp;&amp;(s=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),s),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(e,t,r,n){null!=e?(this._isCollectingData!==e&amp;&amp;(i.info(&quot;Live Metrics sending data&quot;,e),this.enableCollectors(e)),this._isCollectingData=e,r&amp;&amp;r.length&gt;0&amp;&amp;(this._redirectedHost=r,i.info(&quot;Redirecting endpoint to: &quot;,r)),n&amp;&amp;n&gt;0&amp;&amp;(this._pollingIntervalHint=n),t&amp;&amp;t.statusCode&lt;300&amp;&amp;t.statusCode&gt;=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();t.exports=l})),Fn=f(((e,t)=&gt;{&quot;use strict&quot;;var r=yn(),n=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR).reduce((function(t,r){var n=r.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===n.length){var i=n[0].toLowerCase(),o=n[1];t[i]=o}return t}),{});if(Object.keys(n).length&gt;0){if(n.endpointsuffix){var i=n.location?n.location+&quot;.&quot;:&quot;&quot;;n.ingestionendpoint=n.ingestionendpoint||&quot;https://&quot;+i+&quot;dc.&quot;+n.endpointsuffix,n.liveendpoint=n.liveendpoint||&quot;https://&quot;+i+&quot;live.&quot;+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return n},e._FIELDS_SEPARATOR=&quot;;&quot;,e._FIELD_KEY_VALUE_SEPARATOR=&quot;=&quot;,e}();t.exports=n})),Bn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=Xt(),i=Fn(),o=(_(),yn()),s=r(7310),a=function(){function e(t){var r=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var n=process.env[e.ENV_connectionString],a=i.parse(t),c=i.parse(n),l=!a.instrumentationkey&amp;&amp;Object.keys(a).length&gt;0?null:t;this.instrumentationKey=a.instrumentationkey||l||c.instrumentationkey||e._getInstrumentationKey(),e._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+&quot;/v2.1/track&quot;,this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=[&quot;*.core.windows.net&quot;,&quot;*.core.chinacloudapi.cn&quot;,&quot;*.core.cloudapi.de&quot;,&quot;*.core.usgovcloudapi.net&quot;,&quot;*.core.microsoft.scloud&quot;,&quot;*.core.eaglex.ic.gov&quot;],this.setCorrelationId=function(e){return r.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&amp;&amp;(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,&quot;profileQueryEndpoint&quot;,{get:function(){return this._profileQueryEndpoint},set:function(e){n.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=n.correlationIdPrefix,n.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,&quot;quickPulseHost&quot;,{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!1,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||&quot;&quot;==t)throw new Error(&quot;Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server&quot;);return t},e._validateInstrumentationKey=function(e){return new RegExp(&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$&quot;).test(e)},e.ENV_azurePrefix=&quot;APPSETTING_&quot;,e.ENV_iKey=&quot;APPINSIGHTS_INSTRUMENTATIONKEY&quot;,e.legacy_ENV_iKey=&quot;APPINSIGHTS_INSTRUMENTATION_KEY&quot;,e.ENV_profileQueryEndpoint=&quot;APPINSIGHTS_PROFILE_QUERY_ENDPOINT&quot;,e.ENV_quickPulseHost=&quot;APPINSIGHTS_QUICKPULSE_HOST&quot;,e.ENV_connectionString=&quot;APPLICATIONINSIGHTS_CONNECTION_STRING&quot;,e.ENV_nativeMetricsDisablers=&quot;APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC&quot;,e.ENV_nativeMetricsDisableAll=&quot;APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS&quot;,e.ENV_http_proxy=&quot;http_proxy&quot;,e.ENV_https_proxy=&quot;https_proxy&quot;,e}();t.exports=a})),Hn=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r&lt;n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.AutoCollectNativePerformance=void 0;var n=Bn(),i=Tn(),o=_(),s=function(){function e(t){this._disabledMetrics={},e.INSTANCE&amp;&amp;e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(&quot;.&quot;);return parseInt(e[0])&gt;=6},e.prototype.enable=function(t,n,i){var s=this;if(void 0===n&amp;&amp;(n={}),void 0===i&amp;&amp;(i=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&amp;&amp;t&amp;&amp;!this._isInitialized)try{var a=r(9166);e._emitter=new a,e._metricsAvailable=!0,o.info(&quot;Native metrics module successfully loaded!&quot;)}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&amp;&amp;!this._isInitialized&amp;&amp;(this._isInitialized=!0),this._isEnabled&amp;&amp;e._emitter?(e._emitter.enable(!0,i),this._handle||(this._handle=setInterval((function(){return s._trackNativeMetrics()}),i),this._handle.unref())):e._emitter&amp;&amp;(e._emitter.enable(!1),this._handle&amp;&amp;(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var r=process.env[n.ENV_nativeMetricsDisableAll],i=process.env[n.ENV_nativeMetricsDisablers];if(r)return{isEnabled:!1,disabledMetrics:{}};if(i){var o=i.split(&quot;,&quot;),s={};if(o.length&gt;0)for(var a=0,c=o;a&lt;c.length;a++)s[c[a]]=!0;return&quot;object&quot;==typeof e?{isEnabled:!0,disabledMetrics:t(t({},e),s)}:{isEnabled:e,disabledMetrics:s}}return&quot;boolean&quot;==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;&quot;object&quot;!=typeof this._isEnabled&amp;&amp;(e=this._isEnabled),e&amp;&amp;(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var r=e._emitter.getGCData();for(var n in r){var o=r[n].metrics,s=n+&quot; Garbage Collection Duration&quot;,a=Math.sqrt(o.sumSquares/o.count-Math.pow(o.total/o.count,2))||0;this._client.trackMetric({name:s,value:o.total,count:o.count,max:o.max,min:o.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]=&quot;node-nativeperf:&quot;+i.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var r=e._emitter.getLoopData().loopUsage;if(0!=r.count){var n=Math.sqrt(r.sumSquares/r.count-Math.pow(r.total/r.count,2))||0;this._client.trackMetric({name:&quot;Event Loop CPU Time&quot;,value:r.total,count:r.count,min:r.min,max:r.max,stdDev:n,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]=&quot;node-nativeperf:&quot;+i.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var e,t,r;if(!this._disabledMetrics.heap){var n=process.memoryUsage(),o=n.heapUsed,s=n.heapTotal,a=n.rss;this._client.trackMetric({name:&quot;Memory Usage (Heap)&quot;,value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]=&quot;node-nativeperf:&quot;+i.sdkVersion,e)}),this._client.trackMetric({name:&quot;Memory Total (Heap)&quot;,value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]=&quot;node-nativeperf:&quot;+i.sdkVersion,t)}),this._client.trackMetric({name:&quot;Memory Usage (Non-Heap)&quot;,value:a-s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]=&quot;node-nativeperf:&quot;+i.sdkVersion,r)})}},e}();e.AutoCollectNativePerformance=s})),Gn=f(((e,t)=&gt;{&quot;use strict&quot;;var r=_(),n=function(){function e(e,t,r,n){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=r,this._sender=n}return e.prototype.setUseDiskRetryCaching=function(e,t,r){this._sender.setDiskRetryMode(e,t,r)},e.prototype.send=function(e){var t=this;if(!this._isDisabled()){if(!e)return void r.warn(&quot;Cannot send null/undefined telemetry&quot;);if(this._buffer.push(e),this._buffer.length&gt;=this._getBatchSize())return void this.triggerSend(!1);!this._timeoutHandle&amp;&amp;this._buffer.length&gt;0&amp;&amp;(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(e,t){var r=this._buffer.length&lt;1;r||(e?(this._sender.saveOnCrash(this._buffer),&quot;function&quot;==typeof t&amp;&amp;t(&quot;data saved on crash&quot;)):this._sender.send(this._buffer,t)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&amp;&amp;&quot;function&quot;==typeof t&amp;&amp;t(&quot;no data to send&quot;)},e}();t.exports=n})),qn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0,e.azureRoleEnvironmentTelemetryProcessor=function(e,t){process.env.WEBSITE_SITE_NAME&amp;&amp;(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}})),Vn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=Gr();function r(e){var t=2147483647,r=5381;if(!e)return 0;for(;e.length&lt;8;)e+=e;for(var n=0;n&lt;e.length;n++)r=((r&lt;&lt;5)+r|0)+e.charCodeAt(n)|0;return(r=r&lt;=-2147483648?t:Math.abs(r))/t*100}e.samplingTelemetryProcessor=function(e,n){var i=e.sampleRate;return!!(null==i||i&gt;=100||e.data&amp;&amp;t.TelemetryType.Metric===t.baseTypeToTelemetryType(e.data.baseType))||(n.correlationContext&amp;&amp;n.correlationContext.operation?r(n.correlationContext.operation.id)&lt;i:100*Math.random()&lt;i)},e.getSamplingHashCode=r})),$n=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=En(),r=Gr();e.performanceMetricsTelemetryProcessor=function(e,n){switch(n&amp;&amp;n.addDocument(e),e.data.baseType){case r.TelemetryTypeString.Exception:t.countException();break;case r.TelemetryTypeString.Request:var i=e.data.baseData;t.countRequest(i.duration,i.success);break;case r.TelemetryTypeString.Dependency:var o=e.data.baseData;t.countDependency(o.duration,o.success)}return!0}})),Wn=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r&lt;n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var r=Gr(),n=wn(),i=Gr();e.preAggregatedMetricsTelemetryProcessor=function(e,o){if(n.isEnabled())switch(e.data.baseType){case i.TelemetryTypeString.Exception:var s=e.data.baseData;s.properties=t(t({},s.properties),{&quot;_MS.ProcessedByMetricExtractors&quot;:&quot;(Name:'Exceptions', Ver:'1.1')&quot;});var a={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole]};n.countException(a);break;case i.TelemetryTypeString.Trace:var c=e.data.baseData;c.properties=t(t({},c.properties),{&quot;_MS.ProcessedByMetricExtractors&quot;:&quot;(Name:'Traces', Ver:'1.1')&quot;});var l={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[c.severity]};n.countTrace(l);break;case i.TelemetryTypeString.Request:var p=e.data.baseData;p.properties=t(t({},p.properties),{&quot;_MS.ProcessedByMetricExtractors&quot;:&quot;(Name:'Requests', Ver:'1.1')&quot;});var u={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],requestSuccess:p.success,requestResultCode:p.responseCode};n.countRequest(p.duration,u);break;case i.TelemetryTypeString.Dependency:var d=e.data.baseData;d.properties=t(t({},d.properties),{&quot;_MS.ProcessedByMetricExtractors&quot;:&quot;(Name:'Dependencies', Ver:'1.1')&quot;});var h={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],dependencySuccess:d.success,dependencyType:d.type,dependencyTarget:d.target,dependencyResultCode:d.resultCode};n.countDependency(d.duration,h)}return!0}})),zn=f((e=&gt;{&quot;use strict&quot;;var t=e&amp;&amp;e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&amp;&amp;(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&amp;&amp;(n=r),e[n]=t[r]}),r=e&amp;&amp;e.__exportStar||function(e,r){for(var n in e)&quot;default&quot;!==n&amp;&amp;!Object.prototype.hasOwnProperty.call(r,n)&amp;&amp;t(r,e,n)};Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),r(qn(),e),r(Vn(),e),r($n(),e),r(Wn(),e)})),Kn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=e&amp;&amp;e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=e&amp;&amp;e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&amp;i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},&quot;function&quot;==typeof Symbol&amp;&amp;(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(&quot;Generator is already executing.&quot;);for(;s;)try{if(r=1,n&amp;&amp;(i=2&amp;o[0]?n.return:o[0]?n.throw||((i=n.return)&amp;&amp;i.call(n),0):n.next)&amp;&amp;!(i=i.call(n,o[1])).done)return i;switch(n=0,i&amp;&amp;(o=[2&amp;o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length&gt;0&amp;&amp;i[i.length-1])&amp;&amp;(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&amp;&amp;(!i||o[1]&gt;i[0]&amp;&amp;o[1]&lt;i[3])){s.label=o[1];break}if(6===o[0]&amp;&amp;s.label&lt;i[1]){s.label=i[1],i=o;break}if(i&amp;&amp;s.label&lt;i[2]){s.label=i[2],s.ops.push(o);break}i[2]&amp;&amp;s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&amp;o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=r(7147),s=r(2037),a=r(1017),c=r(9796),l=r(2081),p=_(),u=kn(),d=Yt(),h=function(){function e(t,r,n){if(this._redirectedHost=null,this._config=t,this._onSuccess=r,this._onError=n,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=a.join(s.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=o.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||p.warn(e.TAG,&quot;Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.&quot;)}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,r,n){var i=this;this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&amp;&amp;t,&quot;number&quot;==typeof r&amp;&amp;r&gt;=0&amp;&amp;(this._resendInterval=Math.floor(r)),&quot;number&quot;==typeof n&amp;&amp;n&gt;=0&amp;&amp;(this._maxBytesOnDisk=Math.floor(n)),t&amp;&amp;!e.OS_PROVIDES_FILE_PROTECTION&amp;&amp;(this._enableDiskRetryMode=!1,p.warn(e.TAG,&quot;Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.&quot;)),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){i._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&amp;&amp;clearTimeout(this._fileCleanupTimer)},e.prototype.send=function(t,r){return n(this,void 0,void 0,(function(){var n,o,s,a,l=this;return i(this,(function(i){return t&amp;&amp;(n=this._redirectedHost||this._config.endpointUrl,o={method:&quot;POST&quot;,withCredentials:!1,headers:{&quot;Content-Type&quot;:&quot;application/x-json-stream&quot;}},s=&quot;&quot;,t.forEach((function(e){var t=l._stringify(e);&quot;string&quot;==typeof t&amp;&amp;(s+=t+&quot;\n&quot;)})),s.length&gt;0&amp;&amp;(s=s.substring(0,s.length-1)),a=Buffer.from?Buffer.from(s):new Buffer(s),c.gzip(a,(function(i,s){var c=s;i?(p.warn(i),c=a,o.headers[&quot;Content-Length&quot;]=a.length.toString()):(o.headers[&quot;Content-Encoding&quot;]=&quot;gzip&quot;,o.headers[&quot;Content-Length&quot;]=s.length.toString()),p.info(e.TAG,o),o[u.disableCollectionRequestOption]=!0;var h=d.makeRequest(l._config,n,o,(function(n){n.setEncoding(&quot;utf-8&quot;);var i=&quot;&quot;;n.on(&quot;data&quot;,(function(e){i+=e})),n.on(&quot;end&quot;,(function(){if(l._numConsecutiveFailures=0,l._enableDiskRetryMode)if(200===n.statusCode)l._resendTimer||(l._resendTimer=setTimeout((function(){l._resendTimer=null,l._sendFirstFileOnDisk()}),l._resendInterval),l._resendTimer.unref());else if(l._isRetriable(n.statusCode))try{var o=JSON.parse(i),s=[];o.errors.forEach((function(e){l._isRetriable(e.statusCode)&amp;&amp;s.push(t[e.index])})),s.length&gt;0&amp;&amp;l._storeToDisk(s)}catch(e){l._storeToDisk(t)}if(307===n.statusCode||308===n.statusCode)if(l._numConsecutiveRedirects++,l._numConsecutiveRedirects&lt;10){var a=n.headers.location?n.headers.location.toString():null;a&amp;&amp;(l._redirectedHost=a,l.send(t,r))}else&quot;function&quot;==typeof r&amp;&amp;r(&quot;Error sending telemetry because of circular redirects.&quot;);else l._numConsecutiveRedirects=0,&quot;function&quot;==typeof r&amp;&amp;r(i),p.info(e.TAG,i),&quot;function&quot;==typeof l._onSuccess&amp;&amp;l._onSuccess(i)}))}));h.on(&quot;error&quot;,(function(n){if(l._numConsecutiveFailures++,!l._enableDiskRetryMode||l._numConsecutiveFailures&gt;0&amp;&amp;l._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var i=&quot;Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:&quot;;l._enableDiskRetryMode&amp;&amp;(i=&quot;Ingestion endpoint could not be reached &quot;+l._numConsecutiveFailures+&quot; consecutive times. There may be resulting telemetry loss. Most recent error:&quot;),p.warn(e.TAG,i,d.dumpObj(n))}else i=&quot;Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:&quot;,p.info(e.TAG,i,d.dumpObj(n));l._onErrorHelper(n),&quot;function&quot;==typeof r&amp;&amp;(n&amp;&amp;r(d.dumpObj(n)),r(&quot;Error sending telemetry&quot;)),l._enableDiskRetryMode&amp;&amp;l._storeToDisk(t)})),h.write(c),h.end()}))),[2]}))}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&amp;&amp;this._storeToDiskSync(this._stringify(e))},e.prototype._isRetriable=function(e){return 206===e||408===e||429===e||439===e||500===e||503===e},e.prototype._runICACLS=function(t,r){var n=l.spawn(e.ICACLS_PATH,t,{windowsHide:!0});n.on(&quot;error&quot;,(function(e){return r(e)})),n.on(&quot;close&quot;,(function(e,t){return r(0===e?null:new Error(&quot;Setting ACL restrictions did not succeed (ICACLS returned code &quot;+e+&quot;)&quot;))}))},e.prototype._runICACLSSync=function(t){if(!l.spawnSync)throw new Error(&quot;Could not synchronously call ICACLS under current version of Node.js&quot;);var r=l.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(r.error)throw r.error;if(0!==r.status)throw new Error(&quot;Setting ACL restrictions did not succeed (ICACLS returned code &quot;+r.status+&quot;)&quot;)},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var r=l.spawn(e.POWERSHELL_PATH,[&quot;-Command&quot;,&quot;[System.Security.Principal.WindowsIdentity]::GetCurrent().Name&quot;],{windowsHide:!0,stdio:[&quot;ignore&quot;,&quot;pipe&quot;,&quot;pipe&quot;]}),n=&quot;&quot;;r.stdout.on(&quot;data&quot;,(function(e){return n+=e})),r.on(&quot;error&quot;,(function(e){return t(e,null)})),r.on(&quot;close&quot;,(function(r,i){return e.ACL_IDENTITY=n&amp;&amp;n.trim(),t(0===r?null:new Error(&quot;Getting ACL identity did not succeed (PS returned code &quot;+r+&quot;)&quot;),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(l.spawnSync){var t=l.spawnSync(e.POWERSHELL_PATH,[&quot;-Command&quot;,&quot;[System.Security.Principal.WindowsIdentity]::GetCurrent().Name&quot;],{windowsHide:!0,stdio:[&quot;ignore&quot;,&quot;pipe&quot;,&quot;pipe&quot;]});if(t.error)throw t.error;if(0!==t.status)throw new Error(&quot;Getting ACL identity did not succeed (PS returned code &quot;+t.status+&quot;)&quot;);return e.ACL_IDENTITY=t.stdout&amp;&amp;t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error(&quot;Could not synchronously get ACL identity under current version of Node.js&quot;)},e.prototype._getACLArguments=function(e,t){return[e,&quot;/grant&quot;,&quot;*S-1-5-32-544:(OI)(CI)F&quot;,&quot;/grant&quot;,t+&quot;:(OI)(CI)F&quot;,&quot;/inheritance:r&quot;]},e.prototype._applyACLRules=function(t,r){var n=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?r(e.ACLED_DIRECTORIES[t]?null:new Error(&quot;Setting ACL restrictions did not succeed (cached result)&quot;)):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(i,o){if(i)return e.ACLED_DIRECTORIES[t]=!1,r(i);n._runICACLS(n._getACLArguments(t,o),(function(n){return e.ACLED_DIRECTORIES[t]=!n,r(n)}))}))):r(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error(&quot;Setting ACL restrictions did not succeed (cached result)&quot;)}},e.prototype._confirmDirExists=function(e,t){var r=this;o.lstat(e,(function(n,i){n&amp;&amp;&quot;ENOENT&quot;===n.code?o.mkdir(e,(function(n){n&amp;&amp;&quot;EEXIST&quot;!==n.code?t(n):r._applyACLRules(e,t)})):!n&amp;&amp;i.isDirectory()?r._applyACLRules(e,t):t(n||new Error(&quot;Path existed but was not a directory&quot;))}))},e.prototype._getShallowDirectorySize=function(e,t){o.readdir(e,(function(r,n){if(r)return t(r,-1);var i=null,s=0,c=0;if(0!==n.length)for(var l=0;l&lt;n.length;l++)o.stat(a.join(e,n[l]),(function(e,r){c++,e?i=e:r.isFile()&amp;&amp;(s+=r.size),c===n.length&amp;&amp;t(i,i?-1:s)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=o.readdirSync(e),r=0,n=0;n&lt;t.length;n++)r+=o.statSync(a.join(e,t[n])).size;return r},e.prototype._storeToDisk=function(t){var r=this;p.info(e.TAG,&quot;Checking existence of data storage directory: &quot;+this._tempDir),this._confirmDirExists(this._tempDir,(function(n){if(n)return p.warn(e.TAG,&quot;Error while checking/creating directory: &quot;+(n&amp;&amp;n.message)),void r._onErrorHelper(n);r._getShallowDirectorySize(r._tempDir,(function(n,i){if(n||i&lt;0)return p.warn(e.TAG,&quot;Error while checking directory size: &quot;+(n&amp;&amp;n.message)),void r._onErrorHelper(n);if(i&gt;r._maxBytesOnDisk)p.warn(e.TAG,&quot;Not saving data due to max size limit being met. Directory size in bytes is: &quot;+i);else{var s=(new Date).getTime()+&quot;.ai.json&quot;,c=a.join(r._tempDir,s);p.info(e.TAG,&quot;saving data to disk at: &quot;+c),o.writeFile(c,r._stringify(t),{mode:384},(function(e){return r._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){try{p.info(e.TAG,&quot;Checking existence of data storage directory: &quot;+this._tempDir),o.existsSync(this._tempDir)||o.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var r=this._getShallowDirectorySizeSync(this._tempDir);if(r&gt;this._maxBytesOnDisk)return void p.info(e.TAG,&quot;Not saving data due to max size limit being met. Directory size in bytes is: &quot;+r);var n=(new Date).getTime()+&quot;.ai.json&quot;,i=a.join(this._tempDir,n);p.info(e.TAG,&quot;saving data before crash to disk at: &quot;+i),o.writeFileSync(i,t,{mode:384})}catch(t){p.warn(e.TAG,&quot;Error while saving data to disk: &quot;+(t&amp;&amp;t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var e=this;o.exists(this._tempDir,(function(t){t&amp;&amp;o.readdir(e._tempDir,(function(t,r){if(t)e._onErrorHelper(t);else if((r=r.filter((function(e){return a.basename(e).indexOf(&quot;.ai.json&quot;)&gt;-1}))).length&gt;0){var n=r[0],i=a.join(e._tempDir,n);o.readFile(i,(function(t,r){t?e._onErrorHelper(t):o.unlink(i,(function(t){if(t)e._onErrorHelper(t);else try{var n=JSON.parse(r.toString());e.send(n)}catch(e){p.warn(&quot;Failed to read persisted file&quot;,e)}}))}))}}))}))},e.prototype._onErrorHelper=function(e){&quot;function&quot;==typeof this._onError&amp;&amp;this._onError(e)},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){p.warn(&quot;Failed to serialize payload&quot;,t,e)}},e.prototype._fileCleanupTask=function(){var t=this;o.exists(this._tempDir,(function(r){r&amp;&amp;o.readdir(t._tempDir,(function(r,n){r?t._onErrorHelper(r):(n=n.filter((function(e){return a.basename(e).indexOf(&quot;.ai.json&quot;)&gt;-1}))).length&gt;0&amp;&amp;n.forEach((function(r){var n=new Date(parseInt(r.split(&quot;.ai.json&quot;)[0]));if(new Date(+new Date-e.FILE_RETEMPTION_PERIOD)&gt;n){var i=a.join(t._tempDir,r);o.unlink(i,(function(e){e&amp;&amp;t._onErrorHelper(e)}))}}))}))}))},e.TAG=&quot;Sender&quot;,e.ICACLS_PATH=process.env.systemdrive+&quot;/windows/system32/icacls.exe&quot;,e.POWERSHELL_PATH=process.env.systemdrive+&quot;/windows/system32/windowspowershell/v1.0/powershell.exe&quot;,e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX=&quot;appInsights-node&quot;,e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS=&quot;Windows_NT&quot;===s.type(),e}();t.exports=h})),Yn=f(((e,t)=&gt;{&quot;use strict&quot;;var r=Gr(),n=Yt(),i=hn(),o=function(){function e(){}return e.createEnvelope=function(t,i,o,s,a){var c=null;switch(i){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t);break;case r.TelemetryType.Availability:c=e.createAvailabilityData(t);break;case r.TelemetryType.PageView:c=e.createPageViewData(t)}if(o&amp;&amp;r.domainSupportsProperties(c.baseData)){if(c&amp;&amp;c.baseData)if(c.baseData.properties)for(var l in o)c.baseData.properties[l]||(c.baseData.properties[l]=o[l]);else c.baseData.properties=o;c.baseData.properties=n.validateStringMap(c.baseData.properties)}var p=a&amp;&amp;a.instrumentationKey||&quot;&quot;,u=new r.Envelope;return u.data=c,u.iKey=p,u.name=&quot;Microsoft.ApplicationInsights.&quot;+p.replace(/-/g,&quot;&quot;)+&quot;.&quot;+c.baseType.substr(0,c.baseType.length-4),u.tags=this.getTags(s,t.tagOverrides),u.time=(new Date).toISOString(),u.ver=1,u.sampleRate=a?a.samplingPercentage:100,i===r.TelemetryType.Metric&amp;&amp;(u.sampleRate=100),u},e.createTraceData=function(e){var t=new r.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Information:t.severityLevel=e.severity;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),n.baseData=t,n},e.createDependencyData=function(e){var t=new r.RemoteDependencyData;&quot;string&quot;==typeof e.name&amp;&amp;(t.name=e.name.length&gt;1024?e.name.slice(0,1021)+&quot;...&quot;:e.name),t.data=e.data,t.target=e.target,t.duration=n.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+&quot;&quot;:&quot;&quot;,e.id?t.id=e.id:t.id=n.w3cTraceId();var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),i.baseData=t,i},e.createEventData=function(e){var t=new r.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),n.baseData=t,n},e.createExceptionData=function(e){var t=new r.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var i=e.exception.stack,o=new r.ExceptionDetails;o.message=e.exception.message,o.typeName=e.exception.name,o.parsedStack=this.parseStack(i),o.hasFullStack=n.isArray(o.parsedStack)&amp;&amp;o.parsedStack.length&gt;0,t.exceptions.push(o);var s=new r.Data;return s.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new r.RequestData;e.id?t.id=e.id:t.id=n.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=n.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+&quot;&quot;:&quot;&quot;,t.success=e.success,t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),i.baseData=t,i},e.createMetricData=function(e){var t=new r.MetricData;t.metrics=[];var n=new r.DataPoint;n.count=isNaN(e.count)?1:e.count,n.kind=r.DataPointType.Aggregation,n.max=isNaN(e.max)?e.value:e.max,n.min=isNaN(e.min)?e.value:e.min,n.name=e.name,n.stdDev=isNaN(e.stdDev)?0:e.stdDev,n.value=e.value,t.metrics.push(n),t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),i.baseData=t,i},e.createAvailabilityData=function(e){var t=new r.AvailabilityData;e.id?t.id=e.id:t.id=n.w3cTraceId(),t.name=e.name,t.duration=n.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),i.baseData=t,i},e.createPageViewData=function(e){var t=new r.PageViewData;t.name=e.name,t.duration=n.msToTimeSpan(e.duration),t.url=e.url,t.measurements=e.measurements,t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),i.baseData=t,i},e.getTags=function(e,t){var r=i.CorrelationContextManager.getCurrentContext(),n={};if(e&amp;&amp;e.tags)for(var o in e.tags)n[o]=e.tags[o];if(t)for(var o in t)n[o]=t[o];return r&amp;&amp;(n[e.keys.operationId]=n[e.keys.operationId]||r.operation.id,n[e.keys.operationName]=n[e.keys.operationName]||r.operation.name,n[e.keys.operationParentId]=n[e.keys.operationParentId]||r.operation.parentId),n},e.parseStack=function(e){var t=void 0;if(&quot;string&quot;==typeof e){var r=e.split(&quot;\n&quot;);t=[];for(var n=0,i=0,o=0;o&lt;=r.length;o++){var a=r[o];if(s.regex.test(a)){var c=new s(r[o],n++);i+=c.sizeInBytes,t.push(c)}}if(i&gt;32768)for(var l=0,p=t.length-1,u=0,d=l,h=p;l&lt;p;){if((u+=t[l].sizeInBytes+t[p].sizeInBytes)&gt;32768){var f=h-d+1;t.splice(d,f);break}d=l,h=p,l++,p--}}return t},e}(),s=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method=&quot;&lt;no_method&gt;&quot;,this.assembly=n.trim(t);var i=t.match(e.regex);i&amp;&amp;i.length&gt;=5&amp;&amp;(this.method=n.trim(i[2])||this.method,this.fileName=n.trim(i[4])||&quot;&lt;no_filename&gt;&quot;,this.line=parseInt(i[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();t.exports=o})),Xn=f(((e,t)=&gt;{&quot;use strict&quot;;var n=r(7310),i=Bn(),o=Tn(),s=Gr(),a=Gn(),c=zn(),l=hn(),p=Kn(),u=Yt(),d=_(),h=Yn(),f=function(){function e(e){this._telemetryProcessors=[],this._enableAzureProperties=!1;var t=new i(e);this.config=t,this.context=new o,this.commonProperties={};var r=new p(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),r)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackPageView=function(e){this.track(e,s.TelemetryType.PageView)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&amp;&amp;e.exception&amp;&amp;!u.isError(e.exception)&amp;&amp;(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&amp;&amp;!e.target&amp;&amp;e.data&amp;&amp;(e.target=n.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&amp;&amp;!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&amp;&amp;s.telemetryTypeToBaseType(t)){var r=h.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&amp;&amp;(r.time=e.time.toISOString()),this._enableAzureProperties&amp;&amp;c.azureRoleEnvironmentTelemetryProcessor(r,this.context);var n=this.runTelemetryProcessors(r,e.contextObjects);n=n&amp;&amp;c.samplingTelemetryProcessor(r,{correlationContext:l.CorrelationContextManager.getCurrentContext()}),c.preAggregatedMetricsTelemetryProcessor(r,this.context),n&amp;&amp;(c.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),this.channel.send(r))}else d.warn(&quot;track() requires telemetry object and telemetryType to be specified.&quot;)},e.prototype.setAutoPopulateAzureProperties=function(e){this._enableAzureProperties=e},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var r=!0,n=this._telemetryProcessors.length;if(0===n)return r;(t=t||{}).correlationContext=l.CorrelationContextManager.getCurrentContext();for(var i=0;i&lt;n;++i)try{var o=this._telemetryProcessors[i];if(o&amp;&amp;!1===o.apply(null,[e,t])){r=!1;break}}catch(t){r=!0,d.warn(&quot;One of telemetry processors failed, telemetry item will be sent.&quot;,t,e)}return r&amp;&amp;(e&amp;&amp;e.tags&amp;&amp;(e.tags=u.validateStringMap(e.tags)),e&amp;&amp;e.data&amp;&amp;e.data.baseData&amp;&amp;e.data.baseData.properties&amp;&amp;(e.data.baseData.properties=u.validateStringMap(e.data.baseData.properties))),r},e}();t.exports=f})),Qn=f(((e,t)=&gt;{&quot;use strict&quot;;var r,n=e&amp;&amp;e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&amp;&amp;(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=Xn(),o=Dn(),s=kn(),a=_(),c=function(e){function t(){return null!==e&amp;&amp;e.apply(this,arguments)||this}return n(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&amp;&amp;e.request&amp;&amp;e.response&amp;&amp;e.duration?o.trackRequestSync(this,e):a.warn(&quot;trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.&quot;)},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&amp;&amp;a.warn(&quot;trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.&quot;),e&amp;&amp;e.request&amp;&amp;e.response?o.trackRequest(this,e):a.warn(&quot;trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.&quot;)},t.prototype.trackNodeHttpDependency=function(e){e&amp;&amp;e.request?s.trackRequest(this,e):a.warn(&quot;trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.&quot;)},t}(i);t.exports=c})),Jn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})})),Zn=f((e=&gt;{&quot;use strict&quot;;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t,r,n=hn(),i=mn(),o=gn(),s=En(),a=wn(),c=Nn(),l=kn(),p=Dn(),u=Xt(),d=_(),h=Un(),f=Hn();e.TelemetryClient=Qn(),e.Contracts=Gr(),e.azureFunctionsTypes=Jn(),(r=t=e.DistributedTracingModes||(e.DistributedTracingModes={}))[r.AI=0]=&quot;AI&quot;,r[r.AI_AND_W3C=1]=&quot;AI_AND_W3C&quot;;var v,m,g,y,E,b,S,w,T,x,P,C=!0,A=!1,I=!0,O=!0,R=!0,k=!1,N=!0,D=!0,M=!0,L=!0,j=!1,U=!0,F=void 0,B=void 0,H=!1;function G(){return e.defaultClient?(H=!0,g.enable(C,A),y.enable(I),E.enable(O),b.enable(R),S.enable(k,e.defaultClient.config),w.enable(U,m),T.useAutoCorrelation(L,v),T.enable(N),x.enable(D),e.liveMetricsClient&amp;&amp;j&amp;&amp;e.liveMetricsClient.enable(j)):d.warn(&quot;Start cannot be called before setup&quot;),q}e.setup=function(t){return e.defaultClient?d.info(&quot;The default client is already setup&quot;):(e.defaultClient=new e.TelemetryClient(t),g=new i(e.defaultClient),y=new o(e.defaultClient),E=new s(e.defaultClient),b=new a(e.defaultClient),S=new c(e.defaultClient),T=new p(e.defaultClient),x=new l(e.defaultClient),w||(w=new f.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&amp;&amp;e.defaultClient.channel&amp;&amp;e.defaultClient.channel.setUseDiskRetryCaching(M,F,B),q},e.start=G,e.getCorrelationContext=function(){return L?n.CorrelationContextManager.getCurrentContext():null},e.startOperation=function(e,t){return n.CorrelationContextManager.startOperation(e,t)},e.wrapWithCorrelationContext=function(e,t){return n.CorrelationContextManager.wrapCallback(e,t)};var q=function(){function r(){}return r.setDistributedTracingMode=function(e){return u.w3cEnabled=e===t.AI_AND_W3C,r},r.setAutoCollectConsole=function(e,t){return void 0===t&amp;&amp;(t=!1),C=e,A=t,H&amp;&amp;g.enable(e,t),r},r.setAutoCollectExceptions=function(e){return I=e,H&amp;&amp;y.enable(e),r},r.setAutoCollectPerformance=function(e,t){void 0===t&amp;&amp;(t=!0),O=e;var n=f.AutoCollectNativePerformance.parseEnabled(t);return U=n.isEnabled,m=n.disabledMetrics,H&amp;&amp;(E.enable(e),w.enable(n.isEnabled,n.disabledMetrics)),r},r.setAutoCollectPreAggregatedMetrics=function(e){return R=e,H&amp;&amp;b.enable(e),r},r.setAutoCollectHeartbeat=function(t){return k=t,H&amp;&amp;S.enable(t,e.defaultClient.config),r},r.setAutoCollectRequests=function(e){return N=e,H&amp;&amp;T.enable(e),r},r.setAutoCollectDependencies=function(e){return D=e,H&amp;&amp;x.enable(e),r},r.setAutoDependencyCorrelation=function(e,t){return L=e,v=t,H&amp;&amp;T.useAutoCorrelation(e,t),r},r.setUseDiskRetryCaching=function(t,n,i){return M=t,F=n,B=i,e.defaultClient&amp;&amp;e.defaultClient.channel&amp;&amp;e.defaultClient.channel.setUseDiskRetryCaching(t,n,i),r},r.setInternalLogging=function(e,t){return void 0===e&amp;&amp;(e=!1),void 0===t&amp;&amp;(t=!0),d.enableDebug=e,d.disableWarnings=!t,r},r.setSendLiveMetrics=function(t){return void 0===t&amp;&amp;(t=!1),e.defaultClient?(!e.liveMetricsClient&amp;&amp;t?(e.liveMetricsClient=new h(e.defaultClient.config,null),P=new s(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(P),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&amp;&amp;e.liveMetricsClient.enable(t),j=t,r):(d.warn(&quot;Live metrics client cannot be setup without the default client&quot;),r)},r.start=G,r}();e.Configuration=q,e.dispose=function(){u.w3cEnabled=!0,e.defaultClient=null,H=!1,g&amp;&amp;g.dispose(),y&amp;&amp;y.dispose(),E&amp;&amp;E.dispose(),b&amp;&amp;b.dispose(),S&amp;&amp;S.dispose(),w&amp;&amp;w.dispose(),T&amp;&amp;T.dispose(),x&amp;&amp;x.dispose(),e.liveMetricsClient&amp;&amp;(e.liveMetricsClient.enable(!1),j=!1,e.liveMetricsClient=void 0)}}));((e,t)=&gt;{for(var r in h(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=&gt;ci});var ei,ti,ri=v(r(2037)),ni=v(r(9496)),ii=v(r(9496)),oi=v(r(9496));function si(){return void 0!==oi.env.isTelemetryEnabled?oi.env.isTelemetryEnabled?ei.ON:ei.OFF:oi.workspace.getConfiguration(&quot;telemetry&quot;).get(&quot;enableTelemetry&quot;)?ei.ON:ei.OFF}(ti=ei||(ei={})).ON=&quot;on&quot;,ti.OFF=&quot;off&quot;;var ai=async e=&gt;{let t;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=&quot;1&quot;;let r=await Promise.resolve().then((()=&gt;v(Zn())));r.defaultClient?(t=new r.TelemetryClient(e),t.channel.setUseDiskRetryCaching(!0)):(r.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),t=r.defaultClient),ni&amp;&amp;ni.env&amp;&amp;(t.context.tags[t.context.keys.userId]=ni.env.machineId,t.context.tags[t.context.keys.sessionId]=ni.env.sessionId,t.context.tags[t.context.keys.cloudRole]=ni.env.appName,t.context.tags[t.context.keys.cloudRoleInstance]=ni.env.appName),e&amp;&amp;0===e.indexOf(&quot;AIF-&quot;)&amp;&amp;(t.config.endpointUrl=&quot;https://vortex.data.microsoft.com/collect/v1&quot;)}catch(e){return Promise.reject(e)}return{logEvent:(e,r)=&gt;{null==t||t.trackEvent({name:e,properties:null==r?void 0:r.properties,measurements:null==r?void 0:r.measurements})},logException:(e,r)=&gt;{null==t||t.trackException({exception:e,properties:null==r?void 0:r.properties,measurements:null==r?void 0:r.measurements})},flush:async()=&gt;{null==t||t.flush()}}},ci=class extends class{constructor(e,t,r,n,i){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=r,this.osShim=n,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),void 0!==ii.env.onDidChangeTelemetryEnabled?(this.disposables.push(ii.env.onDidChangeTelemetryEnabled((()=&gt;this.updateUserOptStatus()))),this.disposables.push(ii.workspace.onDidChangeConfiguration((()=&gt;this.updateUserOptStatus())))):this.disposables.push(ii.workspace.onDidChangeConfiguration((()=&gt;this.updateUserOptStatus())))}updateUserOptStatus(){let e=si();this.userOptIn=e===ei.ON,this.errorOptIn=e===ei.ON,(this.userOptIn||this.errorOptIn)&amp;&amp;this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return&quot;none&quot;;let t=&quot;other&quot;;return[&quot;ssh-remote&quot;,&quot;dev-container&quot;,&quot;attached-container&quot;,&quot;wsl&quot;,&quot;codespaces&quot;].forEach((r=&gt;{0===e.indexOf(`${r}+`)&amp;&amp;(t=r)})),t}get extension(){return void 0===this._extension&amp;&amp;(this._extension=ii.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||&quot;object&quot;!=typeof e||&quot;function&quot;!=typeof t)return e;let r={};for(let n in e)r[n]=t(n,e[n]);return r}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&amp;&amp;&quot;other&quot;===this.cleanRemoteName(ii.env.remoteName)&amp;&amp;(void 0===this.extension||this.extension.extensionKind===ii.ExtensionKind.Workspace||ii.env.uiKind===ii.UIKind.Web))}getCommonProperties(){let e=Object.create(null);if(e[&quot;common.os&quot;]=this.osShim.platform,e[&quot;common.nodeArch&quot;]=this.osShim.architecture,e[&quot;common.platformversion&quot;]=(this.osShim.release||&quot;&quot;).replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,&quot;$1$2$3&quot;),e[&quot;common.extname&quot;]=this.extensionId,e[&quot;common.extversion&quot;]=this.extensionVersion,ii&amp;&amp;ii.env){switch(e[&quot;common.vscodemachineid&quot;]=ii.env.machineId,e[&quot;common.vscodesessionid&quot;]=ii.env.sessionId,e[&quot;common.vscodeversion&quot;]=ii.version,e[&quot;common.isnewappinstall&quot;]=ii.env.isNewAppInstall?ii.env.isNewAppInstall.toString():&quot;false&quot;,e[&quot;common.product&quot;]=ii.env.appHost,ii.env.uiKind){case ii.UIKind.Web:e[&quot;common.uikind&quot;]=&quot;web&quot;;break;case ii.UIKind.Desktop:e[&quot;common.uikind&quot;]=&quot;desktop&quot;;break;default:e[&quot;common.uikind&quot;]=&quot;unknown&quot;}e[&quot;common.remotename&quot;]=this.cleanRemoteName(ii.env.remoteName)}return e}anonymizeFilePaths(e,t){let r;if(null==e)return&quot;&quot;;let n=[];&quot;&quot;!==ii.env.appRoot&amp;&amp;n.push(new RegExp(ii.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,&quot;\\$&amp;&quot;),&quot;gi&quot;)),this.extension&amp;&amp;n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,&quot;\\$&amp;&quot;),&quot;gi&quot;));let i=e;if(t){let t=[];for(let i of n)for(;(r=i.exec(e))&amp;&amp;r;)t.push([r.index,i.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,a=0;for(i=&quot;&quot;;(r=s.exec(e))&amp;&amp;r;)r[0]&amp;&amp;!o.test(r[0])&amp;&amp;t.every((([e,t])=&gt;r.index&lt;e||r.index&gt;=t))&amp;&amp;(i+=e.substring(a,r.index)+&quot;&lt;REDACTED: user-file-path&gt;&quot;,a=s.lastIndex);a&lt;e.length&amp;&amp;(i+=e.substr(a))}for(let e of n)i=i.replace(e,&quot;&quot;);return i}removePropertiesWithPossibleUserInfo(e){if(&quot;object&quot;!=typeof e)return;let t=Object.create(null);for(let r of Object.keys(e)){let n=e[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/;/(key|token|sig|signature|password|passwd|pwd)[=&quot;':\s]/.test(n.toLowerCase())?t[r]=&quot;&lt;REDACTED: secret&gt;&quot;:i.test(n)?t[r]=&quot;&lt;REDACTED: email&gt;&quot;:t[r]=n}return t}sendTelemetryEvent(e,t,r){if(this.userOptIn&amp;&amp;&quot;&quot;!==e){t=d(d({},t),this.getCommonProperties());let n=this.cloneAndChange(t,((e,t)=&gt;this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}sendRawTelemetryEvent(e,t,r){this.userOptIn&amp;&amp;&quot;&quot;!==e&amp;&amp;(t=d(d({},t),this.getCommonProperties()),this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:t,measurements:r}))}sendTelemetryErrorEvent(e,t,r,n){if(this.errorOptIn&amp;&amp;&quot;&quot;!==e){t=d(d({},t),this.getCommonProperties());let i=this.cloneAndChange(t,((e,t)=&gt;this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(t,this.firstParty):void 0===n||-1!==n.indexOf(e)?&quot;REDACTED&quot;:this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:r})}}sendTelemetryException(e,t,r){if(this.shouldSendErrorTelemetry()&amp;&amp;this.errorOptIn&amp;&amp;e){t=d(d({},t),this.getCommonProperties());let n=this.cloneAndChange(t,((e,t)=&gt;this.anonymizeFilePaths(t,this.firstParty)));e.stack&amp;&amp;(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),this.telemetryAppender.logException(e,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=&gt;e.dispose())))}}{constructor(e,t,r,n){let i=new class{constructor(e,t){this._isInstantiated=!1,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e,si()!==ei.OFF&amp;&amp;this.instantiateAppender()}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):!this._isInstantiated&amp;&amp;si()===ei.ON&amp;&amp;this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):!this._isInstantiated&amp;&amp;si()!==ei.OFF&amp;&amp;this._exceptionQueue.push({exception:e,data:t})}async flush(){this._telemetryClient&amp;&amp;(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=&gt;this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=&gt;this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then((e=&gt;{this._telemetryClient=e,this._isInstantiated=!0,this._flushQueues()})).catch((e=&gt;{console.error(e)}))}}(r,ai);r&amp;&amp;0===r.indexOf(&quot;AIF-&quot;)&amp;&amp;(n=!0),super(e,t,i,{release:ri.release(),platform:ri.platform(),architecture:ri.arch()},n)}}},7776:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.config=t.loadMessageBundle=t.localize=t.format=t.setPseudo=t.isPseudo=t.isDefined=t.BundleFormat=t.MessageFormat=void 0;var n,i,o,s=r(1070);function a(e){return void 0!==e}function c(e,r){return t.isPseudo&amp;&amp;(e=&quot;［&quot;+e.replace(/[aouei]/g,&quot;$&amp;$&amp;&quot;)+&quot;］&quot;),0===r.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var n=t[0],i=r[n],o=e;return&quot;string&quot;==typeof i?o=i:&quot;number&quot;!=typeof i&amp;&amp;&quot;boolean&quot;!=typeof i&amp;&amp;null!=i||(o=String(i)),o}))}(o=t.MessageFormat||(t.MessageFormat={})).file=&quot;file&quot;,o.bundle=&quot;bundle&quot;,o.both=&quot;both&quot;,(i=t.BundleFormat||(t.BundleFormat={})).standalone=&quot;standalone&quot;,i.languagePack=&quot;languagePack&quot;,function(e){e.is=function(e){var t=e;return t&amp;&amp;a(t.key)&amp;&amp;a(t.comment)}}(n||(n={})),t.isDefined=a,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=c,t.localize=function(e,t){for(var r=[],n=2;n&lt;arguments.length;n++)r[n-2]=arguments[n];return c(t,r)},t.loadMessageBundle=function(e){return(0,s.default)().loadMessageBundle(e)},t.config=function(e){return(0,s.default)().config(e)}},1070:(e,t)=&gt;{&quot;use strict&quot;;var r;function n(){if(void 0===r)throw new Error(&quot;No runtime abstraction layer installed&quot;);return r}Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error(&quot;No runtime abstraction layer provided&quot;);r=e}}(n||(n={})),t.default=n},3463:(e,t,r)=&gt;{&quot;use strict&quot;;Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.config=t.loadMessageBundle=t.BundleFormat=t.MessageFormat=void 0;var n=r(1017),i=r(7147),o=r(1070),s=r(7776),a=r(7776);Object.defineProperty(t,&quot;MessageFormat&quot;,{enumerable:!0,get:function(){return a.MessageFormat}}),Object.defineProperty(t,&quot;BundleFormat&quot;,{enumerable:!0,get:function(){return a.BundleFormat}});var c,l,p=Object.prototype.toString;function u(e){return&quot;[object Number]&quot;===p.call(e)}function d(e){return&quot;[object String]&quot;===p.call(e)}function h(e){return JSON.parse(i.readFileSync(e,&quot;utf8&quot;))}function f(e){return function(t,r){for(var n=[],i=2;i&lt;arguments.length;i++)n[i-2]=arguments[i];return u(t)?t&gt;=e.length?void console.error(&quot;Broken localize call found. Index out of bounds. Stacktrace is\n: &quot;.concat(new Error(&quot;&quot;).stack)):(0,s.format)(e[t],n):d(r)?(console.warn(&quot;Message &quot;.concat(r,&quot; didn't get externalized correctly.&quot;)),(0,s.format)(r,n)):void console.error(&quot;Broken localize call found. Stacktrace is\n: &quot;.concat(new Error(&quot;&quot;).stack))}}function v(e,t){return c[e]=t,t}function _(e){try{return function(e){var t=h(n.join(e,&quot;nls.metadata.json&quot;)),r=Object.create(null);for(var i in t){var o=t[i];r[i]=o.messages}return r}(e)}catch(e){return void console.log(&quot;Generating default bundle from meta data failed.&quot;,e)}}function m(e,t){var r;if(!0===l.languagePackSupport&amp;&amp;void 0!==l.cacheRoot&amp;&amp;void 0!==l.languagePackId&amp;&amp;void 0!==l.translationsConfigFile&amp;&amp;void 0!==l.translationsConfig)try{r=function(e,t){var r,o,s,a=n.join(l.cacheRoot,&quot;&quot;.concat(e.id,&quot;-&quot;).concat(e.hash,&quot;.json&quot;)),c=!1,p=!1;try{return r=JSON.parse(i.readFileSync(a,{encoding:&quot;utf8&quot;,flag:&quot;r&quot;})),o=a,s=new Date,i.utimes(o,s,s,(function(){})),r}catch(e){if(&quot;ENOENT&quot;===e.code)p=!0;else{if(!(e instanceof SyntaxError))throw e;console.log(&quot;Syntax error parsing message bundle: &quot;.concat(e.message,&quot;.&quot;)),i.unlink(a,(function(e){e&amp;&amp;console.error(&quot;Deleting corrupted bundle &quot;.concat(a,&quot; failed.&quot;))})),c=!0}}if(r=function(e,t){var r=l.translationsConfig[e.id];if(r){var i=h(r).contents,o=h(n.join(t,&quot;nls.metadata.json&quot;)),s=Object.create(null);for(var a in o){var c=o[a],p=i[&quot;&quot;.concat(e.outDir,&quot;/&quot;).concat(a)];if(p){for(var u=[],f=0;f&lt;c.keys.length;f++){var v=c.keys[f],_=p[d(v)?v:v.key];void 0===_&amp;&amp;(_=c.messages[f]),u.push(_)}s[a]=u}else s[a]=c.messages}return s}}(e,t),!r||c)return r;if(p)try{i.writeFileSync(a,JSON.stringify(r),{encoding:&quot;utf8&quot;,flag:&quot;wx&quot;})}catch(e){if(&quot;EEXIST&quot;===e.code)return r;throw e}return r}(e,t)}catch(e){console.log(&quot;Load or create bundle failed &quot;,e)}if(!r){if(l.languagePackSupport)return _(t);var o=function(e){for(var t=l.language;t;){var r=n.join(e,&quot;nls.bundle.&quot;.concat(t,&quot;.json&quot;));if(i.existsSync(r))return r;var o=t.lastIndexOf(&quot;-&quot;);t=o&gt;0?t.substring(0,o):void 0}if(void 0===t&amp;&amp;(r=n.join(e,&quot;nls.bundle.json&quot;),i.existsSync(r)))return r}(t);if(o)try{return h(o)}catch(e){console.log(&quot;Loading in the box message bundle failed.&quot;,e)}r=_(t)}return r}function g(e){if(!e)return s.localize;var t=n.extname(e);if(t&amp;&amp;(e=e.substr(0,e.length-t.length)),l.messageFormat===s.MessageFormat.both||l.messageFormat===s.MessageFormat.bundle){var r=function(e){for(var t,r=n.dirname(e);t=n.join(r,&quot;nls.metadata.header.json&quot;),!i.existsSync(t);){var o=n.dirname(r);if(o===r){t=void 0;break}r=o}return t}(e);if(r){var o=n.dirname(r),a=c[o];if(void 0===a)try{var p=JSON.parse(i.readFileSync(r,&quot;utf8&quot;));try{var u=m(p,o);a=v(o,u?{header:p,nlsBundle:u}:null)}catch(e){console.error(&quot;Failed to load nls bundle&quot;,e),a=v(o,null)}}catch(e){console.error(&quot;Failed to read header file&quot;,e),a=v(o,null)}if(a){var d=e.substr(o.length+1).replace(/\\/g,&quot;/&quot;),_=a.nlsBundle[d];return void 0===_?(console.error(&quot;Messages for file &quot;.concat(e,&quot; not found. See console for details.&quot;)),function(){return&quot;Messages not found.&quot;}):f(_)}}}if(l.messageFormat===s.MessageFormat.both||l.messageFormat===s.MessageFormat.file)try{var g=h(function(e){var t;if(l.cacheLanguageResolution&amp;&amp;t);else{if(s.isPseudo||!l.language)t=&quot;.nls.json&quot;;else for(var r=l.language;r;){var n=&quot;.nls.&quot;+r+&quot;.json&quot;;if(i.existsSync(e+n)){t=n;break}var o=r.lastIndexOf(&quot;-&quot;);o&gt;0?r=r.substring(0,o):(t=&quot;.nls.json&quot;,r=null)}l.cacheLanguageResolution}return e+t}(e));return Array.isArray(g)?f(g):(0,s.isDefined)(g.messages)&amp;&amp;(0,s.isDefined)(g.keys)?f(g.messages):(console.error(&quot;String bundle '&quot;.concat(e,&quot;' uses an unsupported format.&quot;)),function(){return&quot;File bundle has unsupported format. See console for details&quot;})}catch(e){&quot;ENOENT&quot;!==e.code&amp;&amp;console.error(&quot;Failed to load single file bundle&quot;,e)}return console.error(&quot;Failed to load message bundle for file &quot;.concat(e)),function(){return&quot;Failed to load message bundle. See console for details.&quot;}}function y(e){return e&amp;&amp;(d(e.locale)&amp;&amp;(l.locale=e.locale.toLowerCase(),l.language=l.locale,c=Object.create(null)),void 0!==e.messageFormat&amp;&amp;(l.messageFormat=e.messageFormat),e.bundleFormat===s.BundleFormat.standalone&amp;&amp;!0===l.languagePackSupport&amp;&amp;(l.languagePackSupport=!1)),(0,s.setPseudo)(&quot;pseudo&quot;===l.locale),g}!function(){if(l={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:s.MessageFormat.bundle},d(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var r=e.availableLanguages[&quot;*&quot;];d(r)&amp;&amp;(t=r)}if(d(e.locale)&amp;&amp;(l.locale=e.locale.toLowerCase()),void 0===t?l.language=l.locale:&quot;en&quot;!==t&amp;&amp;(l.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&amp;&amp;(l.languagePackSupport=e._languagePackSupport),d(e._cacheRoot)&amp;&amp;(l.cacheRoot=e._cacheRoot),d(e._languagePackId)&amp;&amp;(l.languagePackId=e._languagePackId),d(e._translationsConfigFile)){l.translationsConfigFile=e._translationsConfigFile;try{l.translationsConfig=h(l.translationsConfigFile)}catch(t){if(e._corruptedFile){var o=n.dirname(e._corruptedFile);i.exists(o,(function(t){t&amp;&amp;i.writeFile(e._corruptedFile,&quot;corrupted&quot;,&quot;utf8&quot;,(function(e){console.error(e)}))}))}}}}catch(e){}(0,s.setPseudo)(&quot;pseudo&quot;===l.locale),c=Object.create(null)}(),t.loadMessageBundle=g,t.config=y,o.default.install(Object.freeze({loadMessageBundle:g,config:y}))},8681:(e,t,r)=&gt;{&quot;use strict&quot;;const n=r(2982);n.createWebSocketStream=r(5519),n.Server=r(58),n.Receiver=r(3091),n.Sender=r(2091),n.WebSocket=n,n.WebSocketServer=n.Server,e.exports=n},4847:(e,t,r)=&gt;{&quot;use strict&quot;;const{EMPTY_BUFFER:n}=r(9864);function i(e,t,r,n,i){for(let o=0;o&lt;i;o++)r[n+o]=e[o]^t[3&amp;o]}function o(e,t){for(let r=0;r&lt;e.length;r++)e[r]^=t[3&amp;r]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let i=0;for(let t=0;t&lt;e.length;t++){const n=e[t];r.set(n,i),i+=n.length}return i&lt;t?r.slice(0,i):r},mask:i,toArrayBuffer:function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let r;return t instanceof ArrayBuffer?r=Buffer.from(t):ArrayBuffer.isView(t)?r=Buffer.from(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),e.readOnly=!1),r},unmask:o},!process.env.WS_NO_BUFFER_UTIL)try{const t=r(8447);e.exports.mask=function(e,r,n,o,s){s&lt;48?i(e,r,n,o,s):t.mask(e,r,n,o,s)},e.exports.unmask=function(e,r){e.length&lt;32?o(e,r):t.unmask(e,r)}}catch(e){}},9864:e=&gt;{&quot;use strict&quot;;e.exports={BINARY_TYPES:[&quot;nodebuffer&quot;,&quot;arraybuffer&quot;,&quot;fragments&quot;],EMPTY_BUFFER:Buffer.alloc(0),GUID:&quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;,kForOnEventAttribute:Symbol(&quot;kIsForOnEventAttribute&quot;),kListener:Symbol(&quot;kListener&quot;),kStatusCode:Symbol(&quot;status-code&quot;),kWebSocket:Symbol(&quot;websocket&quot;),NOOP:()=&gt;{}}},5831:(e,t,r)=&gt;{&quot;use strict&quot;;const{kForOnEventAttribute:n,kListener:i}=r(9864),o=Symbol(&quot;kCode&quot;),s=Symbol(&quot;kData&quot;),a=Symbol(&quot;kError&quot;),c=Symbol(&quot;kMessage&quot;),l=Symbol(&quot;kReason&quot;),p=Symbol(&quot;kTarget&quot;),u=Symbol(&quot;kType&quot;),d=Symbol(&quot;kWasClean&quot;);class h{constructor(e){this[p]=null,this[u]=e}get target(){return this[p]}get type(){return this[u]}}Object.defineProperty(h.prototype,&quot;target&quot;,{enumerable:!0}),Object.defineProperty(h.prototype,&quot;type&quot;,{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[o]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?&quot;&quot;:t.reason,this[d]=void 0!==t.wasClean&amp;&amp;t.wasClean}get code(){return this[o]}get reason(){return this[l]}get wasClean(){return this[d]}}Object.defineProperty(f.prototype,&quot;code&quot;,{enumerable:!0}),Object.defineProperty(f.prototype,&quot;reason&quot;,{enumerable:!0}),Object.defineProperty(f.prototype,&quot;wasClean&quot;,{enumerable:!0});class v extends h{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?&quot;&quot;:t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(v.prototype,&quot;error&quot;,{enumerable:!0}),Object.defineProperty(v.prototype,&quot;message&quot;,{enumerable:!0});class _ extends h{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}Object.defineProperty(_.prototype,&quot;data&quot;,{enumerable:!0});const m={addEventListener(e,t,r={}){let o;if(&quot;message&quot;===e)o=function(e,r){const n=new _(&quot;message&quot;,{data:r?e:e.toString()});n[p]=this,t.call(this,n)};else if(&quot;close&quot;===e)o=function(e,r){const n=new f(&quot;close&quot;,{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&amp;&amp;this._closeFrameSent});n[p]=this,t.call(this,n)};else if(&quot;error&quot;===e)o=function(e){const r=new v(&quot;error&quot;,{error:e,message:e.message});r[p]=this,t.call(this,r)};else{if(&quot;open&quot;!==e)return;o=function(){const e=new h(&quot;open&quot;);e[p]=this,t.call(this,e)}}o[n]=!!r[n],o[i]=t,r.once?this.once(e,o):this.on(e,o)},removeEventListener(e,t){for(const r of this.listeners(e))if(r[i]===t&amp;&amp;!r[n]){this.removeListener(e,r);break}}};e.exports={CloseEvent:f,ErrorEvent:v,Event:h,EventTarget:m,MessageEvent:_}},3071:(e,t,r)=&gt;{&quot;use strict&quot;;const{tokenChars:n}=r(1607);function i(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map((t=&gt;{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=&gt;[t].concat(Object.keys(e).map((t=&gt;{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=&gt;!0===e?t:`${t}=${e}`)).join(&quot;; &quot;)}))).join(&quot;; &quot;))).join(&quot;, &quot;)})).join(&quot;, &quot;)},parse:function(e){const t=Object.create(null);let r,o,s=Object.create(null),a=!1,c=!1,l=!1,p=-1,u=-1,d=-1,h=0;for(;h&lt;e.length;h++)if(u=e.charCodeAt(h),void 0===r)if(-1===d&amp;&amp;1===n[u])-1===p&amp;&amp;(p=h);else if(0===h||32!==u&amp;&amp;9!==u){if(59!==u&amp;&amp;44!==u)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===p)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&amp;&amp;(d=h);const n=e.slice(p,d);44===u?(i(t,n,s),s=Object.create(null)):r=n,p=d=-1}}else-1===d&amp;&amp;-1!==p&amp;&amp;(d=h);else if(void 0===o)if(-1===d&amp;&amp;1===n[u])-1===p&amp;&amp;(p=h);else if(32===u||9===u)-1===d&amp;&amp;-1!==p&amp;&amp;(d=h);else if(59===u||44===u){if(-1===p)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&amp;&amp;(d=h),i(s,e.slice(p,d),!0),44===u&amp;&amp;(i(t,r,s),s=Object.create(null),r=void 0),p=d=-1}else{if(61!==u||-1===p||-1!==d)throw new SyntaxError(`Unexpected character at index ${h}`);o=e.slice(p,h),p=d=-1}else if(c){if(1!==n[u])throw new SyntaxError(`Unexpected character at index ${h}`);-1===p?p=h:a||(a=!0),c=!1}else if(l)if(1===n[u])-1===p&amp;&amp;(p=h);else if(34===u&amp;&amp;-1!==p)l=!1,d=h;else{if(92!==u)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===u&amp;&amp;61===e.charCodeAt(h-1))l=!0;else if(-1===d&amp;&amp;1===n[u])-1===p&amp;&amp;(p=h);else if(-1===p||32!==u&amp;&amp;9!==u){if(59!==u&amp;&amp;44!==u)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===p)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&amp;&amp;(d=h);let n=e.slice(p,d);a&amp;&amp;(n=n.replace(/\\/g,&quot;&quot;),a=!1),i(s,o,n),44===u&amp;&amp;(i(t,r,s),s=Object.create(null),r=void 0),o=void 0,p=d=-1}}else-1===d&amp;&amp;(d=h);if(-1===p||l||32===u||9===u)throw new SyntaxError(&quot;Unexpected end of input&quot;);-1===d&amp;&amp;(d=h);const f=e.slice(p,d);return void 0===r?i(t,f,s):(void 0===o?i(s,f,!0):i(s,o,a?f.replace(/\\/g,&quot;&quot;):f),i(t,r,s)),t}}},8528:e=&gt;{&quot;use strict&quot;;const t=Symbol(&quot;kDone&quot;),r=Symbol(&quot;kRun&quot;);e.exports=class{constructor(e){this[t]=()=&gt;{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&amp;&amp;this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},7567:(e,t,r)=&gt;{&quot;use strict&quot;;const n=r(9796),i=r(4847),o=r(8528),{kStatusCode:s}=r(9864),a=Buffer.from([0,0,255,255]),c=Symbol(&quot;permessage-deflate&quot;),l=Symbol(&quot;total-length&quot;),p=Symbol(&quot;callback&quot;),u=Symbol(&quot;buffers&quot;),d=Symbol(&quot;error&quot;);let h;function f(e){this[u].push(e),this[l]+=e.length}function v(e){this[l]+=e.length,this[c]._maxPayload&lt;1||this[l]&lt;=this[c]._maxPayload?this[u].push(e):(this[d]=new RangeError(&quot;Max payload size exceeded&quot;),this[d].code=&quot;WS_ERR_UNSUPPORTED_MESSAGE_LENGTH&quot;,this[d][s]=1009,this.removeListener(&quot;data&quot;,v),this.reset())}function _(e){this[c]._inflate=null,e[s]=1007,this[p](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!h){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;h=new o(e)}}static get extensionName(){return&quot;permessage-deflate&quot;}offer(){const e={};return this._options.serverNoContextTakeover&amp;&amp;(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&amp;&amp;(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&amp;&amp;(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&amp;&amp;(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&amp;&amp;(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[p];this._deflate.close(),this._deflate=null,e&amp;&amp;e(new Error(&quot;The deflate stream was closed while data was being processed&quot;))}}acceptAsServer(e){const t=this._options,r=e.find((e=&gt;!(!1===t.serverNoContextTakeover&amp;&amp;e.server_no_context_takeover||e.server_max_window_bits&amp;&amp;(!1===t.serverMaxWindowBits||&quot;number&quot;==typeof t.serverMaxWindowBits&amp;&amp;t.serverMaxWindowBits&gt;e.server_max_window_bits)||&quot;number&quot;==typeof t.clientMaxWindowBits&amp;&amp;!e.client_max_window_bits)));if(!r)throw new Error(&quot;None of the extension offers can be accepted&quot;);return t.serverNoContextTakeover&amp;&amp;(r.server_no_context_takeover=!0),t.clientNoContextTakeover&amp;&amp;(r.client_no_context_takeover=!0),&quot;number&quot;==typeof t.serverMaxWindowBits&amp;&amp;(r.server_max_window_bits=t.serverMaxWindowBits),&quot;number&quot;==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&amp;&amp;!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&amp;&amp;t.client_no_context_takeover)throw new Error('Unexpected parameter &quot;client_no_context_takeover&quot;');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||&quot;number&quot;==typeof this._options.clientMaxWindowBits&amp;&amp;t.client_max_window_bits&gt;this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter &quot;client_max_window_bits&quot;')}else&quot;number&quot;==typeof this._options.clientMaxWindowBits&amp;&amp;(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=&gt;{Object.keys(e).forEach((t=&gt;{let r=e[t];if(r.length&gt;1)throw new Error(`Parameter &quot;${t}&quot; must have only a single value`);if(r=r[0],&quot;client_max_window_bits&quot;===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e&lt;8||e&gt;15)throw new TypeError(`Invalid value for parameter &quot;${t}&quot;: ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter &quot;${t}&quot;: ${r}`)}else if(&quot;server_max_window_bits&quot;===t){const e=+r;if(!Number.isInteger(e)||e&lt;8||e&gt;15)throw new TypeError(`Invalid value for parameter &quot;${t}&quot;: ${r}`);r=e}else{if(&quot;client_no_context_takeover&quot;!==t&amp;&amp;&quot;server_no_context_takeover&quot;!==t)throw new Error(`Unknown parameter &quot;${t}&quot;`);if(!0!==r)throw new TypeError(`Invalid value for parameter &quot;${t}&quot;: ${r}`)}e[t]=r}))})),e}decompress(e,t,r){h.add((n=&gt;{this._decompress(e,t,((e,t)=&gt;{n(),r(e,t)}))}))}compress(e,t,r){h.add((n=&gt;{this._compress(e,t,((e,t)=&gt;{n(),r(e,t)}))}))}_decompress(e,t,r){const o=this._isServer?&quot;client&quot;:&quot;server&quot;;if(!this._inflate){const e=`${o}_max_window_bits`,t=&quot;number&quot;!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[c]=this,this._inflate[l]=0,this._inflate[u]=[],this._inflate.on(&quot;error&quot;,_),this._inflate.on(&quot;data&quot;,v)}this._inflate[p]=r,this._inflate.write(e),t&amp;&amp;this._inflate.write(a),this._inflate.flush((()=&gt;{const e=this._inflate[d];if(e)return this._inflate.close(),this._inflate=null,void r(e);const n=i.concat(this._inflate[u],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[u]=[],t&amp;&amp;this.params[`${o}_no_context_takeover`]&amp;&amp;this._inflate.reset()),r(null,n)}))}_compress(e,t,r){const o=this._isServer?&quot;server&quot;:&quot;client&quot;;if(!this._deflate){const e=`${o}_max_window_bits`,t=&quot;number&quot;!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[l]=0,this._deflate[u]=[],this._deflate.on(&quot;data&quot;,f)}this._deflate[p]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,(()=&gt;{if(!this._deflate)return;let e=i.concat(this._deflate[u],this._deflate[l]);t&amp;&amp;(e=e.slice(0,e.length-4)),this._deflate[p]=null,this._deflate[l]=0,this._deflate[u]=[],t&amp;&amp;this.params[`${o}_no_context_takeover`]&amp;&amp;this._deflate.reset(),r(null,e)}))}}},3091:(e,t,r)=&gt;{&quot;use strict&quot;;const{Writable:n}=r(2781),i=r(7567),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=r(9864),{concat:l,toArrayBuffer:p,unmask:u}=r(4847),{isValidStatusCode:d,isValidUTF8:h}=r(1607);function f(e,t,r,n,i){const o=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,f),o.code=i,o[a]=n,o}e.exports=class extends n{constructor(e={}){super(),this._binaryType=e.binaryType||o[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&amp;&amp;0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e&lt;this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],n=t.length-e;e&gt;=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e&gt;0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes&lt;2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&amp;e[0]))return this._loop=!1,f(RangeError,&quot;RSV2 and RSV3 must be clear&quot;,!0,1002,&quot;WS_ERR_UNEXPECTED_RSV_2_3&quot;);const t=64==(64&amp;e[0]);if(t&amp;&amp;!this._extensions[i.extensionName])return this._loop=!1,f(RangeError,&quot;RSV1 must be clear&quot;,!0,1002,&quot;WS_ERR_UNEXPECTED_RSV_1&quot;);if(this._fin=128==(128&amp;e[0]),this._opcode=15&amp;e[0],this._payloadLength=127&amp;e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,&quot;RSV1 must be clear&quot;,!0,1002,&quot;WS_ERR_UNEXPECTED_RSV_1&quot;);if(!this._fragmented)return this._loop=!1,f(RangeError,&quot;invalid opcode 0&quot;,!0,1002,&quot;WS_ERR_INVALID_OPCODE&quot;);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002,&quot;WS_ERR_INVALID_OPCODE&quot;);this._compressed=t}else{if(!(this._opcode&gt;7&amp;&amp;this._opcode&lt;11))return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002,&quot;WS_ERR_INVALID_OPCODE&quot;);if(!this._fin)return this._loop=!1,f(RangeError,&quot;FIN must be set&quot;,!0,1002,&quot;WS_ERR_EXPECTED_FIN&quot;);if(t)return this._loop=!1,f(RangeError,&quot;RSV1 must be clear&quot;,!0,1002,&quot;WS_ERR_UNEXPECTED_RSV_1&quot;);if(this._payloadLength&gt;125)return this._loop=!1,f(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,&quot;WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH&quot;)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&amp;e[1]),this._isServer){if(!this._masked)return this._loop=!1,f(RangeError,&quot;MASK must be set&quot;,!0,1002,&quot;WS_ERR_EXPECTED_MASK&quot;)}else if(this._masked)return this._loop=!1,f(RangeError,&quot;MASK must be clear&quot;,!0,1002,&quot;WS_ERR_UNEXPECTED_MASK&quot;);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes&lt;2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes&lt;8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t&gt;Math.pow(2,21)-1?(this._loop=!1,f(RangeError,&quot;Unsupported WebSocket frame: payload length &gt; 2^53 - 1&quot;,!1,1009,&quot;WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH&quot;)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&amp;&amp;this._opcode&lt;8&amp;&amp;(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength&gt;this._maxPayload&amp;&amp;this._maxPayload&gt;0))return this._loop=!1,f(RangeError,&quot;Max payload size exceeded&quot;,!1,1009,&quot;WS_ERR_UNSUPPORTED_MESSAGE_LENGTH&quot;);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes&lt;4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes&lt;this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&amp;&amp;0!=(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&amp;&amp;u(t,this._mask)}return this._opcode&gt;7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&amp;&amp;(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,((e,r)=&gt;{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength&gt;this._maxPayload&amp;&amp;this._maxPayload&gt;0)return t(f(RangeError,&quot;Max payload size exceeded&quot;,!1,1009,&quot;WS_ERR_UNSUPPORTED_MESSAGE_LENGTH&quot;));this._fragments.push(r)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r=&quot;nodebuffer&quot;===this._binaryType?l(t,e):&quot;arraybuffer&quot;===this._binaryType?p(l(t,e)):t,this.emit(&quot;message&quot;,r,!0)}else{const r=l(t,e);if(!this._skipUTF8Validation&amp;&amp;!h(r))return this._loop=!1,f(Error,&quot;invalid UTF-8 sequence&quot;,!0,1007,&quot;WS_ERR_INVALID_UTF8&quot;);this.emit(&quot;message&quot;,r,!1)}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit(&quot;conclude&quot;,1005,s),this.end();else{if(1===e.length)return f(RangeError,&quot;invalid payload length 1&quot;,!0,1002,&quot;WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH&quot;);{const t=e.readUInt16BE(0);if(!d(t))return f(RangeError,`invalid status code ${t}`,!0,1002,&quot;WS_ERR_INVALID_CLOSE_CODE&quot;);const r=e.slice(2);if(!this._skipUTF8Validation&amp;&amp;!h(r))return f(Error,&quot;invalid UTF-8 sequence&quot;,!0,1007,&quot;WS_ERR_INVALID_UTF8&quot;);this.emit(&quot;conclude&quot;,t,r),this.end()}}else 9===this._opcode?this.emit(&quot;ping&quot;,e):this.emit(&quot;pong&quot;,e);this._state=0}}},2091:(e,t,r)=&gt;{&quot;use strict&quot;;r(1808),r(4404);const{randomFillSync:n}=r(6113),i=r(7567),{EMPTY_BUFFER:o}=r(9864),{isValidStatusCode:s}=r(1607),{mask:a,toBuffer:c}=r(4847),l=Symbol(&quot;kByteLength&quot;),p=Buffer.alloc(4);class u{constructor(e,t,r){this._extensions=t||{},r&amp;&amp;(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,i,o=!1,s=2,c=!1;t.mask&amp;&amp;(r=t.maskBuffer||p,t.generateMask?t.generateMask(r):n(r,0,4),c=0==(r[0]|r[1]|r[2]|r[3]),s=6),&quot;string&quot;==typeof e?i=t.mask&amp;&amp;!c||void 0===t[l]?(e=Buffer.from(e)).length:t[l]:(i=e.length,o=t.mask&amp;&amp;t.readOnly&amp;&amp;!c);let u=i;i&gt;=65536?(s+=8,u=127):i&gt;125&amp;&amp;(s+=2,u=126);const d=Buffer.allocUnsafe(o?i+s:s);return d[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&amp;&amp;(d[0]|=64),d[1]=u,126===u?d.writeUInt16BE(i,2):127===u&amp;&amp;(d[2]=d[3]=0,d.writeUIntBE(i,4,6)),t.mask?(d[1]|=128,d[s-4]=r[0],d[s-3]=r[1],d[s-2]=r[2],d[s-1]=r[3],c?[d,e]:o?(a(e,r,d,s,i),[d]):(a(e,r,e,0,i),[d,e])):[d,e]}close(e,t,r,n){let i;if(void 0===e)i=o;else{if(&quot;number&quot;!=typeof e||!s(e))throw new TypeError(&quot;First argument must be a valid error code number&quot;);if(void 0!==t&amp;&amp;t.length){const r=Buffer.byteLength(t);if(r&gt;123)throw new RangeError(&quot;The message must not be greater than 123 bytes&quot;);i=Buffer.allocUnsafe(2+r),i.writeUInt16BE(e,0),&quot;string&quot;==typeof t?i.write(t,2):i.set(t,2)}else i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0)}const a={[l]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,i,!1,a,n]):this.sendFrame(u.frame(i,a),n)}ping(e,t,r){let n,i;if(&quot;string&quot;==typeof e?(n=Buffer.byteLength(e),i=!1):(n=(e=c(e)).length,i=c.readOnly),n&gt;125)throw new RangeError(&quot;The data size must not be greater than 125 bytes&quot;);const o={[l]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(u.frame(e,o),r)}pong(e,t,r){let n,i;if(&quot;string&quot;==typeof e?(n=Buffer.byteLength(e),i=!1):(n=(e=c(e)).length,i=c.readOnly),n&gt;125)throw new RangeError(&quot;The data size must not be greater than 125 bytes&quot;);const o={[l]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(u.frame(e,o),r)}send(e,t,r){const n=this._extensions[i.extensionName];let o,s,a=t.binary?2:1,p=t.compress;if(&quot;string&quot;==typeof e?(o=Buffer.byteLength(e),s=!1):(o=(e=c(e)).length,s=c.readOnly),this._firstFragment?(this._firstFragment=!1,p&amp;&amp;n&amp;&amp;n.params[n._isServer?&quot;server_no_context_takeover&quot;:&quot;client_no_context_takeover&quot;]&amp;&amp;(p=o&gt;=n._threshold),this._compress=p):(p=!1,a=0),t.fin&amp;&amp;(this._firstFragment=!0),n){const n={[l]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:p};this._deflating?this.enqueue([this.dispatch,e,this._compress,n,r]):this.dispatch(e,this._compress,n,r)}else this.sendFrame(u.frame(e,{[l]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:!1}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(u.frame(e,r),n);const o=this._extensions[i.extensionName];this._bufferedBytes+=r[l],this._deflating=!0,o.compress(e,r.fin,((e,t)=&gt;{if(this._socket.destroyed){const e=new Error(&quot;The socket was closed while data was being compressed&quot;);&quot;function&quot;==typeof n&amp;&amp;n(e);for(let t=0;t&lt;this._queue.length;t++){const r=this._queue[t],n=r[r.length-1];&quot;function&quot;==typeof n&amp;&amp;n(e)}}else this._bufferedBytes-=r[l],this._deflating=!1,r.readOnly=!1,this.sendFrame(u.frame(t,r),n),this.dequeue()}))}dequeue(){for(;!this._deflating&amp;&amp;this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][l],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][l],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},5519:(e,t,r)=&gt;{&quot;use strict&quot;;const{Duplex:n}=r(2781);function i(e){e.emit(&quot;close&quot;)}function o(){!this.destroyed&amp;&amp;this._writableState.finished&amp;&amp;this.destroy()}function s(e){this.removeListener(&quot;error&quot;,s),this.destroy(),0===this.listenerCount(&quot;error&quot;)&amp;&amp;this.emit(&quot;error&quot;,e)}e.exports=function(e,t){let r=!0;const a=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on(&quot;message&quot;,(function(t,r){const n=!r&amp;&amp;a._readableState.objectMode?t.toString():t;a.push(n)||e.pause()})),e.once(&quot;error&quot;,(function(e){a.destroyed||(r=!1,a.destroy(e))})),e.once(&quot;close&quot;,(function(){a.destroyed||a.push(null)})),a._destroy=function(t,n){if(e.readyState===e.CLOSED)return n(t),void process.nextTick(i,a);let o=!1;e.once(&quot;error&quot;,(function(e){o=!0,n(e)})),e.once(&quot;close&quot;,(function(){o||n(t),process.nextTick(i,a)})),r&amp;&amp;e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&amp;&amp;(e._socket._writableState.finished?(t(),a._readableState.endEmitted&amp;&amp;a.destroy()):(e._socket.once(&quot;finish&quot;,(function(){t()})),e.close())):e.once(&quot;open&quot;,(function(){a._final(t)}))},a._read=function(){e.isPaused&amp;&amp;e.resume()},a._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once(&quot;open&quot;,(function(){a._write(t,r,n)}))},a.on(&quot;end&quot;,o),a.on(&quot;error&quot;,s),a}},2217:(e,t,r)=&gt;{&quot;use strict&quot;;const{tokenChars:n}=r(1607);e.exports={parse:function(e){const t=new Set;let r=-1,i=-1,o=0;for(;o&lt;e.length;o++){const s=e.charCodeAt(o);if(-1===i&amp;&amp;1===n[s])-1===r&amp;&amp;(r=o);else if(0===o||32!==s&amp;&amp;9!==s){if(44!==s)throw new SyntaxError(`Unexpected character at index ${o}`);{if(-1===r)throw new SyntaxError(`Unexpected character at index ${o}`);-1===i&amp;&amp;(i=o);const n=e.slice(r,i);if(t.has(n))throw new SyntaxError(`The &quot;${n}&quot; subprotocol is duplicated`);t.add(n),r=i=-1}}else-1===i&amp;&amp;-1!==r&amp;&amp;(i=o)}if(-1===r||-1!==i)throw new SyntaxError(&quot;Unexpected end of input&quot;);const s=e.slice(r,o);if(t.has(s))throw new SyntaxError(`The &quot;${s}&quot; subprotocol is duplicated`);return t.add(s),t}}},1607:(e,t,r)=&gt;{&quot;use strict&quot;;function n(e){const t=e.length;let r=0;for(;r&lt;t;)if(0==(128&amp;e[r]))r++;else if(192==(224&amp;e[r])){if(r+1===t||128!=(192&amp;e[r+1])||192==(254&amp;e[r]))return!1;r+=2}else if(224==(240&amp;e[r])){if(r+2&gt;=t||128!=(192&amp;e[r+1])||128!=(192&amp;e[r+2])||224===e[r]&amp;&amp;128==(224&amp;e[r+1])||237===e[r]&amp;&amp;160==(224&amp;e[r+1]))return!1;r+=3}else{if(240!=(248&amp;e[r]))return!1;if(r+3&gt;=t||128!=(192&amp;e[r+1])||128!=(192&amp;e[r+2])||128!=(192&amp;e[r+3])||240===e[r]&amp;&amp;128==(240&amp;e[r+1])||244===e[r]&amp;&amp;e[r+1]&gt;143||e[r]&gt;244)return!1;r+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e&gt;=1e3&amp;&amp;e&lt;=1014&amp;&amp;1004!==e&amp;&amp;1005!==e&amp;&amp;1006!==e||e&gt;=3e3&amp;&amp;e&lt;=4999},isValidUTF8:n,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},!process.env.WS_NO_UTF_8_VALIDATE)try{const t=r(7838);e.exports.isValidUTF8=function(e){return e.length&lt;150?n(e):t(e)}}catch(e){}},58:(e,t,r)=&gt;{&quot;use strict&quot;;const n=r(2361),i=r(3685),{createHash:o}=(r(5687),r(1808),r(4404),r(6113)),s=r(3071),a=r(7567),c=r(2217),l=r(2982),{GUID:p,kWebSocket:u}=r(9864),d=/^[+/0-9A-Za-z]{22}==$/;function h(e){e._state=2,e.emit(&quot;close&quot;)}function f(){this.destroy()}function v(e,t,r,n){r=r||i.STATUS_CODES[t],n={Connection:&quot;close&quot;,&quot;Content-Type&quot;:&quot;text/html&quot;,&quot;Content-Length&quot;:Buffer.byteLength(r),...n},e.once(&quot;finish&quot;,e.destroy),e.end(`HTTP/1.1 ${t} ${i.STATUS_CODES[t]}\r\n`+Object.keys(n).map((e=&gt;`${e}: ${n[e]}`)).join(&quot;\r\n&quot;)+&quot;\r\n\r\n&quot;+r)}function _(e,t,r,n,i){if(e.listenerCount(&quot;wsClientError&quot;)){const n=new Error(i);Error.captureStackTrace(n,_),e.emit(&quot;wsClientError&quot;,n,r,t)}else v(r,n,i)}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:l,...e}).port&amp;&amp;!e.server&amp;&amp;!e.noServer||null!=e.port&amp;&amp;(e.server||e.noServer)||e.server&amp;&amp;e.noServer)throw new TypeError('One and only one of the &quot;port&quot;, &quot;server&quot;, or &quot;noServer&quot; options must be specified');if(null!=e.port?(this._server=i.createServer(((e,t)=&gt;{const r=i.STATUS_CODES[426];t.writeHead(426,{&quot;Content-Length&quot;:r.length,&quot;Content-Type&quot;:&quot;text/plain&quot;}),t.end(r)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&amp;&amp;(this._server=e.server),this._server){const e=this.emit.bind(this,&quot;connection&quot;);this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,&quot;listening&quot;),error:this.emit.bind(this,&quot;error&quot;),upgrade:(t,r,n)=&gt;{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&amp;&amp;(e.perMessageDeflate={}),e.clientTracking&amp;&amp;(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in &quot;noServer&quot; mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&amp;&amp;this.once(&quot;close&quot;,(()=&gt;{e(new Error(&quot;The server is not running&quot;))})),void process.nextTick(h,this);if(e&amp;&amp;this.once(&quot;close&quot;,e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&amp;&amp;(this._removeListeners(),this._removeListeners=this._server=null),this.clients&amp;&amp;this.clients.size?this._shouldEmitClose=!0:process.nextTick(h,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=&gt;{h(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf(&quot;?&quot;);if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on(&quot;error&quot;,f);const i=e.headers[&quot;sec-websocket-key&quot;],o=+e.headers[&quot;sec-websocket-version&quot;];if(&quot;GET&quot;!==e.method)return void _(this,e,t,405,&quot;Invalid HTTP method&quot;);if(&quot;websocket&quot;!==e.headers.upgrade.toLowerCase())return void _(this,e,t,400,&quot;Invalid Upgrade header&quot;);if(!i||!d.test(i))return void _(this,e,t,400,&quot;Missing or invalid Sec-WebSocket-Key header&quot;);if(8!==o&amp;&amp;13!==o)return void _(this,e,t,400,&quot;Missing or invalid Sec-WebSocket-Version header&quot;);if(!this.shouldHandle(e))return void v(t,400);const l=e.headers[&quot;sec-websocket-protocol&quot;];let p=new Set;if(void 0!==l)try{p=c.parse(l)}catch(r){return void _(this,e,t,400,&quot;Invalid Sec-WebSocket-Protocol header&quot;)}const u=e.headers[&quot;sec-websocket-extensions&quot;],h={};if(this.options.perMessageDeflate&amp;&amp;void 0!==u){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=s.parse(u);e[a.extensionName]&amp;&amp;(r.accept(e[a.extensionName]),h[a.extensionName]=r)}catch(r){return void _(this,e,t,400,&quot;Invalid or unacceptable Sec-WebSocket-Extensions header&quot;)}}if(this.options.verifyClient){const s={origin:e.headers[8===o?&quot;sec-websocket-origin&quot;:&quot;origin&quot;],secure:!(!e.socket.authorized&amp;&amp;!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,((o,s,a,c)=&gt;{if(!o)return v(t,s||401,a,c);this.completeUpgrade(h,i,p,e,t,r,n)}));if(!this.options.verifyClient(s))return v(t,401)}this.completeUpgrade(h,i,p,e,t,r,n)}completeUpgrade(e,t,r,n,i,c,l){if(!i.readable||!i.writable)return i.destroy();if(i[u])throw new Error(&quot;server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration&quot;);if(this._state&gt;0)return v(i,503);const d=[&quot;HTTP/1.1 101 Switching Protocols&quot;,&quot;Upgrade: websocket&quot;,&quot;Connection: Upgrade&quot;,`Sec-WebSocket-Accept: ${o(&quot;sha1&quot;).update(t+p).digest(&quot;base64&quot;)}`],_=new this.options.WebSocket(null);if(r.size){const e=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;e&amp;&amp;(d.push(`Sec-WebSocket-Protocol: ${e}`),_._protocol=e)}if(e[a.extensionName]){const t=e[a.extensionName].params,r=s.format({[a.extensionName]:[t]});d.push(`Sec-WebSocket-Extensions: ${r}`),_._extensions=e}this.emit(&quot;headers&quot;,d,n),i.write(d.concat(&quot;\r\n&quot;).join(&quot;\r\n&quot;)),i.removeListener(&quot;error&quot;,f),_.setSocket(i,c,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&amp;&amp;(this.clients.add(_),_.on(&quot;close&quot;,(()=&gt;{this.clients.delete(_),this._shouldEmitClose&amp;&amp;!this.clients.size&amp;&amp;process.nextTick(h,this)}))),l(_,n)}}},2982:(e,t,r)=&gt;{&quot;use strict&quot;;const n=r(2361),i=r(5687),o=r(3685),s=r(1808),a=r(4404),{randomBytes:c,createHash:l}=r(6113),{Readable:p}=r(2781),{URL:u}=r(7310),d=r(7567),h=r(3091),f=r(2091),{BINARY_TYPES:v,EMPTY_BUFFER:_,GUID:m,kForOnEventAttribute:g,kListener:y,kStatusCode:E,kWebSocket:b,NOOP:S}=r(9864),{EventTarget:{addEventListener:w,removeEventListener:T}}=r(5831),{format:x,parse:P}=r(3071),{toBuffer:C}=r(4847),A=Symbol(&quot;kAborted&quot;),I=[8,13],O=[&quot;CONNECTING&quot;,&quot;OPEN&quot;,&quot;CLOSING&quot;,&quot;CLOSED&quot;],R=/^[!#$%&amp;'*+\-.0-9A-Z^_`|a-z~]+$/;class k extends n{constructor(e,t,r){super(),this._binaryType=v[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=_,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol=&quot;&quot;,this._readyState=k.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||(&quot;object&quot;==typeof t&amp;&amp;null!==t?(r=t,t=[]):t=[t]),N(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){v.includes(e)&amp;&amp;(this._binaryType=e,this._receiver&amp;&amp;(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){const n=new h({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new f(e,this._extensions,r.generateMask),this._receiver=n,this._socket=e,n[b]=this,e[b]=this,n.on(&quot;conclude&quot;,F),n.on(&quot;drain&quot;,B),n.on(&quot;error&quot;,H),n.on(&quot;message&quot;,q),n.on(&quot;ping&quot;,V),n.on(&quot;pong&quot;,$),e.setTimeout(0),e.setNoDelay(),t.length&gt;0&amp;&amp;e.unshift(t),e.on(&quot;close&quot;,z),e.on(&quot;data&quot;,K),e.on(&quot;end&quot;,Y),e.on(&quot;error&quot;,X),this._readyState=k.OPEN,this.emit(&quot;open&quot;)}emitClose(){if(!this._socket)return this._readyState=k.CLOSED,void this.emit(&quot;close&quot;,this._closeCode,this._closeMessage);this._extensions[d.extensionName]&amp;&amp;this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=k.CLOSED,this.emit(&quot;close&quot;,this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==k.CLOSED){if(this.readyState===k.CONNECTING){const e=&quot;WebSocket was closed before the connection was established&quot;;return j(this,this._req,e)}this.readyState!==k.CLOSING?(this._readyState=k.CLOSING,this._sender.close(e,t,!this._isServer,(e=&gt;{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&amp;&amp;this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&amp;&amp;(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&amp;&amp;this._socket.end()}}pause(){this.readyState!==k.CONNECTING&amp;&amp;this.readyState!==k.CLOSED&amp;&amp;(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===k.CONNECTING)throw new Error(&quot;WebSocket is not open: readyState 0 (CONNECTING)&quot;);&quot;function&quot;==typeof e?(r=e,e=t=void 0):&quot;function&quot;==typeof t&amp;&amp;(r=t,t=void 0),&quot;number&quot;==typeof e&amp;&amp;(e=e.toString()),this.readyState===k.OPEN?(void 0===t&amp;&amp;(t=!this._isServer),this._sender.ping(e||_,t,r)):U(this,e,r)}pong(e,t,r){if(this.readyState===k.CONNECTING)throw new Error(&quot;WebSocket is not open: readyState 0 (CONNECTING)&quot;);&quot;function&quot;==typeof e?(r=e,e=t=void 0):&quot;function&quot;==typeof t&amp;&amp;(r=t,t=void 0),&quot;number&quot;==typeof e&amp;&amp;(e=e.toString()),this.readyState===k.OPEN?(void 0===t&amp;&amp;(t=!this._isServer),this._sender.pong(e||_,t,r)):U(this,e,r)}resume(){this.readyState!==k.CONNECTING&amp;&amp;this.readyState!==k.CLOSED&amp;&amp;(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===k.CONNECTING)throw new Error(&quot;WebSocket is not open: readyState 0 (CONNECTING)&quot;);if(&quot;function&quot;==typeof t&amp;&amp;(r=t,t={}),&quot;number&quot;==typeof e&amp;&amp;(e=e.toString()),this.readyState!==k.OPEN)return void U(this,e,r);const n={binary:&quot;string&quot;!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(n.compress=!1),this._sender.send(e||_,n,r)}terminate(){if(this.readyState!==k.CLOSED){if(this.readyState===k.CONNECTING){const e=&quot;WebSocket was closed before the connection was established&quot;;return j(this,this._req,e)}this._socket&amp;&amp;(this._readyState=k.CLOSING,this._socket.destroy())}}}function N(e,t,r,n){const s={protocolVersion:I[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:&quot;GET&quot;,host:void 0,path:void 0,port:void 0};if(!I.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${I.join(&quot;, &quot;)})`);let a;if(t instanceof u)a=t,e._url=t.href;else{try{a=new u(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}const p=&quot;wss:&quot;===a.protocol,h=&quot;ws+unix:&quot;===a.protocol;let f;if(&quot;ws:&quot;===a.protocol||p||h?h&amp;&amp;!a.pathname?f=&quot;The URL's pathname is empty&quot;:a.hash&amp;&amp;(f=&quot;The URL contains a fragment identifier&quot;):f='The URL\'s protocol must be one of &quot;ws:&quot;, &quot;wss:&quot;, or &quot;ws+unix:&quot;',f){const t=new SyntaxError(f);if(0===e._redirects)throw t;return void D(e,t)}const v=p?443:80,_=c(16).toString(&quot;base64&quot;),g=p?i.request:o.request,y=new Set;let E,b;if(s.createConnection=p?L:M,s.defaultPort=s.defaultPort||v,s.port=a.port||v,s.host=a.hostname.startsWith(&quot;[&quot;)?a.hostname.slice(1,-1):a.hostname,s.headers={...s.headers,&quot;Sec-WebSocket-Version&quot;:s.protocolVersion,&quot;Sec-WebSocket-Key&quot;:_,Connection:&quot;Upgrade&quot;,Upgrade:&quot;websocket&quot;},s.path=a.pathname+a.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&amp;&amp;(E=new d(!0!==s.perMessageDeflate?s.perMessageDeflate:{},!1,s.maxPayload),s.headers[&quot;Sec-WebSocket-Extensions&quot;]=x({[d.extensionName]:E.offer()})),r.length){for(const e of r){if(&quot;string&quot;!=typeof e||!R.test(e)||y.has(e))throw new SyntaxError(&quot;An invalid or duplicated subprotocol was specified&quot;);y.add(e)}s.headers[&quot;Sec-WebSocket-Protocol&quot;]=r.join(&quot;,&quot;)}if(s.origin&amp;&amp;(s.protocolVersion&lt;13?s.headers[&quot;Sec-WebSocket-Origin&quot;]=s.origin:s.headers.Origin=s.origin),(a.username||a.password)&amp;&amp;(s.auth=`${a.username}:${a.password}`),h){const e=s.path.split(&quot;:&quot;);s.socketPath=e[0],s.path=e[1]}if(s.followRedirects){if(0===e._redirects){e._originalUnixSocket=h,e._originalSecure=p,e._originalHostOrSocketPath=h?s.socketPath:a.host;const t=n&amp;&amp;n.headers;if(n={...n,headers:{}},t)for(const[e,r]of Object.entries(t))n.headers[e.toLowerCase()]=r}else if(0===e.listenerCount(&quot;redirect&quot;)){const t=h?!!e._originalUnixSocket&amp;&amp;s.socketPath===e._originalHostOrSocketPath:!e._originalUnixSocket&amp;&amp;a.host===e._originalHostOrSocketPath;(!t||e._originalSecure&amp;&amp;!p)&amp;&amp;(delete s.headers.authorization,delete s.headers.cookie,t||delete s.headers.host,s.auth=void 0)}s.auth&amp;&amp;!n.headers.authorization&amp;&amp;(n.headers.authorization=&quot;Basic &quot;+Buffer.from(s.auth).toString(&quot;base64&quot;)),b=e._req=g(s),e._redirects&amp;&amp;e.emit(&quot;redirect&quot;,e.url,b)}else b=e._req=g(s);s.timeout&amp;&amp;b.on(&quot;timeout&quot;,(()=&gt;{j(e,b,&quot;Opening handshake has timed out&quot;)})),b.on(&quot;error&quot;,(t=&gt;{null===b||b[A]||(b=e._req=null,D(e,t))})),b.on(&quot;response&quot;,(i=&gt;{const o=i.headers.location,a=i.statusCode;if(o&amp;&amp;s.followRedirects&amp;&amp;a&gt;=300&amp;&amp;a&lt;400){if(++e._redirects&gt;s.maxRedirects)return void j(e,b,&quot;Maximum redirects exceeded&quot;);let i;b.abort();try{i=new u(o,t)}catch(t){const r=new SyntaxError(`Invalid URL: ${o}`);return void D(e,r)}N(e,i,r,n)}else e.emit(&quot;unexpected-response&quot;,b,i)||j(e,b,`Unexpected server response: ${i.statusCode}`)})),b.on(&quot;upgrade&quot;,((t,r,n)=&gt;{if(e.emit(&quot;upgrade&quot;,t),e.readyState!==k.CONNECTING)return;if(b=e._req=null,&quot;websocket&quot;!==t.headers.upgrade.toLowerCase())return void j(e,r,&quot;Invalid Upgrade header&quot;);const i=l(&quot;sha1&quot;).update(_+m).digest(&quot;base64&quot;);if(t.headers[&quot;sec-websocket-accept&quot;]!==i)return void j(e,r,&quot;Invalid Sec-WebSocket-Accept header&quot;);const o=t.headers[&quot;sec-websocket-protocol&quot;];let a;if(void 0!==o?y.size?y.has(o)||(a=&quot;Server sent an invalid subprotocol&quot;):a=&quot;Server sent a subprotocol but none was requested&quot;:y.size&amp;&amp;(a=&quot;Server sent no subprotocol&quot;),a)return void j(e,r,a);o&amp;&amp;(e._protocol=o);const c=t.headers[&quot;sec-websocket-extensions&quot;];if(void 0!==c){if(!E)return void j(e,r,&quot;Server sent a Sec-WebSocket-Extensions header but no extension was requested&quot;);let t;try{t=P(c)}catch(t){return void j(e,r,&quot;Invalid Sec-WebSocket-Extensions header&quot;)}const n=Object.keys(t);if(1!==n.length||n[0]!==d.extensionName)return void j(e,r,&quot;Server indicated an extension that was not requested&quot;);try{E.accept(t[d.extensionName])}catch(t){return void j(e,r,&quot;Invalid Sec-WebSocket-Extensions header&quot;)}e._extensions[d.extensionName]=E}e.setSocket(r,n,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})})),b.end()}function D(e,t){e._readyState=k.CLOSING,e.emit(&quot;error&quot;,t),e.emitClose()}function M(e){return e.path=e.socketPath,s.connect(e)}function L(e){return e.path=void 0,e.servername||&quot;&quot;===e.servername||(e.servername=s.isIP(e.host)?&quot;&quot;:e.host),a.connect(e)}function j(e,t,r){e._readyState=k.CLOSING;const n=new Error(r);Error.captureStackTrace(n,j),t.setHeader?(t[A]=!0,t.abort(),t.socket&amp;&amp;!t.socket.destroyed&amp;&amp;t.socket.destroy(),process.nextTick(D,e,n)):(t.destroy(n),t.once(&quot;error&quot;,e.emit.bind(e,&quot;error&quot;)),t.once(&quot;close&quot;,e.emitClose.bind(e)))}function U(e,t,r){if(t){const r=C(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}r&amp;&amp;r(new Error(`WebSocket is not open: readyState ${e.readyState} (${O[e.readyState]})`))}function F(e,t){const r=this[b];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[b]&amp;&amp;(r._socket.removeListener(&quot;data&quot;,K),process.nextTick(W,r._socket),1005===e?r.close():r.close(e,t))}function B(){const e=this[b];e.isPaused||e._socket.resume()}function H(e){const t=this[b];void 0!==t._socket[b]&amp;&amp;(t._socket.removeListener(&quot;data&quot;,K),process.nextTick(W,t._socket),t.close(e[E])),t.emit(&quot;error&quot;,e)}function G(){this[b].emitClose()}function q(e,t){this[b].emit(&quot;message&quot;,e,t)}function V(e){const t=this[b];t.pong(e,!t._isServer,S),t.emit(&quot;ping&quot;,e)}function $(e){this[b].emit(&quot;pong&quot;,e)}function W(e){e.resume()}function z(){const e=this[b];let t;this.removeListener(&quot;close&quot;,z),this.removeListener(&quot;data&quot;,K),this.removeListener(&quot;end&quot;,Y),e._readyState=k.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[b]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on(&quot;error&quot;,G),e._receiver.on(&quot;finish&quot;,G))}function K(e){this[b]._receiver.write(e)||this.pause()}function Y(){const e=this[b];e._readyState=k.CLOSING,e._receiver.end(),this.end()}function X(){const e=this[b];this.removeListener(&quot;error&quot;,X),this.on(&quot;error&quot;,S),e&amp;&amp;(e._readyState=k.CLOSING,this.destroy())}Object.defineProperty(k,&quot;CONNECTING&quot;,{enumerable:!0,value:O.indexOf(&quot;CONNECTING&quot;)}),Object.defineProperty(k.prototype,&quot;CONNECTING&quot;,{enumerable:!0,value:O.indexOf(&quot;CONNECTING&quot;)}),Object.defineProperty(k,&quot;OPEN&quot;,{enumerable:!0,value:O.indexOf(&quot;OPEN&quot;)}),Object.defineProperty(k.prototype,&quot;OPEN&quot;,{enumerable:!0,value:O.indexOf(&quot;OPEN&quot;)}),Object.defineProperty(k,&quot;CLOSING&quot;,{enumerable:!0,value:O.indexOf(&quot;CLOSING&quot;)}),Object.defineProperty(k.prototype,&quot;CLOSING&quot;,{enumerable:!0,value:O.indexOf(&quot;CLOSING&quot;)}),Object.defineProperty(k,&quot;CLOSED&quot;,{enumerable:!0,value:O.indexOf(&quot;CLOSED&quot;)}),Object.defineProperty(k.prototype,&quot;CLOSED&quot;,{enumerable:!0,value:O.indexOf(&quot;CLOSED&quot;)}),[&quot;binaryType&quot;,&quot;bufferedAmount&quot;,&quot;extensions&quot;,&quot;isPaused&quot;,&quot;protocol&quot;,&quot;readyState&quot;,&quot;url&quot;].forEach((e=&gt;{Object.defineProperty(k.prototype,e,{enumerable:!0})})),[&quot;open&quot;,&quot;error&quot;,&quot;close&quot;,&quot;message&quot;].forEach((e=&gt;{Object.defineProperty(k.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[g])return t[y];return null},set(t){for(const t of this.listeners(e))if(t[g]){this.removeListener(e,t);break}&quot;function&quot;==typeof t&amp;&amp;this.addEventListener(e,t,{[g]:!0})}})})),k.prototype.addEventListener=w,k.prototype.removeEventListener=T,e.exports=k},9166:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;applicationinsights-native-metrics&quot;)},8447:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;bufferutil&quot;)},7838:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;utf-8-validate&quot;)},9496:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;vscode&quot;)},9491:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;assert&quot;)},852:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;async_hooks&quot;)},2081:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;child_process&quot;)},6206:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;console&quot;)},2057:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;constants&quot;)},6113:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;crypto&quot;)},9523:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;dns&quot;)},2361:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;events&quot;)},7147:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;fs&quot;)},3685:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;http&quot;)},5687:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;https&quot;)},8188:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;module&quot;)},1808:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;net&quot;)},2037:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;os&quot;)},1017:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;path&quot;)},4074:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;perf_hooks&quot;)},2781:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;stream&quot;)},9512:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;timers&quot;)},4404:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;tls&quot;)},7310:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;url&quot;)},3837:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;util&quot;)},9796:e=&gt;{&quot;use strict&quot;;e.exports=require(&quot;zlib&quot;)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.o=(e,t)=&gt;Object.prototype.hasOwnProperty.call(e,t);var n={};(()=&gt;{&quot;use strict&quot;;var e=n;Object.defineProperty(e,&quot;__esModule&quot;,{value:!0}),e.deactivate=e.activate=void 0,r(1716);const t=r(9496),i=r(5719),o=r(1265),s=r(1362),a=r(8767),c=r(8802);let l,p;e.activate=function(e){var r,n,u;const d=e.extension.packageJSON;l=new i.default(o.EXTENSION_ID,d.version,d.aiKey),p=new c.Manager(e.extensionUri,l,s.PathUtil.GetUserDataDirFromStorageUri(null===(r=e.storageUri)||void 0===r?void 0:r.fsPath)),l.sendTelemetryEvent(&quot;extension.startUp&quot;,{},{numWorkspaceFolders:null!==(u=null===(n=t.workspace.workspaceFolders)||void 0===n?void 0:n.length)&amp;&amp;void 0!==u?u:0}),e.subscriptions.push(l),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.start`,(async()=&gt;{var e,r;const n=null===(e=t.window.activeTextEditor)||void 0===e?void 0:e.document.uri,i=n?t.workspace.getWorkspaceFolder(n):null===(r=t.workspace.workspaceFolders)||void 0===r?void 0:r[0],o=a.SettingUtil.GetConfig(i).defaultPreviewPath;await p.openPreviewAtFileString(o,void 0,!0)}))),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.start.preview.atFileString`,(async e=&gt;{e=null!=e?e:&quot;/&quot;,await p.openPreviewAtFileString(e)}))),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.start.preview.atFile`,(async(e,t)=&gt;{await p.openPreviewAtFileUri(e,t)}))),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.start.debugPreview.atFile`,(async(e,t)=&gt;{await p.openPreviewAtFileUri(e,t,a.PreviewType.externalDebugPreview)}))),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.start.externalPreview.atFile`,(async(e,t)=&gt;{l.sendTelemetryEvent(&quot;preview&quot;,{type:&quot;external&quot;,location:&quot;atFile&quot;,debug:&quot;false&quot;}),await p.openPreviewAtFileUri(e,t,a.PreviewType.externalPreview)}))),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.start.internalPreview.atFile`,(async(e,t)=&gt;{l.sendTelemetryEvent(&quot;preview&quot;,{type:&quot;internal&quot;,location:&quot;atFile&quot;}),await p.openPreviewAtFileUri(e,t,a.PreviewType.internalPreview)}))),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.start.externalDebugPreview.atFile`,(async(e,t)=&gt;{l.sendTelemetryEvent(&quot;preview&quot;,{type:&quot;external&quot;,location:&quot;atFile&quot;,debug:&quot;true&quot;}),await p.openPreviewAtFileUri(e,t,a.PreviewType.externalDebugPreview)}))),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.runServerLoggingTask`,(async e=&gt;{await p.runTaskForFile(e)}))),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.end`,(()=&gt;{l.sendTelemetryEvent(&quot;server.forceClose&quot;),p.forceCloseServers()}))),e.subscriptions.push(t.commands.registerCommand(`${a.SETTINGS_SECTION_ID}.setDefaultOpenFile`,(async e=&gt;{const r=t.workspace.getWorkspaceFolder(e);if(!r)return void await a.SettingUtil.UpdateSettings(a.Settings.defaultPreviewPath,s.PathUtil.ConvertToPosixPath(e.fsPath),t.ConfigurationTarget.Global);const n=e.fsPath.substring(r.uri.fsPath.length);await a.SettingUtil.UpdateSettings(a.Settings.defaultPreviewPath,s.PathUtil.ConvertToPosixPath(n),t.ConfigurationTarget.WorkspaceFolder,e)})))},e.deactivate=function(){p.closePanel(),p.dispose()}})(),module.exports=n})();
</failure>
		</testcase>
	</testsuite>
</testsuites>
